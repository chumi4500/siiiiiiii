var __cx;!function(){var requirejs,require,define;__cx&&__cx.requirejs||(__cx?require=__cx:__cx={},function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){if(e)for(var n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,i,a){return e&&eachProp(e,function(e,t){!i&&hasProp(n,t)||(!a||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,i,a)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){t=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}function newContext(c){function h(e,t,n){var i,a,r,o,s,c,l,d,u,h=t&&t.split("/"),p=_.map,f=p&&p["*"];if(e&&(t=(e=e.split("/")).length-1,_.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,"")),function(e){for(var t,n=0;n<e.length;n++)if("."===(t=e[n]))e.splice(n,1),--n;else if(".."===t){if(0===n||1===n&&".."===e[2]||".."===e[n-1])continue;0<n&&(e.splice(n-1,2),n-=2)}}(e="."===e[0].charAt(0)&&h?h.slice(0,h.length-1).concat(e):e),e=e.join("/")),n&&p&&(h||f)){e:for(r=(a=e.split("/")).length;0<r;--r){if(s=a.slice(0,r).join("/"),h)for(o=h.length;0<o;--o)if(i=(i=getOwn(p,h.slice(0,o).join("/")))&&getOwn(i,s)){c=i,l=r;break e}!d&&f&&getOwn(f,s)&&(d=getOwn(f,s),u=r)}!c&&d&&(c=d,l=u),c&&(a.splice(0,l,c),e=a.join("/"))}return getOwn(_.pkgs,e)||e}function l(t){isBrowser&&each(scripts(),function(e){return e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===C.contextName?(e.parentNode.removeChild(e),!0):void 0})}function d(e){var t=getOwn(_.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),C.require.undef(e),C.makeRequire(null,{skipMap:!0})([e]),1)}function p(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e,t,n,i){var a,r,o,s=null,c=t?t.name:null,l=e,d=!0,u="";return e||(d=!1,e="_@r"+(D+=1)),s=(o=p(e))[0],e=o[1],s&&(s=h(s,c,i),r=getOwn(L,s)),e&&(s?u=r&&r.normalize?r.normalize(e,function(e){return h(e,c,i)}):-1===e.indexOf("!")?h(e,c,i):e:(s=(o=p(u=h(e,c,i)))[0],u=o[1],n=!0,a=C.nameToUrl(u))),{prefix:s,name:u,parentMap:t,unnormalized:!!(n=!s||r||n?"":"_unnormalized"+(M+=1)),url:a,originalName:l,isDefine:d,id:(s?s+"!"+u:u)+n}}function f(e){var t=e.id;return getOwn(T,t)||(T[t]=new C.Module(e))}function m(e,t,n){var i=e.id,a=getOwn(T,i);!hasProp(L,i)||a&&!a.defineEmitComplete?(a=f(e)).error&&"error"===t?n(a.error):a.on(t,n):"defined"===t&&n(L[i])}function g(t,e){var n=t.requireModules,i=!1;e?e(t):(each(n,function(e){e=getOwn(T,e);e&&(e.error=t,e.events.error&&(i=!0,e.emit("error",t)))}),i||req.onError(t))}function v(){globalDefQueue.length&&(apsp.apply(E,[E.length,0].concat(globalDefQueue)),globalDefQueue=[])}function b(e){delete T[e],delete S[e]}function x(){var i,e=1e3*_.waitSeconds,a=e&&C.startTime+e<(new Date).getTime(),r=[],o=[],s=!1,c=!0;if(!w){if(w=!0,eachProp(S,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&a)d(n)?s=i=!0:(r.push(n),l(n));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return c=!1}),a&&r.length)return(e=makeError("timeout","Load timeout for modules: "+r,null,r)).contextName=C.contextName,g(e),0;c&&each(o,function(e){!function i(a,r,o){var e=a.map.id;a.error?a.emit("error",a.error):(r[e]=!0,each(a.depMaps,function(e,t){var n=e.id;!(e=getOwn(T,n))||a.depMatched[t]||o[n]||(getOwn(r,n)?(a.defineDep(t,L[n]),a.check()):i(e,r,o))}),o[e]=!0)}(e,{},{})}),a&&!i||!s||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,x()},50)),w=!1}}function o(e){hasProp(L,e[0])||f(u(e[0],null,!0)).init(e[1],e[2])}function t(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function n(e){e=e.currentTarget||e.srcElement;return t(e,C.onScriptLoad,"load","onreadystatechange"),t(e,C.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function y(){var e;for(v();E.length;){if(null===(e=E.shift())[0])return g(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1])),0;o(e)}}var w,C,k,_={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},T={},S={},i={},E=[],L={},a={},A={},D=1,M=1,I={require:function(e){return e.require||(e.require=C.makeRequire(e.map))},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?L[e.map.id]=e.exports:e.exports=L[e.map.id]={}:void 0},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(_.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},e=function(e){this.events=getOwn(i,e.id)||{},this.map=e,this.shim=getOwn(_.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0};return e.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,C.startTime=(new Date).getTime();var e=this.map;return this.shim?void C.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.on()})):e.prefix?this.callPlugin():this.on()}},load:function(){var e=this.map.url;a[e]||(a[e]=!0,C.on(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e=this.map.id,n=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=C.execCb(e,a,n,i)}catch(e){t=e}else i=C.execCb(e,a,n,i);if(this.map.isDefine&&void 0===i&&((n=this.module)?i=n.exports:this.usingExports&&(i=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",g(this.error=t)}else i=a;this.exports=i,this.map.isDefine&&!this.ignore&&(L[e]=i,req.onResourceLoad&&req.onResourceLoad(C,this.map,this.depMaps)),b(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var s=this.map,c=s.id,e=u(s.prefix);this.depMaps.push(e),m(e,"defined",bind(this,function(e){var r,t,n=getOwn(A,this.map.id),i=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,o=C.makeRequire(s.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return h(e,a,!0)})||""),m(t=u(s.prefix+"!"+i,this.map.parentMap),"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((i=getOwn(T,t.id))&&(this.depMaps.push(t),this.events.error&&i.on("error",bind(this,function(e){this.emit("error",e)})),i.enable()))):n?(this.map.url=C.nameToUrl(n),void this.on()):((r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[c],eachProp(T,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&b(e.map.id)}),g(e)}),r.fromText=bind(this,function(e,t){var n=s.name,i=u(n),a=useInteractive;t&&(e=t),a&&(useInteractive=!1),f(i),hasProp(_.config,c)&&(_.config[n]=_.config[c]);try{req.exec(e)}catch(e){return g(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}a&&(useInteractive=!0),this.depMaps.push(i),C.completeLoad(n),o([n],r)}),void e.on(s.name,o,r,_))})),C.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(S[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i;if("string"==typeof e){if(e=u(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(I,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,m(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?m(e,"error",bind(this,this.errback)):this.events.error&&m(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,i=T[n],hasProp(I,n)||!i||i.enabled||C.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(T,e.id);t&&!t.enabled&&C.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(C={config:_,contextName:c,registry:T,defined:L,urlFetched:a,defQueue:E,Module:e,makeModuleMap:u,nextTick:req.nextTick,onError:g,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var n=_.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(_[t]||(_[t]={}),mixin(_[t],e,!0,!0)):_[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){!(e=isArray(e)?{deps:e}:e).exports&&!e.init||e.exportsFn||(e.exportsFn=C.makeShimExports(e)),n[t]=e}),_.shim=n),e.packages&&each(e.packages,function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(_.paths[t]=e.location),_.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(T,function(e,t){e.inited||e.map.unnormalized||(e.map=u(t,null,!0))}),(e.deps||e.callback)&&C.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return(e=t.init?t.init.apply(global,arguments):e)||t.exports&&getGlobal(t.exports)}},makeRequire:function(r,o){function s(e,t,n){var i,a;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?g(makeError("requireargs","Invalid require call"),n):r&&hasProp(I,e)?I[e](T[r.id]):req.get?req.get(C,e,r,s):(i=u(e,r,!1,!0).id,hasProp(L,i)?L[i]:g(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+c+(r?"":". Use require([])")))):(y(),C.nextTick(function(){y(),(a=f(u(null,r))).skipMap=o.skipMap,a.init(e,t,n,{enabled:!0}),x()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),i=e.split("/")[0];return-1!==n&&(!("."===i||".."===i)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),C.nameToUrl(h(e,r&&r.id,!0),t,!0)},defined:function(e){return hasProp(L,u(e,r,!1,!0).id)},specified:function(e){return e=u(e,r,!1,!0).id,hasProp(L,e)||hasProp(T,e)}}),r||(s.undef=function(n){v();var e=u(n,r,!0),t=getOwn(T,n);t.undefed=!0,l(n),delete L[n],delete a[e.url],delete i[n],eachReverse(E,function(e,t){e[0]===n&&E.splice(t,1)}),t&&(t.events.defined&&(i[n]=t.events),b(n))}),s},enable:function(e){getOwn(T,e.id)&&f(e).enable()},completeLoad:function(e){var t,n,i,a=getOwn(_.shim,e)||{},r=a.exports;for(v();E.length;){if(null===(n=E.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(i=getOwn(T,e),!t&&!hasProp(L,e)&&i&&!i.inited){if(!(!_.enforceDefine||r&&getGlobal(r)))return d(e)?void 0:g(makeError("nodefine","No define call for "+e,null,[e]));o([e,a.deps||[],a.exportsFn])}x()},nameToUrl:function(e,t,n){var i,a,r,o,s,c=getOwn(_.pkgs,e);if(c=getOwn(A,e=c?c:e))return C.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=_.paths,r=(a=e.split("/")).length;0<r;--r)if(s=getOwn(i,a.slice(0,r).join("/"))){isArray(s)&&(s=s[0]),a.splice(0,r,s);break}o=a.join("/"),o=("/"===(o+=t||(/^data\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":_.baseUrl)+o}return _.urlArgs?o+((-1===o.indexOf("?")?"?":"&")+_.urlArgs):o},load:function(e,t){req.on(C,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=n(e),C.completeLoad(e.id))},onScriptError:function(e){var t=n(e);return d(t.id)?void 0:g(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}}).require=C.makeRequire(),C}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.18",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var a,r=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=i):e=[]),a&&a.context&&(r=a.context),i=(i=getOwn(contexts,r))||(contexts[r]=req.s.newContext(r)),a&&i.configure(a),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(t,n,i){var e=t&&t.config||{};if(isBrowser)return(e=req.createNode(e,n,i)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=i,currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{importScripts(i),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+i,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head=head||e.parentNode,(dataMain=e.getAttribute("data-main"))?(mainScript=dataMain,cfg.baseUrl||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,n,t){var i,a;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),!useInteractive||(i=currentlyAddingScript||getInteractiveScript())&&(e=e||i.getAttribute("data-requiremodule"),a=contexts[i.getAttribute("data-requirecontext")]),(a?a.defQueue:globalDefQueue).push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),__cx.requirejs=requirejs,__cx.require=require,__cx.define=define)}(),__cx.define("requireLib",function(){}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(f){function s(e){var t="length"in e&&e.length,n=$.type(e);return"function"!==n&&!$.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}function t(e,n,i){if($.isFunction(n))return $.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return $.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(ne.test(n))return $.filter(n,e,i);n=$.filter(n,e)}return $.grep(e,function(e){return 0<=$.inArray(e,n)!==i})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",a,!1),f.removeEventListener("load",a,!1)):(ie.detachEvent("onreadystatechange",a),f.detachEvent("onload",a))}function a(){!ie.addEventListener&&"load"!==event.type&&"complete"!==ie.readyState||(i(),$.ready())}function c(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(fe,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:pe.test(n)?$.parseJSON(n):n)}catch(e){}$.data(e,t,n)}else n=void 0}return n}function l(e){for(var t in e)if(("data"!==t||!$.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}function r(e,t,n,i){if($.acceptData(e)){var a,r=$.expando,o=e.nodeType,s=o?$.cache:e,c=o?e[r]:e[r]&&r;if(c&&s[c]&&(i||s[c].data)||void 0!==n||"string"!=typeof t)return s[c=c||(o?e[r]=H.pop()||$.guid++:r)]||(s[c]=o?{}:{toJSON:$.noop}),"object"!=typeof t&&"function"!=typeof t||(i?s[c]=$.extend(s[c],t):s[c].data=$.extend(s[c].data,t)),c=s[c],i||(c.data||(c.data={}),c=c.data),void 0!==n&&(c[$.camelCase(t)]=n),"string"==typeof t?null==(a=c[t])&&(a=c[$.camelCase(t)]):a=c,a}}function o(e,t,n){if($.acceptData(e)){var i,a,r=e.nodeType,o=r?$.cache:e,s=r?e[$.expando]:$.expando;if(o[s]){if(t&&(i=n?o[s]:o[s].data)){a=(t=$.isArray(t)?t.concat($.map(t,$.camelCase)):t in i?[t]:(t=$.camelCase(t))in i?[t]:t.split(" ")).length;for(;a--;)delete i[t[a]];if(n?!l(i):!$.isEmptyObject(i))return}(n||(delete o[s].data,l(o[s])))&&(r?$.cleanData([e],!0):G.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function d(){return!0}function u(){return!1}function e(){try{return ie.activeElement}catch(e){}}function m(e){var t=Te.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,a=0,r=typeof e.getElementsByTagName!==he?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==he?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||$.nodeName(i,t)?r.push(i):$.merge(r,g(i,t));return void 0===t||t&&$.nodeName(e,t)?$.merge([e],r):r}function v(e){xe.test(e.type)&&(e.defaultChecked=e.checked)}function h(e,t){return $.nodeName(e,"table")&&$.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==$.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,i=0;null!=(n=e[i]);i++)$._data(n,"globalEval",!t||$._data(t[i],"globalEval"))}function p(e,t){if(1===t.nodeType&&$.hasData(e)){var n,i,a,r=$._data(e),e=$._data(t,r),o=r.events;if(o)for(n in delete e.handle,e.events={},o)for(i=0,a=o[n].length;i<a;i++)$.event.add(t,n,o[n][i]);e.data&&(e.data=$.extend({},e.data))}}function w(e,t){var t=$(t.createElement(e)).appendTo(t.body),n=f.getDefaultComputedStyle&&(n=f.getDefaultComputedStyle(t[0]))?n.display:$.css(t[0],"display");return t.detach(),n}function C(e){var t=ie,n=qe[e];return n||("none"!==(n=w(e,t))&&n||((t=((He=(He||$("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||He[0].contentDocument).document).write(),t.close(),n=w(e,t),He.detach()),qe[e]=n),n}function k(t,n){return{get:function(){var e=t();return null!=e?e?void delete this.get:(this.get=n).apply(this,arguments):void 0}}}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=ot.length;a--;)if((t=ot[a]+n)in e)return t;return i}function T(e,t){for(var n,i,a,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(r[o]=$._data(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&me(i)&&(r[o]=$._data(i,"olddisplay",C(i.nodeName)))):(a=me(i),(n&&"none"!==n||!a)&&$._data(i,"olddisplay",a?n:$.css(i,"display"))));for(o=0;o<s;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function S(e,t,n){var i=nt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function E(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===n&&(o+=$.css(e,n+ve[r],!0,a)),i?("content"===n&&(o-=$.css(e,"padding"+ve[r],!0,a)),"margin"!==n&&(o-=$.css(e,"border"+ve[r]+"Width",!0,a))):(o+=$.css(e,"padding"+ve[r],!0,a),"padding"!==n&&(o+=$.css(e,"border"+ve[r]+"Width",!0,a)));return o}function L(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=We(e),o=G.boxSizing&&"border-box"===$.css(e,"boxSizing",!1,r);if(a<=0||null==a){if(((a=Ue(e,t,r))<0||null==a)&&(a=e.style[t]),Qe.test(a))return a;i=o&&(G.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+E(e,t,n||(o?"border":"content"),i,r)+"px"}function A(e,t,n,i,a){return new A.prototype.init(e,t,n,i,a)}function D(){return setTimeout(function(){st=void 0}),st=$.now()}function M(e,t){var n,i={height:e},a=0;for(t=t?1:0;a<4;a+=2-t)i["margin"+(n=ve[a])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function I(e,t,n){for(var i,a=(gt[t]||[]).concat(gt["*"]),r=0,o=a.length;r<o;r++)if(i=a[r].call(n,t,e))return i}function j(a,e,t){var n,r,i=0,o=mt.length,s=$.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=st||D(),e=Math.max(0,l.startTime+l.duration-e),t=1-(e/l.duration||0),n=0,i=l.tweens.length;n<i;n++)l.tweens[n].run(t);return s.notifyWith(a,[l,t,e]),t<1&&i?e:(s.resolveWith(a,[l]),!1)},l=s.promise({elem:a,props:$.extend({},e),opts:$.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:st||D(),duration:t.duration,tweens:[],createTween:function(e,t){e=$.Tween(a,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(e),e},stop:function(e){var t=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)l.tweens[t].run(1);return e?s.resolveWith(a,[l,e]):s.rejectWith(a,[l,e]),this}}),d=l.props;for(function(e,t){var n,i,a,r,o;for(n in e)if(i=$.camelCase(n),a=t[i],r=e[n],$.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),o=$.cssHooks[i],o&&"expand"in o)for(n in r=o.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=a);else t[i]=a}(d,l.opts.specialEasing);i<o;i++)if(n=mt[i].call(l,a,d,l.opts))return n;return $.map(d,I,l),$.isFunction(l.opts.start)&&l.opts.start.call(a,l),$.fx.timer($.extend(c,{elem:a,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,a=e.toLowerCase().match(le)||[];if($.isFunction(t))for(;n=a[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function P(t,i,a,r){function o(e){var n;return s[e]=!0,$.each(t[e]||[],function(e,t){t=t(i,a,r);return"string"!=typeof t||c||s[t]?c?!(n=t):void 0:(i.dataTypes.unshift(t),o(t),!1)}),n}var s={},c=t===Rt;return o(i.dataTypes[0])||!s["*"]&&o("*")}function O(e,t){var n,i,a=$.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n=n||{})[i]=t[i]);return n&&$.extend(!0,e,n),e}function z(){try{return new f.XMLHttpRequest}catch(e){}}function F(e){return $.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function R(e,t){return t.toUpperCase()}var H=[],B=H.slice,q=H.concat,W=H.push,U=H.indexOf,X={},Y=X.toString,V=X.hasOwnProperty,G={},$=function(e,t){return new $.fn.init(e,t)},Q=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,K=/^-ms-/,J=/-([\da-z])/gi;$.fn=$.prototype={jquery:"1.11.3",constructor:$,selector:"",length:0,toArray:function(){return B.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:B.call(this)},pushStack:function(e){e=$.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e,t){return $.each(this,e,t)},map:function(n){return this.pushStack($.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:H.sort,splice:H.splice},$.extend=$.fn.extend=function(){var e,t,n,i,a,r=arguments[0]||{},o=1,s=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[o]||{},o++),"object"==typeof r||$.isFunction(r)||(r={}),o===s&&(r=this,o--);o<s;o++)if(null!=(i=arguments[o]))for(n in i)a=r[n],t=i[n],r!==t&&(c&&t&&($.isPlainObject(t)||(e=$.isArray(t)))?(a=e?(e=!1,a&&$.isArray(a)?a:[]):a&&$.isPlainObject(a)?a:{},r[n]=$.extend(c,a,t)):void 0!==t&&(r[n]=t));return r},$.extend({expando:"jQuery"+("1.11.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===$.type(e)},isArray:Array.isArray||function(e){return"array"===$.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!$.isArray(e)&&0<=e-parseFloat(e)+1},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==$.type(e)||e.nodeType||$.isWindow(e))return!1;try{if(e.constructor&&!V.call(e,"constructor")&&!V.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(G.ownLast)for(var t in e)return V.call(e,t);for(t in e);return void 0===t||V.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[Y.call(e)]||"object":typeof e},globalEval:function(e){e&&$.trim(e)&&(f.execScript||function(e){f.eval.call(f,e)})(e)},camelCase:function(e){return e.replace(K,"ms-").replace(J,R)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,a=0,r=e.length,o=s(e);if(n){if(o)for(;a<r&&!1!==(i=t.apply(e[a],n));a++);else for(a in e)if(i=t.apply(e[a],n),!1===i)break}else if(o)for(;a<r&&!1!==(i=t.call(e[a],a,e[a]));a++);else for(a in e)if(i=t.call(e[a],a,e[a]),!1===i)break;return e},trim:function(e){return null==e?"":(e+"").replace(Q,"")},makeArray:function(e,t){t=t||[];return null!=e&&(s(Object(e))?$.merge(t,"string"==typeof e?[e]:e):W.call(t,e)),t},inArray:function(e,t,n){var i;if(t){if(U)return U.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;)e[a++]=t[i++];if(n!=n)for(;void 0!==t[i];)e[a++]=t[i++];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,r=e.length,o=!n;a<r;a++)!t(e[a],a)!=o&&i.push(e[a]);return i},map:function(e,t,n){var i,a=0,r=e.length,o=[];if(s(e))for(;a<r;a++)null!=(i=t(e[a],a,n))&&o.push(i);else for(a in e)i=t(e[a],a,n),null!=i&&o.push(i);return q.apply([],o)},guid:1,proxy:function(e,t){var n,i;return"string"==typeof t&&(i=e[t],t=e,e=i),$.isFunction(e)?(n=B.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(B.call(arguments)))}).guid=e.guid=e.guid||$.guid++,i):void 0},now:function(){return+new Date},support:G}),$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()});var Z=function(n){function y(e,t,n,i){var a,r,o,s,c,l,d;if((t?t.ownerDocument||t:F)!==D&&A(t),n=n||[],a=(t=t||D).nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&I){if(11!==a&&(l=me.exec(e)))if(d=l[1]){if(9===a){if(!(s=t.getElementById(d))||!s.parentNode)return n;if(s.id===d)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(d))&&O(t,s)&&s.id===d)return n.push(s),n}else{if(l[2])return $.apply(n,t.getElementsByTagName(e)),n;if((d=l[3])&&g.getElementsByClassName)return $.apply(n,t.getElementsByClassName(d)),n}if(g.qsa&&(!j||!j.test(e))){if(c=s=z,l=t,d=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(o=k(e),(s=t.getAttribute("id"))?c=s.replace(ve,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",r=o.length;r--;)o[r]=c+h(o[r]);l=ge.test(e)&&u(t.parentNode)||t,d=o.join(",")}if(d)try{return $.apply(n,l.querySelectorAll(d)),n}catch(e){}finally{s||t.removeAttribute("id")}}}return T(e.replace(re,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>C.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function c(e){return e[z]=!0,e}function t(e){var t=D.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function l(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(o){return c(function(r){return r=+r,c(function(e,t){for(var n,i=o([],e.length,r),a=i.length;a--;)e[n=i[a]]&&(e[n]=!(t[n]=e[n]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function r(){}function h(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(o,e,t){var s=e.dir,c=t&&"parentNode"===s,l=H++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return o(e,t,n)}:function(e,t,n){var i,a,r=[R,l];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&o(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c){if((i=(a=e[z]||(e[z]={}))[s])&&i[0]===R&&i[1]===l)return r[2]=i[2];if((a[s]=r)[2]=o(e,t,n))return!0}}}function f(a){return 1<a.length?function(e,t,n){for(var i=a.length;i--;)if(!a[i](e,t,n))return!1;return!0}:a[0]}function w(e,t,n,i,a){for(var r,o=[],s=0,c=e.length,l=null!=t;s<c;s++)!(r=e[s])||n&&!n(r,i,a)||(o.push(r),l&&t.push(s));return o}function b(p,f,m,g,v,e){return g&&!g[z]&&(g=b(g)),v&&!v[z]&&(v=b(v,e)),c(function(e,t,n,i){var a,r,o,s=[],c=[],l=t.length,d=e||function(e,t,n){for(var i=0,a=t.length;i<a;i++)y(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),u=!p||!e&&f?d:w(d,s,p,n,i),h=m?v||(e?p:l||g)?[]:t:u;if(m&&m(u,h,n,i),g)for(a=w(h,c),g(a,[],n,i),r=a.length;r--;)(o=a[r])&&(h[c[r]]=!(u[c[r]]=o));if(e){if(v||p){if(v){for(a=[],r=h.length;r--;)(o=h[r])&&a.push(u[r]=o);v(null,h=[],a,i)}for(r=h.length;r--;)(o=h[r])&&-1<(a=v?K(e,o):s[r])&&(e[a]=!(t[a]=o))}}else h=w(h===t?h.splice(l,h.length):h),v?v(null,t,h,i):$.apply(t,h)})}function o(g,v){function e(e,t,n,i,a){var r,o,s,c=0,l="0",d=e&&[],u=[],h=S,p=e||x&&C.find.TAG("*",a),f=R+=null==h?1:Math.random()||.1,m=p.length;for(a&&(S=t!==D&&t);l!==m&&null!=(r=p[l]);l++){if(x&&r){for(o=0;s=g[o++];)if(s(r,t,n)){i.push(r);break}a&&(R=f)}b&&((r=!s&&r)&&c--,e&&d.push(r))}if(c+=l,b&&l!==c){for(o=0;s=v[o++];)s(d,u,t,n);if(e){if(0<c)for(;l--;)d[l]||u[l]||(u[l]=V.call(i));u=w(u)}$.apply(i,u),a&&!e&&0<u.length&&1<c+v.length&&y.uniqueSort(i)}return a&&(R=f,S=h),d}var b=0<v.length,x=0<g.length;return b?c(e):e}function m(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function s(){A()}var d,g,C,v,x,k,_,T,S,E,L,A,D,M,I,j,N,P,O,z="sizzle"+ +new Date,F=n.document,R=0,H=0,B=e(),q=e(),W=e(),U=function(e,t){return e===t&&(L=!0),0},X={}.hasOwnProperty,Y=[],V=Y.pop,G=Y.push,$=Y.push,Q=Y.slice,K=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Z="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",te=ee.replace("w","w#"),ne="\\["+Z+"*("+ee+")(?:"+Z+"*([*^$|!~]?=)"+Z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+Z+"*\\]",ie=":("+ee+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ae=new RegExp(Z+"+","g"),re=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g"),oe=new RegExp("^"+Z+"*,"+Z+"*"),se=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),ce=new RegExp("="+Z+"*([^\\]'\"]*?)"+Z+"*\\]","g"),le=new RegExp(ie),de=new RegExp("^"+te+"$"),ue={ID:new RegExp("^#("+ee+")"),CLASS:new RegExp("^\\.("+ee+")"),TAG:new RegExp("^("+ee.replace("w","w*")+")"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+Z+"?|("+Z+")|.)","ig");try{$.apply(Y=Q.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(e){$={apply:Y.length?function(e,t){G.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(d in g=y.support={},x=y.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},A=y.setDocument=function(e){var c=e?e.ownerDocument||e:F;return c!==D&&9===c.nodeType&&c.documentElement?(M=(D=c).documentElement,(e=c.defaultView)&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",s,!1):e.attachEvent&&e.attachEvent("onunload",s)),I=!x(c),g.attributes=t(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=t(function(e){return e.appendChild(c.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=fe.test(c.getElementsByClassName),g.getById=t(function(e){return M.appendChild(e).id=z,!c.getElementsByName||!c.getElementsByName(z).length}),g.getById?(C.find.ID=function(e,t){if(void 0!==t.getElementById&&I){e=t.getElementById(e);return e&&e.parentNode?[e]:[]}},C.filter.ID=function(e){var t=e.replace(be,m);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(be,m);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}}),C.find.TAG=g.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):g.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[a++];)1===n.nodeType&&i.push(n);return i},C.find.CLASS=g.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},N=[],j=[],(g.qsa=fe.test(c.querySelectorAll))&&(t(function(e){M.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+Z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+Z+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+z+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||j.push(".#.+[+~]")}),t(function(e){var t=c.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+Z+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(g.matchesSelector=fe.test(P=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&t(function(e){g.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),N.push("!=",ie)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),e=fe.test(M.compareDocumentPosition),O=e||fe.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=e?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument===F&&O(F,e)?-1:t===c||t.ownerDocument===F&&O(F,t)?1:E?K(E,e)-K(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,i=0,a=e.parentNode,r=t.parentNode,o=[e],s=[t];if(!a||!r)return e===c?-1:t===c?1:a?-1:r?1:E?K(E,e)-K(E,t):0;if(a===r)return l(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?l(o[i],s[i]):o[i]===F?-1:s[i]===F?1:0},c):D},y.matches=function(e,t){return y(e,null,null,t)},y.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&A(e),t=t.replace(ce,"='$1']"),!(!g.matchesSelector||!I||N&&N.test(t)||j&&j.test(t)))try{var n=P.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<y(t,D,null,[e]).length},y.contains=function(e,t){return(e.ownerDocument||e)!==D&&A(e),O(e,t)},y.attr=function(e,t){(e.ownerDocument||e)!==D&&A(e);var n=C.attrHandle[t.toLowerCase()],n=n&&X.call(C.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==n?n:g.attributes||!I?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},y.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},y.uniqueSort=function(e){var t,n=[],i=0,a=0;if(L=!g.detectDuplicates,E=!g.sortStable&&e.slice(0),e.sort(U),L){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return E=null,e},v=y.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=v(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=v(t);return n},(C=y.selectors={cacheLength:50,createPseudo:c,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,m),e[3]=(e[3]||e[4]||e[5]||"").replace(be,m),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||y.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&y.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,m).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+Z+")"+e+"("+Z+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=y.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(ae," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,f,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===e;return 1===f&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,a,r,o,s,c,l=g!=v?"nextSibling":"previousSibling",d=e.parentNode,u=b&&e.nodeName.toLowerCase(),h=!n&&!b;if(d){if(g){for(;l;){for(r=e;r=r[l];)if(b?r.nodeName.toLowerCase()===u:1===r.nodeType)return!1;c=l="only"===p&&!c&&"nextSibling"}return!0}if(c=[v?d.firstChild:d.lastChild],v&&h){for(s=(i=(a=d[z]||(d[z]={}))[p]||[])[0]===R&&i[1],o=i[0]===R&&i[2],r=s&&d.childNodes[s];r=++s&&r&&r[l]||(o=s=0)||c.pop();)if(1===r.nodeType&&++o&&r===e){a[p]=[R,s,o];break}}else if(h&&(i=(e[z]||(e[z]={}))[p])&&i[0]===R)o=i[1];else for(;(r=++s&&r&&r[l]||(o=s=0)||c.pop())&&((b?r.nodeName.toLowerCase()!==u:1!==r.nodeType)||!++o||(h&&((r[z]||(r[z]={}))[p]=[R,o]),r!==e)););return(o-=m)===f||o%f==0&&0<=o/f}}},PSEUDO:function(e,r){var t,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||y.error("unsupported pseudo: "+e);return o[z]?o(r):1<o.length?(t=[e,e,"",r],C.setFilters.hasOwnProperty(e.toLowerCase())?c(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)e[n=K(e,i[a])]=!(t[n]=i[a])}):function(e){return o(e,0,t)}):o}},pseudos:{not:c(function(e){var i=[],a=[],s=_(e.replace(re,"$1"));return s[z]?c(function(e,t,n,i){for(var a,r=s(e,null,i,[]),o=e.length;o--;)(a=r[o])&&(e[o]=!(t[o]=a))}):function(e,t,n){return i[0]=e,s(i,null,n,a),i[0]=null,!a.pop()}}),has:c(function(t){return function(e){return 0<y(t,e).length}}),contains:c(function(t){return t=t.replace(be,m),function(e){return-1<(e.textContent||e.innerText||v(e)).indexOf(t)}}),lang:c(function(n){return de.test(n||"")||y.error("unsupported lang: "+n),n=n.replace(be,m).toLowerCase(),function(e){var t;do{if(t=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===M},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:a(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[d]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(d);for(d in{submit:!0,reset:!0})C.pseudos[d]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(d);return r.prototype=C.filters=C.pseudos,C.setFilters=new r,k=y.tokenize=function(e,t){var n,i,a,r,o,s,c,l=q[e+" "];if(l)return t?0:l.slice(0);for(o=e,s=[],c=C.preFilter;o;){for(r in n&&!(i=oe.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(a=[])),n=!1,(i=se.exec(o))&&(n=i.shift(),a.push({value:n,type:i[0].replace(re," ")}),o=o.slice(n.length)),C.filter)!(i=ue[r].exec(o))||c[r]&&!(i=c[r](i))||(n=i.shift(),a.push({value:n,type:r,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?y.error(e):q(e,s).slice(0)},_=y.compile=function(e,t){var n,i=[],a=[],r=W[e+" "];if(!r){for(n=(t=t||k(e)).length;n--;)((r=function e(t){for(var i,n,a,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],c=o?1:0,l=p(function(e){return e===i},s,!0),d=p(function(e){return-1<K(i,e)},s,!0),u=[function(e,t,n){return n=!o&&(n||t!==S)||((i=t).nodeType?l:d)(e,t,n),i=null,n}];c<r;c++)if(n=C.relative[t[c].type])u=[p(f(u),n)];else{if((n=C.filter[t[c].type].apply(null,t[c].matches))[z]){for(a=++c;a<r&&!C.relative[t[a].type];a++);return b(1<c&&f(u),1<c&&h(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(re,"$1"),n,c<a&&e(t.slice(c,a)),a<r&&e(t=t.slice(a)),a<r&&h(t))}u.push(n)}return f(u)}(t[n]))[z]?i:a).push(r);(r=W(e,o(a,i))).selector=e}return r},T=y.select=function(e,t,n,i){var a,r,o,s,c,l="function"==typeof e&&e,d=!i&&k(e=l.selector||e);if(n=n||[],1===d.length){if(2<(r=d[0]=d[0].slice(0)).length&&"ID"===(o=r[0]).type&&g.getById&&9===t.nodeType&&I&&C.relative[r[1].type]){if(!(t=(C.find.ID(o.matches[0].replace(be,m),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=ue.needsContext.test(e)?0:r.length;a--&&(o=r[a],!C.relative[s=o.type]);)if((c=C.find[s])&&(i=c(o.matches[0].replace(be,m),ge.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(a,1),!(e=i.length&&h(r)))return $.apply(n,i),n;break}}return(l||_(e,d))(i,t,!I,n,ge.test(e)&&u(t.parentNode)||t),n},g.sortStable=z.split("").sort(U).join("")===z,g.detectDuplicates=!!L,A(),g.sortDetached=t(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),t(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&t(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),t(function(e){return null==e.getAttribute("disabled")})||i(J,function(e,t,n){return n?void 0:!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),y}(f);$.find=Z,$.expr=Z.selectors,$.expr[":"]=$.expr.pseudos,$.unique=Z.uniqueSort,$.text=Z.getText,$.isXMLDoc=Z.isXML,$.contains=Z.contains;var ee=$.expr.match.needsContext,te=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ne=/^.[^:#\[\.,]*$/;$.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?$.find.matchesSelector(i,e)?[i]:[]:$.find.matches(e,$.grep(t,function(e){return 1===e.nodeType}))},$.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack($(e).filter(function(){for(t=0;t<a;t++)if($.contains(i[t],this))return!0}));for(t=0;t<a;t++)$.find(e,i[t],n);return(n=this.pushStack(1<a?$.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&ee.test(e)?$(e):e||[],!1).length}});var ie=f.document,ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;($.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):$.isFunction(e)?void 0!==re.ready?re.ready(e):e($):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),$.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:ae.exec(e))||!n[1]&&t)return(!t||t.jquery?t||re:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof $?t[0]:t,$.merge(this,$.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),te.test(n[1])&&$.isPlainObject(t))for(n in t)$.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=ie.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return re.find(e);this.length=1,this[0]=i}return this.context=ie,this.selector=e,this}).prototype=$.fn;var re=$(ie),oe=/^(?:parents|prev(?:Until|All))/,se={children:!0,contents:!0,next:!0,prev:!0};$.extend({dir:function(e,t,n){for(var i=[],a=e[t];a&&9!==a.nodeType&&(void 0===n||1!==a.nodeType||!$(a).is(n));)1===a.nodeType&&i.push(a),a=a[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),$.fn.extend({has:function(e){var t,n=$(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if($.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=ee.test(e)||"string"!=typeof e?$(e,t||this.context):0;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&$.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?$.unique(r):r)},index:function(e){return e?"string"==typeof e?$.inArray(this[0],$(e)):$.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack($.unique($.merge(this.get(),$(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),$.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return $.dir(e,"parentNode")},parentsUntil:function(e,t,n){return $.dir(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return $.dir(e,"nextSibling")},prevAll:function(e){return $.dir(e,"previousSibling")},nextUntil:function(e,t,n){return $.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return $.dir(e,"previousSibling",n)},siblings:function(e){return $.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return $.sibling(e.firstChild)},contents:function(e){return $.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:$.merge([],e.childNodes)}},function(i,a){$.fn[i]=function(e,t){var n=$.map(this,a,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=$.filter(t,n)),1<this.length&&(se[i]||(n=$.unique(n)),oe.test(i)&&(n=n.reverse())),this.pushStack(n)}});var ce,le=/\S+/g,de={};$.Callbacks=function(a){var e,n;a="string"==typeof a?de[a]||(n=de[e=a]={},$.each(e.match(le)||[],function(e,t){n[t]=!0}),n):$.extend({},a);var i,t,r,o,s,c,l=[],d=!a.once&&[],u=function(e){for(t=a.memory&&e,r=!0,s=c||0,c=0,o=l.length,i=!0;l&&s<o;s++)if(!1===l[s].apply(e[0],e[1])&&a.stopOnFalse){t=!1;break}i=!1,l&&(d?d.length&&u(d.shift()):t?l=[]:h.disable())},h={add:function(){var e;return l&&(e=l.length,function i(e){$.each(e,function(e,t){var n=$.type(t);"function"===n?a.unique&&h.has(t)||l.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),i?o=l.length:t&&(c=e,u(t))),this},remove:function(){return l&&$.each(arguments,function(e,t){for(var n;-1<(n=$.inArray(t,l,n));)l.splice(n,1),i&&(n<=o&&o--,n<=s&&s--)}),this},has:function(e){return e?-1<$.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=d=t=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,t||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!l||r&&!d||(t=[e,(t=t||[]).slice?t.slice():t],i?d.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},$.extend({Deferred:function(e){var r=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],a="pending",o={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(i){$.each(r,function(e,t){var n=$.isFunction(a[e])&&a[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&$.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===o?i.promise():this,n?[e]:arguments)})}),a=null}).promise()},promise:function(e){return null!=e?$.extend(e,o):o}},s={};return o.pipe=o.then,$.each(r,function(e,t){var n=t[2],i=t[3];o[t[1]]=n.add,i&&n.add(function(){a=i},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?o:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?B.call(arguments):e,i===a?l.notifyWith(n,i):--c||l.resolveWith(n,i)}}var a,n,i,r=0,o=B.call(arguments),s=o.length,c=1!==s||e&&$.isFunction(e.promise)?s:0,l=1===c?e:$.Deferred();if(1<s)for(a=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&$.isFunction(o[r].promise)?o[r].promise().done(t(r,i,o)).fail(l.reject).progress(t(r,n,a)):--c;return c||l.resolveWith(i,o),l.promise()}}),$.fn.ready=function(e){return $.ready.promise().done(e),this},$.extend({isReady:!1,readyWait:1,holdReady:function(e){e?$.readyWait++:$.ready(!0)},ready:function(e){if(!0===e?!--$.readyWait:!$.isReady){if(!ie.body)return setTimeout($.ready);($.isReady=!0)!==e&&0<--$.readyWait||(ce.resolveWith(ie,[$]),$.fn.triggerHandler&&($(ie).triggerHandler("ready"),$(ie).off("ready")))}}}),$.ready.promise=function(e){if(!ce)if(ce=$.Deferred(),"complete"===ie.readyState)setTimeout($.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",a,!1),f.addEventListener("load",a,!1);else{ie.attachEvent("onreadystatechange",a),f.attachEvent("onload",a);var n=!1;try{n=null==f.frameElement&&ie.documentElement}catch(e){}n&&n.doScroll&&!function t(){if(!$.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}i(),$.ready()}}()}return ce.promise(e)};var ue,he="undefined";for(ue in $(G))break;G.ownLast="0"!==ue,G.inlineBlockNeedsLayout=!1,$(function(){var e,t,n=ie.getElementsByTagName("body")[0];n&&n.style&&(e=ie.createElement("div"),(t=ie.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(t).appendChild(e),typeof e.style.zoom!==he&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",G.inlineBlockNeedsLayout=e=3===e.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(t))}),function(){var e=ie.createElement("div");if(null==G.deleteExpando){G.deleteExpando=!0;try{delete e.test}catch(e){G.deleteExpando=!1}}e=null}(),$.acceptData=function(e){var t=$.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,fe=/([A-Z])/g;$.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?$.cache[e[$.expando]]:e[$.expando])&&!l(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)}}),$.fn.extend({data:function(e,t){var n,i,a,r=this[0],o=r&&r.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){$.data(this,e)}):1<arguments.length?this.each(function(){$.data(this,e,t)}):r?c(r,e,$.data(r,e)):void 0;if(this.length&&(a=$.data(r),1===r.nodeType&&!$._data(r,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(0===(i=o[n].name).indexOf("data-")&&c(r,i=$.camelCase(i.slice(5)),a[i]));$._data(r,"parsedAttrs",!0)}return a},removeData:function(e){return this.each(function(){$.removeData(this,e)})}}),$.extend({queue:function(e,t,n){var i;return e?(i=$._data(e,t=(t||"fx")+"queue"),n&&(!i||$.isArray(n)?i=$._data(e,t,$.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){var n=$.queue(e,t=t||"fx"),i=n.length,a=n.shift(),r=$._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,function(){$.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $._data(e,n)||$._data(e,n,{empty:$.Callbacks("once memory").add(function(){$._removeData(e,t+"queue"),$._removeData(e,n)})})}}),$.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?$.queue(this[0],t):void 0===n?this:this.each(function(){var e=$.queue(this,t,n);$._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&$.dequeue(this,t)})},dequeue:function(e){return this.each(function(){$.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--a||r.resolveWith(o,[o])}var i,a=1,r=$.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=$._data(o[s],e+"queueHooks"))&&i.empty&&(a++,i.empty.add(n));return n(),r.promise(t)}});function me(e,t){return"none"===$.css(e=t||e,"display")||!$.contains(e.ownerDocument,e)}var ge=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ve=["Top","Right","Bottom","Left"],be=$.access=function(e,t,n,i,a,r,o){var s=0,c=e.length,l=null==n;if("object"===$.type(n))for(s in a=!0,n)$.access(e,t,s,n[s],!0,r,o);else if(void 0!==i&&(a=!0,$.isFunction(i)||(o=!0),t=l?o?(t.call(e,i),null):(l=t,function(e,t,n){return l.call($(e),n)}):t))for(;s<c;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return a?e:l?t.call(e):c?t(e[0],n):r},xe=/^(?:checkbox|radio)$/i;!function(){var e=ie.createElement("input"),t=ie.createElement("div"),n=ie.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",G.leadingWhitespace=3===t.firstChild.nodeType,G.tbody=!t.getElementsByTagName("tbody").length,G.htmlSerialize=!!t.getElementsByTagName("link").length,G.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),G.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",G.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,G.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){G.noCloneEvent=!1}),t.cloneNode(!0).click()),null==G.deleteExpando){G.deleteExpando=!0;try{delete t.test}catch(e){G.deleteExpando=!1}}}(),function(){var e,t,n=ie.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(G[e+"Bubbles"]=t in f)||(n.setAttribute(t,"t"),G[e+"Bubbles"]=!1===n.attributes[t].expando);n=null}();var ye=/^(?:input|select|textarea)$/i,we=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,_e=/^([^.]*)(?:\.(.+)|)$/;$.event={global:{},add:function(e,t,n,i,a){var r,o,s,c,l,d,u,h,p,f=$._data(e);if(f){for(n.handler&&(n=(s=n).handler,a=s.selector),n.guid||(n.guid=$.guid++),(r=f.events)||(r=f.events={}),(l=f.handle)||((l=f.handle=function(e){return typeof $===he||e&&$.event.triggered===e.type?void 0:$.event.dispatch.apply(l.elem,arguments)}).elem=e),o=(t=(t||"").match(le)||[""]).length;o--;)u=p=(d=_e.exec(t[o])||[])[1],h=(d[2]||"").split(".").sort(),u&&(c=$.event.special[u]||{},u=(a?c.delegateType:c.bindType)||u,c=$.event.special[u]||{},d=$.extend({type:u,origType:p,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&$.expr.match.needsContext.test(a),namespace:h.join(".")},s),(p=r[u])||((p=r[u]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,h,l)||(e.addEventListener?e.addEventListener(u,l,!1):e.attachEvent&&e.attachEvent("on"+u,l))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,d):p.push(d),$.event.global[u]=!0);e=null}},remove:function(e,t,n,i,a){var r,o,s,c,l,d,u,h,p,f,m,g=$.hasData(e)&&$._data(e);if(g&&(d=g.events)){for(l=(t=(t||"").match(le)||[""]).length;l--;)if(p=m=(s=_e.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=$.event.special[p]||{},h=d[p=(i?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=r=h.length;r--;)o=h[r],!a&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(h.splice(r,1),o.selector&&h.delegateCount--,u.remove&&u.remove.call(e,o));c&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||$.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)$.event.remove(e,p+t[l],n,i,!0);$.isEmptyObject(d)&&(delete g.handle,$._removeData(e,"events"))}},trigger:function(e,t,n,i){var a,r,o,s,c,l,d=[n||ie],u=V.call(e,"type")?e.type:e,h=V.call(e,"namespace")?e.namespace.split("."):[],p=c=n=n||ie;if(3!==n.nodeType&&8!==n.nodeType&&!ke.test(u+$.event.triggered)&&(0<=u.indexOf(".")&&(u=(h=u.split(".")).shift(),h.sort()),r=u.indexOf(":")<0&&"on"+u,(e=e[$.expando]?e:new $.Event(u,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:$.makeArray(t,[e]),s=$.event.special[u]||{},i||!s.trigger||!1!==s.trigger.apply(n,t))){if(!i&&!s.noBubble&&!$.isWindow(n)){for(o=s.delegateType||u,ke.test(o+u)||(p=p.parentNode);p;p=p.parentNode)d.push(p),c=p;c===(n.ownerDocument||ie)&&d.push(c.defaultView||c.parentWindow||f)}for(l=0;(p=d[l++])&&!e.isPropagationStopped();)e.type=1<l?o:s.bindType||u,(a=($._data(p,"events")||{})[e.type]&&$._data(p,"handle"))&&a.apply(p,t),(a=r&&p[r])&&a.apply&&$.acceptData(p)&&(e.result=a.apply(p,t),!1===e.result&&e.preventDefault());if(e.type=u,!i&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(d.pop(),t))&&$.acceptData(n)&&r&&n[u]&&!$.isWindow(n)){(c=n[r])&&(n[r]=null),$.event.triggered=u;try{n[u]()}catch(e){}$.event.triggered=void 0,c&&(n[r]=c)}return e.result}},dispatch:function(e){e=$.event.fix(e);var t,n,i,a,r,o=B.call(arguments),s=($._data(this,"events")||{})[e.type]||[],c=$.event.special[e.type]||{};if((o[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(r=$.event.handlers.call(this,e,s),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,a=0;(n=i.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(n.namespace)||(e.handleObj=n,e.data=n.data,void 0!==(n=(($.event.special[n.origType]||{}).handle||n.handler).apply(i.elem,o))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,o=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(a=[],r=0;r<s;r++)void 0===a[n=(i=t[r]).selector+" "]&&(a[n]=i.needsContext?0<=$(n,this).index(c):$.find(n,this,null,[c]).length),a[n]&&a.push(i);a.length&&o.push({elem:c,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[$.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Ce.test(a)?this.mouseHooks:we.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new $.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||ie).documentElement,n=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==e()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===e()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return $.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return $.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){e=$.extend(new $.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?$.event.trigger(e,null,t):$.event.dispatch.call(t,e),e.isDefaultPrevented()&&n.preventDefault()}},$.removeEvent=ie.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){t="on"+t;e.detachEvent&&(typeof e[t]===he&&(e[t]=null),e.detachEvent(t,n))},$.Event=function(e,t){return this instanceof $.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:u):this.type=e,t&&$.extend(this,t),this.timeStamp=e&&e.timeStamp||$.now(),void(this[$.expando]=!0)):new $.Event(e,t)},$.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},$.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){$.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||$.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=a),t}}}),G.submitBubbles||($.event.special.submit={setup:function(){return!$.nodeName(this,"form")&&void $.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=$.nodeName(e,"input")||$.nodeName(e,"button")?e.form:void 0;e&&!$._data(e,"submitBubbles")&&($.event.add(e,"submit._submit",function(e){e._submit_bubble=!0}),$._data(e,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&$.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!$.nodeName(this,"form")&&void $.event.remove(this,"._submit")}}),G.changeBubbles||($.event.special.change={setup:function(){return ye.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||($.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,e,!0)})),!1):void $.event.add(this,"beforeactivate._change",function(e){e=e.target;ye.test(e.nodeName)&&!$._data(e,"changeBubbles")&&($.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||$.event.simulate("change",this.parentNode,e,!0)}),$._data(e,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!ye.test(this.nodeName)}}),G.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(n,i){function a(e){$.event.simulate(i,e.target,$.event.fix(e),!0)}$.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=$._data(e,i);t||e.addEventListener(n,a,!0),$._data(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=$._data(e,i)-1;t?$._data(e,i,t):(e.removeEventListener(n,a,!0),$._removeData(e,i))}}}),$.fn.extend({on:function(e,t,n,i,a){var r,o;if("object"==typeof e){for(r in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(r,t,n,e[r],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=u;else if(!i)return this;return 1===a&&(o=i,(i=function(e){return $().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=$.guid++)),this.each(function(){$.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,$(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=u),this.each(function(){$.event.remove(this,e,n,t)});for(a in e)this.off(a,t,e[a]);return this},trigger:function(e,t){return this.each(function(){$.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?$.event.trigger(e,t,n,!0):void 0}});var Te="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Se=/ jQuery\d+="(?:null|\d+)"/g,Ee=new RegExp("<(?:"+Te+")[\\s/>]","i"),Le=/^\s+/,Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,De=/<([\w:]+)/,Me=/<tbody/i,Ie=/<|&#?\w+;/,je=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:G.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Re=m(ie).appendChild(ie.createElement("div"));Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,$.extend({clone:function(e,t,n){var i,a,r,o,s,c=$.contains(e.ownerDocument,e);if(G.html5Clone||$.isXMLDoc(e)||!Ee.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Re.innerHTML=e.outerHTML,Re.removeChild(r=Re.firstChild)),!(G.noCloneEvent&&G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||$.isXMLDoc(e)))for(i=g(r),s=g(e),o=0;null!=(a=s[o]);++o)i[o]&&function(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!G.noCloneEvent&&t[$.expando]){for(i in(a=$._data(t)).events)$.removeEvent(t,i,a.handle);t.removeAttribute($.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),G.html5Clone&&e.innerHTML&&!$.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&xe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}(a,i[o]);if(t)if(n)for(s=s||g(e),i=i||g(r),o=0;null!=(a=s[o]);o++)p(a,i[o]);else p(e,r);return 0<(i=g(r,"script")).length&&y(i,!c&&g(e,"script")),i=s=a=null,r},buildFragment:function(e,t,n,i){for(var a,r,o,s,c,l,d,u=e.length,h=m(t),p=[],f=0;f<u;f++)if((r=e[f])||0===r)if("object"===$.type(r))$.merge(p,r.nodeType?[r]:r);else if(Ie.test(r)){for(s=s||h.appendChild(t.createElement("div")),c=(De.exec(r)||["",""])[1].toLowerCase(),d=Fe[c]||Fe._default,s.innerHTML=d[1]+r.replace(Ae,"<$1></$2>")+d[2],a=d[0];a--;)s=s.lastChild;if(!G.leadingWhitespace&&Le.test(r)&&p.push(t.createTextNode(Le.exec(r)[0])),!G.tbody)for(a=(r="table"!==c||Me.test(r)?"<table>"!==d[1]||Me.test(r)?0:s:s.firstChild)&&r.childNodes.length;a--;)$.nodeName(l=r.childNodes[a],"tbody")&&!l.childNodes.length&&r.removeChild(l);for($.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(r));for(s&&h.removeChild(s),G.appendChecked||$.grep(g(p,"input"),v),f=0;r=p[f++];)if((!i||-1===$.inArray(r,i))&&(o=$.contains(r.ownerDocument,r),s=g(h.appendChild(r),"script"),o&&y(s),n))for(a=0;r=s[a++];)Pe.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,a,r,o=0,s=$.expando,c=$.cache,l=G.deleteExpando,d=$.event.special;null!=(n=e[o]);o++)if((t||$.acceptData(n))&&(r=(a=n[s])&&c[a])){if(r.events)for(i in r.events)d[i]?$.event.remove(n,i):$.removeEvent(n,i,r.handle);c[a]&&(delete c[a],l?delete n[s]:typeof n.removeAttribute!==he?n.removeAttribute(s):n[s]=null,H.push(a))}}}),$.fn.extend({text:function(e){return be(this,function(e){return void 0===e?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||h(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=h(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?$.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||$.cleanData(g(n)),n.parentNode&&(t&&$.contains(n.ownerDocument,n)&&y(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&$.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&$.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return $.clone(this,e,t)})},html:function(e){return be(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Se,""):void 0;if(!("string"!=typeof e||je.test(e)||!G.htmlSerialize&&Ee.test(e)||!G.leadingWhitespace&&Le.test(e)||Fe[(De.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ae,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&($.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,$.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=q.apply([],n);var e,t,a,r,o,s,c=0,l=this.length,d=this,u=l-1,h=n[0],p=$.isFunction(h);if(p||1<l&&"string"==typeof h&&!G.checkClone&&Ne.test(h))return this.each(function(e){var t=d.eq(e);p&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(l&&(e=(s=$.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=e),e)){for(a=(r=$.map(g(s,"script"),b)).length;c<l;c++)t=s,c!==u&&(t=$.clone(t,!0,!0),a&&$.merge(r,g(t,"script"))),i.call(this[c],t,c);if(a)for(o=r[r.length-1].ownerDocument,$.map(r,x),c=0;c<a;c++)t=r[c],Pe.test(t.type||"")&&!$._data(t,"globalEval")&&$.contains(o,t)&&(t.src?$._evalUrl&&$._evalUrl(t.src):$.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ze,"")));s=e=null}return this}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){$.fn[e]=function(e){for(var t,n=0,i=[],a=$(e),r=a.length-1;n<=r;n++)t=n===r?this:this.clone(!0),$(a[n])[o](t),W.apply(i,t.get());return this.pushStack(i)}});var He,Be,qe={};G.shrinkWrapBlocks=function(){return null!=Be?Be:(Be=!1,(t=ie.getElementsByTagName("body")[0])&&t.style?(e=ie.createElement("div"),(n=ie.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),typeof e.style.zoom!==he&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ie.createElement("div")).style.width="5px",Be=3!==e.offsetWidth),t.removeChild(n),Be):void 0);var e,t,n};var We,Ue,Xe,Ye,Ve,Ge,$e=/^margin/,Qe=new RegExp("^("+ge+")(?!px)[a-z%]+$","i"),Ke=/^(top|right|bottom|left)$/;function Je(){var e,t,n,i=ie.getElementsByTagName("body")[0];i&&i.style&&(e=ie.createElement("div"),(t=ie.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(t).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",Xe=Ye=!1,Ge=!0,f.getComputedStyle&&(Xe="1%"!==(f.getComputedStyle(e,null)||{}).top,Ye="4px"===(f.getComputedStyle(e,null)||{width:"4px"}).width,(n=e.appendChild(ie.createElement("div"))).style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",e.style.width="1px",Ge=!parseFloat((f.getComputedStyle(n,null)||{}).marginRight),e.removeChild(n)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=e.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(Ve=0===n[0].offsetHeight)&&(n[0].style.display="",n[1].style.display="none",Ve=0===n[0].offsetHeight),i.removeChild(t))}f.getComputedStyle?(We=function(e){return(e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView:f).getComputedStyle(e,null)},Ue=function(e,t,n){var i,a=e.style,r=(n=n||We(e))?n.getPropertyValue(t)||n[t]:void 0;return n&&(""!==r||$.contains(e.ownerDocument,e)||(r=$.style(e,t)),Qe.test(r)&&$e.test(t)&&(i=a.width,e=a.minWidth,t=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=e,a.maxWidth=t)),void 0===r?r:r+""}):ie.documentElement.currentStyle&&(We=function(e){return e.currentStyle},Ue=function(e,t,n){var i,a,r,o=e.style;return null==(r=(n=n||We(e))?n[t]:void 0)&&o&&o[t]&&(r=o[t]),Qe.test(r)&&!Ke.test(t)&&(i=o.left,(n=(a=e.runtimeStyle)&&a.left)&&(a.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=i,n&&(a.left=n)),void 0===r?r:r+""||"auto"}),(lt=ie.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(dt=(dt=lt.getElementsByTagName("a")[0])&&dt.style)&&(dt.cssText="float:left;opacity:.5",G.opacity="0.5"===dt.opacity,G.cssFloat=!!dt.cssFloat,lt.style.backgroundClip="content-box",lt.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===lt.style.backgroundClip,G.boxSizing=""===dt.boxSizing||""===dt.MozBoxSizing||""===dt.WebkitBoxSizing,$.extend(G,{reliableHiddenOffsets:function(){return null==Ve&&Je(),Ve},boxSizingReliable:function(){return null==Ye&&Je(),Ye},pixelPosition:function(){return null==Xe&&Je(),Xe},reliableMarginRight:function(){return null==Ge&&Je(),Ge}})),$.swap=function(e,t,n,i){var a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,i||[]),t)e.style[a]=r[a];return i};var Ze=/alpha\([^)]*\)/i,et=/opacity\s*=\s*([^)]*)/,tt=/^(none|table(?!-c[ea]).+)/,nt=new RegExp("^("+ge+")(.*)$","i"),it=new RegExp("^([+-])=("+ge+")","i"),at={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"},ot=["Webkit","O","Moz","ms"];$.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Ue(e,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:G.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=$.camelCase(t),c=e.style;if(t=$.cssProps[s]||($.cssProps[s]=_(c,s)),o=$.cssHooks[t]||$.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,i))?a:c[t];if("string"===(r=typeof n)&&(a=it.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat($.css(e,t)),r="number"),null!=n&&n==n&&("number"!==r||$.cssNumber[s]||(n+="px"),G.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,i)))))try{c[t]=n}catch(e){}}},css:function(e,t,n,i){var a,r=$.camelCase(t);return t=$.cssProps[r]||($.cssProps[r]=_(e.style,r)),"normal"===(a=void 0===(a=(r=$.cssHooks[t]||$.cssHooks[r])&&"get"in r?r.get(e,!0,n):a)?Ue(e,t,i):a)&&t in rt&&(a=rt[t]),""===n||n?(t=parseFloat(a),!0===n||$.isNumeric(t)?t||0:a):a}}),$.each(["height","width"],function(e,a){$.cssHooks[a]={get:function(e,t,n){return t?tt.test($.css(e,"display"))&&0===e.offsetWidth?$.swap(e,at,function(){return L(e,a,n)}):L(e,a,n):void 0},set:function(e,t,n){var i=n&&We(e);return S(0,t,n?E(e,a,n,G.boxSizing&&"border-box"===$.css(e,"boxSizing",!1,i),i):0)}}}),G.opacity||($.cssHooks.opacity={get:function(e,t){return et.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=$.isNumeric(t)?"alpha(opacity="+100*t+")":"",e=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===$.trim(e.replace(Ze,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=Ze.test(e)?e.replace(Ze,a):e+" "+a)}}),$.cssHooks.marginRight=k(G.reliableMarginRight,function(e,t){return t?$.swap(e,{display:"inline-block"},Ue,[e,"marginRight"]):void 0}),$.each({margin:"",padding:"",border:"Width"},function(a,r){$.cssHooks[a+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[a+ve[t]+r]=i[t]||i[t-2]||i[0];return n}},$e.test(a)||($.cssHooks[a+r].set=S)}),$.fn.extend({css:function(e,t){return be(this,function(e,t,n){var i,a,r={},o=0;if($.isArray(t)){for(i=We(e),a=t.length;o<a;o++)r[t[o]]=$.css(e,t[o],!1,i);return r}return void 0!==n?$.style(e,t,n):$.css(e,t)},e,t,1<arguments.length)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){me(this)?$(this).show():$(this).hide()})}}),($.Tween=A).prototype={constructor:A,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||($.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return(e&&e.get?e:A.propHooks._default).get(this)},run:function(e){var t=A.propHooks[this.prop];return this.pos=e=this.options.duration?$.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(t&&t.set?t:A.propHooks._default).set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=$.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){$.fx.step[e.prop]?$.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[$.cssProps[e.prop]]||$.cssHooks[e.prop])?$.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},$.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},$.fx=A.prototype.init,$.fx.step={};var st,ct,lt,dt,ut,ht=/^(?:toggle|show|hide)$/,pt=new RegExp("^(?:([+-])=|)("+ge+")([a-z%]*)$","i"),ft=/queueHooks$/,mt=[function(t,e,n){var i,a,r,o,s,c,l,d=this,u={},h=t.style,p=t.nodeType&&me(t),f=$._data(t,"fxshow");for(i in n.queue||(null==(s=$._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,$.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(l=$.css(t,"display"))?$._data(t,"olddisplay")||C(t.nodeName):l)&&"none"===$.css(t,"float")&&(G.inlineBlockNeedsLayout&&"inline"!==C(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",G.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(a=e[i],ht.exec(a)){if(delete e[i],r=r||"toggle"===a,a===(p?"hide":"show")){if("show"!==a||!f||void 0===f[i])continue;p=!0}u[i]=f&&f[i]||$.style(t,i)}else l=void 0;if($.isEmptyObject(u))"inline"===("none"===l?C(t.nodeName):l)&&(h.display=l);else for(i in f?"hidden"in f&&(p=f.hidden):f=$._data(t,"fxshow",{}),r&&(f.hidden=!p),p?$(t).show():d.done(function(){$(t).hide()}),d.done(function(){for(var e in $._removeData(t,"fxshow"),u)$.style(t,e,u[e])}),u)o=I(p?f[i]:0,i,d),i in f||(f[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],gt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),t=pt.exec(t),a=t&&t[3]||($.cssNumber[e]?"":"px"),r=($.cssNumber[e]||"px"!==a&&+i)&&pt.exec($.css(n.elem,e)),o=1,s=20;if(r&&r[3]!==a)for(a=a||r[3],t=t||[],r=+i||1;$.style(n.elem,e,(r/=o=o||".5")+a),o!==(o=n.cur()/i)&&1!==o&&--s;);return t&&(r=n.start=+r||+i||0,n.unit=a,n.end=t[1]?r+(t[1]+1)*t[2]:+t[2]),n}]};$.Animation=$.extend(j,{tweener:function(e,t){for(var n,i=0,a=(e=$.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<a;i++)n=e[i],gt[n]=gt[n]||[],gt[n].unshift(t)},prefilter:function(e,t){t?mt.unshift(e):mt.push(e)}}),$.speed=function(e,t,n){var i=e&&"object"==typeof e?$.extend({},e):{complete:n||!n&&t||$.isFunction(e)&&e,duration:e,easing:n&&t||t&&!$.isFunction(t)&&t};return i.duration=$.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in $.fx.speeds?$.fx.speeds[i.duration]:$.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){$.isFunction(i.old)&&i.old.call(this),i.queue&&$.dequeue(this,i.queue)},i},$.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var a=$.isEmptyObject(t),r=$.speed(e,n,i),i=function(){var e=j(this,$.extend({},t),r);(a||$._data(this,"finish"))&&e.stop(!0)};return i.finish=i,a||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(a,e,r){function o(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof a&&(r=e,e=a,a=void 0),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var e=!0,t=null!=a&&a+"queueHooks",n=$.timers,i=$._data(this);if(t)i[t]&&i[t].stop&&o(i[t]);else for(t in i)i[t]&&i[t].stop&&ft.test(t)&&o(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=a&&n[t].queue!==a||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||$.dequeue(this,a)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=$._data(this),n=t[o+"queue"],i=t[o+"queueHooks"],a=$.timers,r=n?n.length:0;for(t.finish=!0,$.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===o&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),$.each(["toggle","show","hide"],function(e,i){var a=$.fn[i];$.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(M(i,!0),e,t,n)}}),$.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){$.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),$.timers=[],$.fx.tick=function(){var e,t=$.timers,n=0;for(st=$.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||$.fx.stop(),st=void 0},$.fx.timer=function(e){$.timers.push(e),e()?$.fx.start():$.timers.pop()},$.fx.interval=13,$.fx.start=function(){ct=ct||setInterval($.fx.tick,$.fx.interval)},$.fx.stop=function(){clearInterval(ct),ct=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fn.delay=function(i,e){return i=$.fx&&$.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},(ut=ie.createElement("div")).setAttribute("className","t"),ut.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Z=ut.getElementsByTagName("a")[0],dt=(lt=ie.createElement("select")).appendChild(ie.createElement("option")),ge=ut.getElementsByTagName("input")[0],Z.style.cssText="top:1px",G.getSetAttribute="t"!==ut.className,G.style=/top/.test(Z.getAttribute("style")),G.hrefNormalized="/a"===Z.getAttribute("href"),G.checkOn=!!ge.value,G.optSelected=dt.selected,G.enctype=!!ie.createElement("form").enctype,lt.disabled=!0,G.optDisabled=!dt.disabled,(ge=ie.createElement("input")).setAttribute("value",""),G.input=""===ge.getAttribute("value"),ge.value="t",ge.setAttribute("type","radio"),G.radioValue="t"===ge.value;var vt=/\r/g;$.fn.extend({val:function(t){var n,e,i,a=this[0];return arguments.length?(i=$.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,$(this).val()):t)?e="":"number"==typeof e?e+="":$.isArray(e)&&(e=$.map(e,function(e){return null==e?"":e+""})),(n=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):a?(n=$.valHooks[a.type]||$.valHooks[a.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(a,"value"))?e:"string"==typeof(e=a.value)?e.replace(vt,""):null==e?"":e:void 0}}),$.extend({valHooks:{option:{get:function(e){var t=$.find.attr(e,"value");return null!=t?t:$.trim($.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,a="select-one"===e.type||i<0,r=a?null:[],o=a?i+1:n.length,s=i<0?o:a?i:0;s<o;s++)if(!(!(t=n[s]).selected&&s!==i||(G.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&$.nodeName(t.parentNode,"optgroup"))){if(t=$(t).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,i,a=e.options,r=$.makeArray(t),o=a.length;o--;)if(i=a[o],0<=$.inArray($.valHooks.option.get(i),r))try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),a}}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]={set:function(e,t){return $.isArray(t)?e.checked=0<=$.inArray($(e).val(),t):void 0}},G.checkOn||($.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,xt,yt=$.expr.attrHandle,wt=/^(?:checked|selected)$/i,Ct=G.getSetAttribute,kt=G.input;$.fn.extend({attr:function(e,t){return be(this,$.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){$.removeAttr(this,e)})}}),$.extend({attr:function(e,t,n){var i,a,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===he?$.prop(e,t,n):(1===r&&$.isXMLDoc(e)||(t=t.toLowerCase(),i=$.attrHooks[t]||($.expr.match.bool.test(t)?xt:bt)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:null==(a=$.find.attr(e,t))?void 0:a:null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void $.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(le);if(r&&1===e.nodeType)for(;n=r[a++];)i=$.propFix[n]||n,$.expr.match.bool.test(n)?kt&&Ct||!wt.test(n)?e[i]=!1:e[$.camelCase("default-"+n)]=e[i]=!1:$.attr(e,n,""),e.removeAttribute(Ct?n:i)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&$.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xt={set:function(e,t,n){return!1===t?$.removeAttr(e,n):kt&&Ct||!wt.test(n)?e.setAttribute(!Ct&&$.propFix[n]||n,n):e[$.camelCase("default-"+n)]=e[n]=!0,n}},$.each($.expr.match.bool.source.match(/\w+/g),function(e,t){var r=yt[t]||$.find.attr;yt[t]=kt&&Ct||!wt.test(t)?function(e,t,n){var i,a;return n||(a=yt[t],yt[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,yt[t]=a),i}:function(e,t,n){return n?void 0:e[$.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Ct||($.attrHooks.value={set:function(e,t,n){return $.nodeName(e,"input")?void(e.defaultValue=t):bt&&bt.set(e,t,n)}}),Ct||(bt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},yt.id=yt.name=yt.coords=function(e,t,n){return n?void 0:(t=e.getAttributeNode(t))&&""!==t.value?t.value:null},$.valHooks.button={get:function(e,t){t=e.getAttributeNode(t);return t&&t.specified?t.value:void 0},set:bt.set},$.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""!==t&&t,n)}},$.each(["width","height"],function(e,n){$.attrHooks[n]={set:function(e,t){return""===t?(e.setAttribute(n,"auto"),t):void 0}}})),G.style||($.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var _t=/^(?:input|select|textarea|button|object)$/i,Tt=/^(?:a|area)$/i;$.fn.extend({prop:function(e,t){return be(this,$.prop,e,t,1<arguments.length)},removeProp:function(e){return e=$.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),$.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,a,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?((1!==r||!$.isXMLDoc(e))&&(t=$.propFix[t]||t,a=$.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=$.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:-1}}}}),G.hrefNormalized||$.each(["href","src"],function(e,t){$.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),G.optSelected||($.propHooks.selected={get:function(e){e=e.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),$.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){$.propFix[this.toLowerCase()]=this}),G.enctype||($.propFix.enctype="encoding");var St=/[\t\r\n\f]/g;$.fn.extend({addClass:function(t){var e,n,i,a,r,o,s=0,c=this.length,l="string"==typeof t&&t;if($.isFunction(t))return this.each(function(e){$(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(le)||[];s<c;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(r=0;a=e[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o=$.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(t){var e,n,i,a,r,o,s=0,c=this.length,l=0===arguments.length||"string"==typeof t&&t;if($.isFunction(t))return this.each(function(e){$(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(le)||[];s<c;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(r=0;a=e[r++];)for(;0<=i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");o=t?$.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(a,t){var r=typeof a;return"boolean"==typeof t&&"string"==r?t?this.addClass(a):this.removeClass(a):this.each($.isFunction(a)?function(e){$(this).toggleClass(a.call(this,e,this.className,t),t)}:function(){if("string"==r)for(var e,t=0,n=$(this),i=a.match(le)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!==he&&"boolean"!=r||(this.className&&$._data(this,"__className__",this.className),this.className=!this.className&&!1!==a&&$._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(St," ").indexOf(t))return!0;return!1}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){$.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),$.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Et=$.now(),Lt=/\?/,At=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;$.parseJSON=function(e){if(f.JSON&&f.JSON.parse)return f.JSON.parse(e+"");var a,r=null,t=$.trim(e+"");return t&&!$.trim(t.replace(At,function(e,t,n,i){return 0===(r=a&&t?0:r)?e:(a=n||t,r+=!i-!n,"")}))?Function("return "+t)():$.error("Invalid JSON: "+e)},$.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{f.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+e),t};var Dt,Mt,It=/#.*$/,jt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:GET|HEAD)$/,Ot=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ft={},Rt={},Ht="*/".concat("*");try{Mt=location.href}catch(e){(Mt=ie.createElement("a")).href="",Mt=Mt.href}Dt=zt.exec(Mt.toLowerCase())||[],$.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,$.ajaxSettings),t):O($.ajaxSettings,e)},ajaxPrefilter:N(Ft),ajaxTransport:N(Rt),ajax:function(e,t){function n(e,t,n,i){var a,r,o,s=t;2!==x&&(x=2,d&&clearTimeout(d),h=void 0,l=i||"",y.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(o=function(e,t,n){for(var i,a,r,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){c.unshift(o);break}if(c[0]in n)r=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){r=o;break}i=i||o}r=r||i}return r?(r!==c[0]&&c.unshift(r),n[r]):void 0}(p,y,n)),o=function(e,t,n,i){var a,r,o,s,c,l={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=r,r=d.shift())if("*"===r)r=c;else if("*"!==c&&c!==r){if(!(o=l[c+" "+r]||l["* "+r]))for(a in l)if(s=a.split(" "),s[1]===r&&(o=l[c+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[a]:!0!==l[a]&&(r=s[0],d.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+r}}}return{state:"success",data:t}}(p,o,y,i),i?(p.ifModified&&((n=y.getResponseHeader("Last-Modified"))&&($.lastModified[c]=n),(n=y.getResponseHeader("etag"))&&($.etag[c]=n)),204===e||"HEAD"===p.type?s="nocontent":304===e?s="notmodified":(s=o.state,a=o.data,i=!(r=o.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),y.status=e,y.statusText=(t||s)+"",i?g.resolveWith(f,[a,s,y]):g.rejectWith(f,[y,s,r]),y.statusCode(b),b=void 0,u&&m.trigger(i?"ajaxSuccess":"ajaxError",[y,p,i?a:r]),v.fireWith(f,[y,s]),u&&(m.trigger("ajaxComplete",[y,p]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0);var i,c,l,d,u,h,a,p=$.ajaxSetup({},t=t||{}),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?$(f):$.event,g=$.Deferred(),v=$.Callbacks("once memory"),b=p.statusCode||{},r={},o={},x=0,s="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=Nt.exec(l);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?l:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=o[n]=o[n]||e,r[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){if(e)if(x<2)for(var t in e)b[t]=[b[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){e=e||s;return h&&h.abort(e),n(0,e),this}};if(g.promise(y).complete=v.add,y.success=y.done,y.error=y.fail,p.url=((e||p.url||Mt)+"").replace(It,"").replace(Ot,Dt[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=$.trim(p.dataType||"*").toLowerCase().match(le)||[""],null==p.crossDomain&&(e=zt.exec(p.url.toLowerCase()),p.crossDomain=!(!e||e[1]===Dt[1]&&e[2]===Dt[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=$.param(p.data,p.traditional)),P(Ft,p,t,y),2===x)return y;for(i in(u=$.event&&p.global)&&0==$.active++&&$.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pt.test(p.type),c=p.url,p.hasContent||(p.data&&(c=p.url+=(Lt.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=jt.test(c)?c.replace(jt,"$1_="+Et++):c+(Lt.test(c)?"&":"?")+"_="+Et++)),p.ifModified&&($.lastModified[c]&&y.setRequestHeader("If-Modified-Since",$.lastModified[c]),$.etag[c]&&y.setRequestHeader("If-None-Match",$.etag[c])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&y.setRequestHeader("Content-Type",p.contentType),y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]),p.headers)y.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(f,y,p)||2===x))return y.abort();for(i in s="abort",{success:1,error:1,complete:1})y[i](p[i]);if(h=P(Rt,p,t,y)){y.readyState=1,u&&m.trigger("ajaxSend",[y,p]),p.async&&0<p.timeout&&(d=setTimeout(function(){y.abort("timeout")},p.timeout));try{x=1,h.send(r,n)}catch(e){if(!(x<2))throw e;n(-1,e)}}else n(-1,"No Transport");return y},getJSON:function(e,t,n){return $.get(e,t,n,"json")},getScript:function(e,t){return $.get(e,void 0,t,"script")}}),$.each(["get","post"],function(e,a){$[a]=function(e,t,n,i){return $.isFunction(t)&&(i=i||n,n=t,t=void 0),$.ajax({url:e,type:a,dataType:i,data:t,success:n})}}),$._evalUrl=function(e){return $.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},$.fn.extend({wrapAll:function(t){return $.isFunction(t)?this.each(function(e){$(this).wrapAll(t.call(this,e))}):(this[0]&&(e=$(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var e},wrapInner:function(n){return this.each($.isFunction(n)?function(e){$(this).wrapInner(n.call(this,e))}:function(){var e=$(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=$.isFunction(t);return this.each(function(e){$(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()}}),$.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!G.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||$.css(e,"display"))},$.expr.filters.visible=function(e){return!$.expr.filters.hidden(e)};var Bt=/%20/g,qt=/\[\]$/,Wt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Xt=/^(?:input|select|textarea|keygen)/i;$.param=function(e,t){function n(e,t){t=$.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,a=[];if(void 0===t&&(t=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(e)||e.jquery&&!$.isPlainObject(e))$.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,a,r){if($.isArray(e))$.each(e,function(e,t){a||qt.test(i)?r(i,t):n(i+"["+("object"==typeof t?e:"")+"]",t,a,r)});else if(a||"object"!==$.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],a,r)}(i,e[i],t,n);return a.join("&").replace(Bt,"+")},$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=$.prop(this,"elements");return e?$.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!$(this).is(":disabled")&&Xt.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!xe.test(e))}).map(function(e,t){var n=$(this).val();return null==n?null:$.isArray(n)?$.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}}),$.ajaxSettings.xhr=void 0!==f.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&z()||function(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:z;var Yt=0,Vt={},ge=$.ajaxSettings.xhr();f.attachEvent&&f.attachEvent("onunload",function(){for(var e in Vt)Vt[e](void 0,!0)}),G.cors=!!ge&&"withCredentials"in ge,(ge=G.ajax=!!ge)&&$.ajaxTransport(function(c){var l;if(!c.crossDomain||G.cors)return{send:function(e,r){var t,o=c.xhr(),s=++Yt;if(o.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(t in c.xhrFields)o[t]=c.xhrFields[t];for(t in c.mimeType&&o.overrideMimeType&&o.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&o.setRequestHeader(t,e[t]+"");o.send(c.hasContent&&c.data||null),l=function(e,t){var n,i,a;if(l&&(t||4===o.readyState))if(delete Vt[s],l=void 0,o.onreadystatechange=$.noop,t)4!==o.readyState&&o.abort();else{a={},n=o.status,"string"==typeof o.responseText&&(a.text=o.responseText);try{i=o.statusText}catch(e){i=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=a.text?200:404}a&&r(n,i,a,o.getAllResponseHeaders())},c.async?4===o.readyState?setTimeout(l):o.onreadystatechange=Vt[s]=l:l()},abort:function(){l&&l(void 0,!0)}}}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return $.globalEval(e),e}}}),$.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),$.ajaxTransport("script",function(t){if(t.crossDomain){var i,a=ie.head||$("head")[0]||ie.documentElement;return{send:function(e,n){(i=ie.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},a.insertBefore(i,a.firstChild)},abort:function(){i&&i.onload(void 0,!0)}}}});var Gt=[],$t=/(=)\?(?=&|$)|\?\?/;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||$.expando+"_"+Et++;return this[e]=!0,e}}),$.ajaxPrefilter("json jsonp",function(e,t,n){var i,a,r,o=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");return o||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=$.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace($t,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||$.error(i+" was not called"),r[0]},e.dataTypes[0]="json",a=f[i],f[i]=function(){r=arguments},n.always(function(){f[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(i)),r&&$.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),$.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ie;var i=te.exec(e),n=!n&&[];return i?[t.createElement(i[1])]:(i=$.buildFragment([e],t,n),n&&n.length&&$(n).remove(),$.merge([],i.childNodes))};var Qt=$.fn.load;$.fn.load=function(e,t,n){if("string"!=typeof e&&Qt)return Qt.apply(this,arguments);var i,a,r,o=this,s=e.indexOf(" ");return 0<=s&&(i=$.trim(e.slice(s,e.length)),e=e.slice(0,s)),$.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&$.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?$("<div>").append($.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},$.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){$.fn[t]=function(e){return this.on(t,e)}}),$.expr.filters.animated=function(t){return $.grep($.timers,function(e){return t===e.elem}).length};var Kt=f.document.documentElement;$.offset={setOffset:function(e,t,n){var i,a,r,o,s=$.css(e,"position"),c=$(e),l={};"static"===s&&(e.style.position="relative"),r=c.offset(),i=$.css(e,"top"),o=$.css(e,"left"),o=("absolute"===s||"fixed"===s)&&-1<$.inArray("auto",[i,o])?(a=(s=c.position()).top,s.left):(a=parseFloat(i)||0,parseFloat(o)||0),null!=(t=$.isFunction(t)?t.call(e,n,r):t).top&&(l.top=t.top-r.top+a),null!=t.left&&(l.left=t.left-r.left+o),"using"in t?t.using.call(e,l):c.css(l)}},$.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){$.offset.setOffset(this,t,e)});var e,n={top:0,left:0},i=this[0],a=i&&i.ownerDocument;return a?(e=a.documentElement,$.contains(e,i)?(typeof i.getBoundingClientRect!==he&&(n=i.getBoundingClientRect()),a=F(a),{top:n.top+(a.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(a.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===$.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),(n=!$.nodeName(e[0],"html")?e.offset():n).top+=$.css(e[0],"borderTopWidth",!0),n.left+=$.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-$.css(i,"marginTop",!0),left:t.left-n.left-$.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Kt;e&&!$.nodeName(e,"html")&&"static"===$.css(e,"position");)e=e.offsetParent;return e||Kt})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,a){var r=/Y/.test(a);$.fn[t]=function(e){return be(this,function(e,t,n){var i=F(e);return void 0===n?i?a in i?i[a]:i.document.documentElement[t]:e[t]:void(i?i.scrollTo(r?$(i).scrollLeft():n,r?n:$(i).scrollTop()):e[t]=n)},t,e,arguments.length,null)}}),$.each(["top","left"],function(e,n){$.cssHooks[n]=k(G.pixelPosition,function(e,t){return t?(t=Ue(e,n),Qe.test(t)?$(e).position()[n]+"px":t):void 0})}),$.each({Height:"height",Width:"width"},function(r,o){$.each({padding:"inner"+r,content:o,"":"outer"+r},function(i,e){$.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),a=i||(!0===e||!0===t?"margin":"border");return be(this,function(e,t,n){var i;return $.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?$.css(e,t,a):$.style(e,t,n,a)},o,n?e:void 0,n,null)}})}),$.fn.size=function(){return this.length},$.fn.andSelf=$.fn.addBack,"function"==typeof __cx.define&&__cx.define.amd&&__cx.define("jquery",[],function(){return $});var Jt=f.jQuery,Zt=f.$;return $.noConflict=function(e){return f.$===$&&(f.$=Zt),e&&f.jQuery===$&&(f.jQuery=Jt),$},$}),__cx.define("jquery-private",["jquery"],function(e){return e.noConflict()}),function(){function e(e){var t,r,n=a("plugin",e);return bLocked||oPlugins[n]?(bLocked?d("%cCan't register plugin "+u(n)+" -- Registration is locked.",y,NAMESPACE_COLOR,y):oPlugins[n]&&d("%cCan't register plugin "+u(n)+" -- Name is already taken",y,NAMESPACE_COLOR,y),x):(oPlugins[n]={name:e,namespace:n,interface:(r=n,{publish:function(e,t){return s(r,e,t)},publishDirect:function(e,t){return s(r,e,t,x,b)},republish:function(e,t){return s(r,e,t,b)},subscribe:function(e,t){return n=r,a=t,((i=c(i=e))||"").split("."),t=l(n),e=l(o(i)),a&&t?(oSubscriptions[i]||(oSubscriptions[i]={subscribers:[],republish:x}),oSubscriptions[i].subscribers.push({subscriber:n,callback:a}),d(u(n)+" subscribed to "+u(i),NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR),oSubscriptions[i].republish===b&&e&&function(e,t,n){d(u(t)+" republished: "+u(e),NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR),h(n,{time:(new Date).getTime(),publisher:t,event:e,data:{}})}(i,e.namespace,a),i):x;var n,i,a},unsubscribe:function(e){return function(e,t){if(l(o(e))&&(t=c(t),oSubscriptions[t]&&oSubscriptions[t].subscribers)){for(var n=[],i=0;i<oSubscriptions[t].subscribers.length;i++)oSubscriptions[t].subscribers[i].subscriber!=e&&n.push(oSubscriptions[t].subscribers[i]);return 0<n.length?oSubscriptions[t].subscribers=n:delete oSubscriptions[t],d(u(e)+" unsubscribed from "+u(t),NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR),b}return x}(r,e)},command:function(e,t){return function(e,n,t){n&&1===n.split(".").length?n=p([e,n]):!CONFIG_NS_STRICT&&n&&2===n.split(".").length&&(n=p([CONFIG_NS_ROOT,CONFIG_NS_PLUGIN,n]));var i=function(e){var t=e.split(".")||[],e=x;return 4==t.length&&t[0]==CONFIG_NS_ROOT&&t[1]==CONFIG_NS_PLUGIN&&t[2]&&(e=l(t[2]))&&e.commands[t[3]]||x}(n),a={time:(new Date).getTime(),commander:e,command:n,deferred:new f.Deferred,data:t||{}};return a.deferred.promise().fail(function(e){var t="%cError ("+u(n)+"): ";typeof e==DATATYPE_STRING?d(t+e,y,y,y):(d(t,y,y,y),d(e,y,y,y))}),i?(d(u(e)+" called the command: "+u(n),NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR),h(function(){i(a)})):h(function(){a.deferred.reject(ERROR__COMMAND_DOES_NOT_EXIST)}),a.deferred.promise()}(r,e,t)},registerCommand:function(e,t){return n=e,i=t,(t=l(e=r))?(t.commands[n]||oRegistry[e].commands.push(n),t.commands[n]=i,d(u(e)+" registered the command: "+u(n),NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR),b):x;var n,i},registerEvents:function(e){!function(e,t){var n=l(e);if(typeof(t=t||[])==DATATYPE_STRING&&(t=[t]),n&&0<t.length){for(var i=0;i<t.length;i++)n.events[t[i]]||(n.events[t[i]]=!0,oRegistry[e].events.push(t[i]));return d(u(e)+" registered the events: %c"+t.join(", "),NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR)}}(r,e)},parsePluginName:o,namespace:function(){return r+""},subscribers:function(){return function(e){var t,n={};for(t in oSubscriptions)if(t.match(e)){n[t]||(n[t]=[]);for(var i=0;i<oSubscriptions[t].subscribers.length;i++)n[t].push(oSubscriptions[t].subscribers[i].subscriber)}return n}(r)},data:function(e,t){return i=r,a=e,n(t),n;function n(e){return function(e,t,n){if(null!=n){var i;if(typeof n==DATATYPE_FUNCTION)return;oPlugins[e].data[t]?i=oPlugins[e].data[t].value:oPlugins[e].data[t]=DEFAULT_DATA_OBJECT;var a=typeof i,r=typeof n,o=oPlugins[e].data[t];o.last=i,o.value=n,a=a==DATATYPE_BOOLEAN&&r==DATATYPE_BOOLEAN?1:a==DATATYPE_NUMBER&&r==DATATYPE_NUMBER?n-i:a==DATATYPE_STRING&&r==DATATYPE_STRING?n.length-i.length:null,o.delta=a,o.time=(new Date).getTime();a=$.extend({},o),t="data."+t;i!=n&&(s(e,t,a),r==DATATYPE_STRING?s(e,t+":'"+o.value+"'",a,x,b):s(e,t+":"+o.value,a,x,b),s(e,t+":^"+o.delta,a,x,b))}}(i,a,e),t=i,e=a,oPlugins[t].data[e]?oPlugins[t].data[e].value:void 0;var t}var i,a},registry:function(){return oRegistry}}),events:[],commands:[],data:{}},oRegistry[n]={events:[],commands:[]},d("%c New Plugin Registered "+u(" "+n),w,NAMESPACE_COLOR),t=oPlugins[n],(e=t.interface).registerCommand("COMMANDS",function(){i(t,"Commands")}),e.registerCommand("EVENTS",function(){i(t,"Events")}),oPlugins[n].interface)}function i(e,t){for(var n in d("%cList of "+t+" for: "+u(e.namespace),w,NAMESPACE_COLOR),e[t.toLowerCase()])d("%c"+n,w)}function a(e,t){var t=t||"",n=[];switch(e.toLowerCase()){case"root":n=[CONFIG_NS_ROOT];break;case"plugin":n=[CONFIG_NS_ROOT,CONFIG_NS_PLUGIN,t]}return p(n)}function o(e){e=e.split(".")||[];return 3<=e.length&&e[0]==CONFIG_NS_ROOT&&e[1]==CONFIG_NS_PLUGIN&&e[2]?e[2]+"":x}function l(e){return oPlugins[e]||oPlugins[a("plugin",e)]||x}function s(e,t,n,i,a){var r=l(e),o=p([e,t]),t=u(e)+" published: "+u(t);if(r){if(i===b&&(oSubscriptions[o]?oSubscriptions[o].republish=b:oSubscriptions[o]={subscribers:[],republish:b}),a||d(t,NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR),oSubscriptions[o]){a&&d(t,NAMESPACE_COLOR,LOG_COLOR,NAMESPACE_COLOR);for(var s=oSubscriptions[o].subscribers,c=0;c<s.length;c++)h(s[c].callback,{time:(new Date).getTime(),publisher:r.namespace,event:o,data:n||{}})}return b}return x}function d(e,t,n,i,a,r){CONFIG_LOG&&(CONFIG_LOGSTORE&&aLog.push(e+""),CONFIG_DEBUG&&console&&console.log&&console.log(e,t||"",n||"",i||"",a||"",r||""))}function u(e){return"%c"+(e=!CONFIG_NS_STRICT?e.replace(CONFIG_NS_ROOT+"."+CONFIG_NS_PLUGIN+".",""):e)+"%c"}function h(e,t,n){setTimeout(function(){e(t)},n||0)}function p(e){return e.join(".")}function c(e){return e&&1===e.split(".").length?p([sCommander,e]):!CONFIG_NS_STRICT&&e&&2===e.split(".").length?p([CONFIG_NS_ROOT,CONFIG_NS_PLUGIN,e]):e}var f={};function m(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e,t){if(m(e))for(var n=0;n<e.length;n++)t(e[n]);else t(e)}function v(e){var i="pending",a=[],r=[],o=[],s=null,n={done:function(){for(var e=0;e<arguments.length;e++)if(arguments[e])if(m(arguments[e]))for(var t=arguments[e],n=0;n<t.length;n++)"resolved"===i&&t[n].apply(this,s),a.push(t[n]);else"resolved"===i&&arguments[e].apply(this,s),a.push(arguments[e]);return this},fail:function(){for(var e=0;e<arguments.length;e++)if(arguments[e])if(m(arguments[e]))for(var t=arguments[e],n=0;n<t.length;n++)"rejected"===i&&t[n].apply(this,s),r.push(t[n]);else"rejected"===i&&arguments[e].apply(this,s),r.push(arguments[e]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var e=0;e<arguments.length;e++)if(arguments[e])if(m(arguments[e]))for(var t=arguments[e],n=0;n<t.length;n++)"pending"===i&&o.push(t[n]);else"pending"===i&&o.push(arguments[e]);return this},then:function(){1<arguments.length&&arguments[1]&&this.fail(arguments[1]),0<arguments.length&&arguments[0]&&this.done(arguments[0]),2<arguments.length&&arguments[2]&&this.progress(arguments[2])},promise:function(e){if(null==e)return n;for(var t in n)e[t]=n[t];return e},state:function(){return i},debug:function(){console.log("DEBUG -- ",a,r,i)},isRejected:function(){return"rejected"===i},isResolved:function(){return"resolved"===i},pipe:function(e,t){return v(function(n){g(e,function(t){c.done("function"==typeof t?function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(n.resolve,n.reject,n.notify):n.resolve(e)}:n.resolve)}),g(t,function(t){c.fail("function"==typeof t?function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(n.resolve,n.reject,n.notify):n.reject(e)}:n.reject)})}).promise()}},c={resolveWith:function(e){if("pending"===i){i="resolved";for(var t=s=1<arguments.length?arguments[1]:[],n=0;n<a.length;n++)a[n].apply(e,t)}return this},rejectWith:function(e){if("pending"===i){i="rejected";for(var t=s=1<arguments.length?arguments[1]:[],n=0;n<r.length;n++)r[n].apply(e,t)}return this},notifyWith:function(e){if("pending"===i)for(var t=s=1<arguments.length?arguments[1]:[],n=0;n<o.length;n++)o[n].apply(e,t);return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},t=n.promise(c);return e&&e.apply(t,[t]),t}t=f,v.when=function(){if(arguments.length<2){var e=arguments.length?arguments[0]:void 0;return(e&&"function"==typeof e.isResolved&&"function"==typeof e.isRejected?e:v().resolve(e)).promise()}return function(n){for(var i=v(),a=n.length,r=0,o=new Array(a),e=0;e<n.length;e++)!function(e){var t;n[e].done?n[e].done(function(){o[e]=arguments.length<2?arguments[0]:arguments,++r==a&&i.resolve.apply(i,o)}).fail(function(){i.reject(arguments)}):(t=n[e],n[e]=new Deferred,n[e].done(function(){o[e]=arguments.length<2?arguments[0]:arguments,++r==a&&i.resolve.apply(i,o)}).fail(function(){i.reject(arguments)}).resolve(t))}(e);return i.promise()}(arguments)},t.Deferred=v;var b=!0,x=!1,t=null,y="color:red;font-weight:bold",w="color:white;background:#6495ed";LOG_COLOR="color:#555;font-style:italic",NAMESPACE_COLOR="color:#6495ed;font-weight:bold",oPlugins={},oSubscriptions={},oRegistry={},aLog=[],bLocked=x,oMasterControl={lock:function(){bLocked=b,d("CXBus registration is now locked",w)},unlock:function(){bLocked=x,d("CXBus registration is now unlocked",w)},config:function(e){typeof(e=e)==DATATYPE_OBJECT&&(typeof e.debug==DATATYPE_BOOLEAN&&(CONFIG_DEBUG=e.debug),typeof e.nsRoot==DATATYPE_STRING&&(CONFIG_NS_ROOT=e.nsRoot),typeof e.nsPlugin==DATATYPE_STRING&&(CONFIG_NS_PLUGIN=e.nsPlugin),typeof e.nsStrict==DATATYPE_BOOLEAN&&(CONFIG_NS_STRICT=e.nsStrict),typeof e.log==DATATYPE_BOOLEAN&&(CONFIG_LOG=e.log),typeof e.logStore==DATATYPE_BOOLEAN&&(CONFIG_LOGSTORE=e.logStore),d("%cCXBus configuration changed",w))}},CONFIG_DEBUG=x,CONFIG_NS_ROOT="cx",CONFIG_NS_PLUGIN="plugin",CONFIG_NS_STRICT=x,CONFIG_LOG=b,CONFIG_LOGSTORE=x,DATATYPE_BOOLEAN="boolean",DATATYPE_STRING="string",DATATYPE_NUMBER="number",DATATYPE_OBJECT="object",DATATYPE_FUNCTION="function",DEFAULT_DATA_OBJECT={last:t,value:t,delta:t},ERROR__COMMAND_DOES_NOT_EXIST="Command does not exist";t=function(){return{registerPlugin:e,registerMaster:function(){return e=oMasterControl,oMasterControl=void 0,d("%cCXBus Master Control Registered",w),e;var e}}};(typeof define==DATATYPE_FUNCTION&&define.amd||typeof __cx.define==DATATYPE_FUNCTION&&__cx.define.amd)&&__cx.define("cx-bus",[],t)}(),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("jquery-ui",["jquery"],e):e(jQuery)}(function(x){x.ui=x.ui||{},x.ui.version="1.12.1";var a,n=0,s=Array.prototype.slice;x.cleanData=(a=x.cleanData,function(e){for(var t,n,i=0;null!=(n=e[i]);i++)try{(t=x._data(n,"events"))&&t.remove&&x(n).triggerHandler("remove")}catch(e){}a(e)}),x.widget=function(e,n,t){var i,a,r,o={},s=e.split(".")[0],c=s+"-"+(e=e.split(".")[1]);return t||(t=n,n=x.Widget),x.isArray(t)&&(t=x.extend.apply(null,[{}].concat(t))),x.expr[":"][c.toLowerCase()]=function(e){return!!x.data(e,c)},x[s]=x[s]||{},i=x[s][e],a=x[s][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},x.extend(a,i,{version:t.version,_proto:x.extend({},t),_childConstructors:[]}),(r=new n).options=x.widget.extend({},r.options),x.each(t,function(t,i){return x.isFunction(i)?void(o[t]=function(){var e,t=this._super,n=this._superApply;return this._super=a,this._superApply=r,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):void(o[t]=i);function a(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}}),a.prototype=x.widget.extend(r,{widgetEventPrefix:i&&r.widgetEventPrefix||e},o,{constructor:a,namespace:s,widgetName:e,widgetFullName:c}),i?(x.each(i._childConstructors,function(e,t){var n=t.prototype;x.widget(n.namespace+"."+n.widgetName,a,t._proto)}),delete i._childConstructors):n._childConstructors.push(a),x.widget.bridge(e,a),a},x.widget.extend=function(e){for(var t,n,i=s.call(arguments,1),a=0,r=i.length;a<r;a++)for(t in i[a])n=i[a][t],i[a].hasOwnProperty(t)&&void 0!==n&&(e[t]=x.isPlainObject(n)?x.isPlainObject(e[t])?x.widget.extend({},e[t],n):x.widget.extend({},n):n);return e},x.widget.bridge=function(r,t){var o=t.prototype.widgetFullName||r;x.fn[r]=function(n){var e="string"==typeof n,i=s.call(arguments,1),a=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=x.data(this,o);return"instance"===n?(a=t,!1):t?x.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&void 0!==e?(a=e&&e.jquery?a.pushStack(e.get()):e,!1):void 0:x.error("no such method '"+n+"' for "+r+" widget instance"):x.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):a=void 0:(i.length&&(n=x.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=x.data(this,o);e?(e.option(n||{}),e._init&&e._init()):x.data(this,o,new t(n,this))})),a}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=x(t||this.defaultElement||this)[0],this.element=x(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},t!==this&&(x.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=x(t.style?t.ownerDocument:t.document||t),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){var n=this;this._destroy(),x.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function(){return this.element},option:function(e,t){var n,i,a,r=e;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof e)if(r={},e=(n=e.split(".")).shift(),n.length){for(i=r[e]=x.widget.extend({},this.options[e]),a=0;n.length-1>a;a++)i[n[a]]=i[n[a]]||{},i=i[n[a]];if(e=n.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=t}return this._setOptions(r),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(n=x(i.get()),this._removeClass(i,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(a){function e(e,t){for(var n,i=0;e.length>i;i++)n=o.classesElementLookup[e[i]]||x(),n=x(a.add?x.unique(n.get().concat(a.element.get())):n.not(a.element).get()),o.classesElementLookup[e[i]]=n,r.push(e[i]),t&&a.classes[e[i]]&&r.push(a.classes[e[i]])}var r=[],o=this;return a=x.extend({element:this.element,classes:this.options.classes||{}},a),this._on(a.element,{remove:"_untrackClassesElement"}),a.keys&&e(a.keys.match(/\S+/g)||[],!0),a.extra&&e(a.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(n){var i=this;x.each(i.classesElementLookup,function(e,t){-1!==x.inArray(n.target,t)&&(i.classesElementLookup[e]=x(t.not(n.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){var a="string"==typeof e||null===e,n={extra:a?t:n,keys:a?e:t,element:a?this.element:e,add:i="boolean"==typeof i?i:n};return n.element.toggleClass(this._classes(n),i),this},_on:function(a,r,e){var o,s=this;"boolean"!=typeof a&&(e=r,r=a,a=!1),e?(r=o=x(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,o=this.widget()),x.each(e,function(e,t){function n(){return a||!0!==s.options.disabled&&!x(this).hasClass("ui-state-disabled")?("string"==typeof t?s[t]:t).apply(s,arguments):void 0}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||x.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),e=i[1]+s.eventNamespace,i=i[2];i?o.on(e,i,n):r.on(e,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=x(this.bindings.not(e).get()),this.focusable=x(this.focusable.not(e).get()),this.hoverable=x(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(x(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(x(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(x(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(x(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,a,r=this.options[e];if(n=n||{},(t=x.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],a=t.originalEvent)for(i in a)i in t||(t[i]=a[i]);return this.element.trigger(t,n),!(x.isFunction(r)&&!1===r.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(r,o){x.Widget.prototype["_"+r]=function(t,e,n){var i=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||o:r,a=!x.isEmptyObject(e="number"==typeof(e=e||{})?{duration:e}:e);e.complete=n,e.delay&&t.delay(e.delay),a&&x.effects&&x.effects.effect[i]?t[r](e):i!==r&&t[i]?t[i](e.duration,e.easing,n):t.queue(function(e){x(this)[r](),n&&n.call(t[0]),e()})}}),x.widget,x.extend(x.expr[":"],{data:x.expr.createPseudo?x.expr.createPseudo(function(t){return function(e){return!!x.data(e,t)}}):function(e,t,n){return!!x.data(e,n[3])}}),x.fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=x(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:x(this[0].ownerDocument||document)},x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var r=!1;x(document).on("mouseup",function(){r=!1}),x.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){return!0===x.data(e.target,t.widgetName+".preventClickEvent")?(x.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&x(e.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===x.data(e.target,this.widgetName+".preventClickEvent")&&x.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0)),!0}},_mouseMove:function(e){if(this._mouseMoved){if(x.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&x.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),x.ui.plugin={add:function(e,t,n){var i,a=x.ui[e].prototype;for(i in n)a.plugins[i]=a.plugins[i]||[],a.plugins[i].push([t,n[i]])},call:function(e,t,n,i){var a,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(a=0;r.length>a;a++)e.options[r[a][0]]&&r[a][1].apply(e.element,n)}},x.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}return n=!(n=n||t.body).nodeName?t.body:n},x.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&x(e).trigger("blur")},x.widget("ui.draggable",x.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<x(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=x(this);return x("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=x.ui.safeActiveElement(this.document[0]);x(e.target).closest(t).length||x.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),x.ui.ddmanager&&(x.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===x(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),x.ui.ddmanager&&!t.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),x.ui.ddmanager&&x.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){t=this._uiHash();if(!1===this._trigger("drag",e,t))return this._mouseUp(new x.Event("mouseup",e)),!1;this.position=t.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",x.ui.ddmanager&&x.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return x.ui.ddmanager&&!this.options.dropBehaviour&&(n=x.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||x.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?x(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),x.ui.ddmanager&&x.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),x.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new x.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!x(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=x.isFunction(t.helper),e=n?x(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=x.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t=this.options,n=this.document[0];return this.relativeContainer=null,t.containment?"window"===t.containment?void(this.containment=[x(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,x(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,x(window).scrollLeft()+x(window).width()-this.helperProportions.width-this.margins.left,x(window).scrollTop()+(x(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===t.containment?void(this.containment=[0,0,x(n).width()-this.helperProportions.width-this.margins.left,(x(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):t.containment.constructor===Array?void(this.containment=t.containment):("parent"===t.containment&&(t.containment=this.helper[0].parentNode),void((n=(e=x(t.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,e=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i=this.options,a=this._isRootNode(this.scrollParent[0]),r=e.pageX,o=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(n=this.relativeContainer?(n=this.relativeContainer.offset(),[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):this.containment,e.pageX-this.offset.click.left<n[0]&&(r=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(o=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(r=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(o=n[3]+this.offset.click.top)),i.grid&&(e=i.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,o=!n||e-this.offset.click.top>=n[1]||e-this.offset.click.top>n[3]?e:e-this.offset.click.top>=n[1]?e-i.grid[1]:e+i.grid[1],e=i.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,r=!n||e-this.offset.click.left>=n[0]||e-this.offset.click.left>n[2]?e:e-this.offset.click.left>=n[0]?e-i.grid[0]:e+i.grid[0]),"y"===i.axis&&(r=this.originalPageX),"x"===i.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,n){return n=n||this._uiHash(),x.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),x.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),x.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=x.extend({},e,{item:n.element});n.sortables=[],x(n.options.connectToSortable).each(function(){var e=x(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,n){var i=x.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,x.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(n,i,a){x.each(a.sortables,function(){var e=!1,t=this;t.positionAbs=a.positionAbs,t.helperProportions=a.helperProportions,t.offset.click=a.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,x.each(a.sortables,function(){return this.positionAbs=a.positionAbs,this.helperProportions=a.helperProportions,this.offset.click=a.offset.click,e=this!==t&&this._intersectsWith(this.containerCache)&&x.contains(t.element[0],this.element[0])?!1:e})),e?(t.isOver||(t.isOver=1,a._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=a.offset.click.top,t.offset.click.left=a.offset.click.left,t.offset.parent.left-=a.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=a.offset.parent.top-t.offset.parent.top,a._trigger("toSortable",n),a.dropped=t.element,x.each(a.sortables,function(){this.refreshPositions()}),a.currentItem=a.element,t.fromOutside=a),t.currentItem&&(t._mouseDrag(n),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(a._parent),a._refreshOffsets(n),i.position=a._generatePosition(n,!0),a._trigger("fromSortable",n),a.dropped=!1,x.each(a.sortables,function(){this.refreshPositions()}))})}}),x.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=x("body"),n=n.options;i.css("cursor")&&(n._cursor=i.css("cursor")),i.css("cursor",n.cursor)},stop:function(e,t,n){n=n.options;n._cursor&&x("body").css("cursor",n._cursor)}}),x.ui.plugin.add("draggable","opacity",{start:function(e,t,n){t=x(t.helper),n=n.options;t.css("opacity")&&(n._opacity=t.css("opacity")),t.css("opacity",n.opacity)},stop:function(e,t,n){n=n.options;n._opacity&&x(t.helper).css("opacity",n._opacity)}}),x.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var i=n.options,a=!1,r=n.scrollParentNotHidden[0],o=n.document[0];r!==o&&"HTML"!==r.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+r.offsetHeight-e.pageY<i.scrollSensitivity?r.scrollTop=a=r.scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(r.scrollTop=a=r.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+r.offsetWidth-e.pageX<i.scrollSensitivity?r.scrollLeft=a=r.scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(r.scrollLeft=a=r.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-x(o).scrollTop()<i.scrollSensitivity?a=x(o).scrollTop(x(o).scrollTop()-i.scrollSpeed):x(window).height()-(e.pageY-x(o).scrollTop())<i.scrollSensitivity&&(a=x(o).scrollTop(x(o).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-x(o).scrollLeft()<i.scrollSensitivity?a=x(o).scrollLeft(x(o).scrollLeft()-i.scrollSpeed):x(window).width()-(e.pageX-x(o).scrollLeft())<i.scrollSensitivity&&(a=x(o).scrollLeft(x(o).scrollLeft()+i.scrollSpeed)))),!1!==a&&x.ui.ddmanager&&!i.dropBehaviour&&x.ui.ddmanager.prepareOffsets(n,e)}}),x.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[],x(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=x(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){for(var i,a,r,o,s,c,l,d,u,h=n.options,p=h.snapTolerance,f=t.offset.left,m=f+n.helperProportions.width,g=t.offset.top,v=g+n.helperProportions.height,b=n.snapElements.length-1;0<=b;b--)c=(s=n.snapElements[b].left-n.margins.left)+n.snapElements[b].width,d=(l=n.snapElements[b].top-n.margins.top)+n.snapElements[b].height,m<s-p||c+p<f||v<l-p||d+p<g||!x.contains(n.snapElements[b].item.ownerDocument,n.snapElements[b].item)?(n.snapElements[b].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,x.extend(n._uiHash(),{snapItem:n.snapElements[b].item})),n.snapElements[b].snapping=!1):("inner"!==h.snapMode&&(i=p>=Math.abs(l-v),a=p>=Math.abs(d-g),r=p>=Math.abs(s-m),o=p>=Math.abs(c-f),i&&(t.position.top=n._convertPositionTo("relative",{top:l-n.helperProportions.height,left:0}).top),a&&(t.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),r&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),u=i||a||r||o,"outer"!==h.snapMode&&(i=p>=Math.abs(l-g),a=p>=Math.abs(d-v),r=p>=Math.abs(s-f),o=p>=Math.abs(c-m),i&&(t.position.top=n._convertPositionTo("relative",{top:l,left:0}).top),a&&(t.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),r&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[b].snapping&&(i||a||r||o||u)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,x.extend(n._uiHash(),{snapItem:n.snapElements[b].item})),n.snapElements[b].snapping=i||a||r||o||u)}}),x.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,n=n.options,n=x.makeArray(x(n.stack)).sort(function(e,t){return(parseInt(x(e).css("zIndex"),10)||0)-(parseInt(x(t).css("zIndex"),10)||0)});n.length&&(i=parseInt(x(n[0]).css("zIndex"),10)||0,x(n).each(function(e){x(this).css("zIndex",i+e)}),this.css("zIndex",i+n.length))}}),x.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){t=x(t.helper),n=n.options;t.css("zIndex")&&(n._zIndex=t.css("zIndex")),t.css("zIndex",n.zIndex)},stop:function(e,t,n){n=n.options;n._zIndex&&x(t.helper).css("zIndex",n._zIndex)}}),x.ui.draggable,x.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=x.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){x.ui.ddmanager.droppables[e]=x.ui.ddmanager.droppables[e]||[],x.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=x.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){var n;"accept"===e?this.accept=x.isFunction(t)?t:function(e){return e.is(t)}:"scope"===e&&(n=x.ui.ddmanager.droppables[this.options.scope],this._splice(n),this._addToManager(t)),this._super(e,t)},_activate:function(e){var t=x.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=x.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=x.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=x.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var n=e||x.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=x(this).droppable("instance");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&o(n,x.extend(e,{offset:e.element.offset()}),e.options.tolerance,t)?!(i=!0):void 0}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var o=x.ui.intersect=function(e,t,n,i){if(!t.offset)return!1;var a=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,o=a+e.helperProportions.width,s=r+e.helperProportions.height,c=t.offset.left,l=t.offset.top,d=c+t.proportions().width,u=l+t.proportions().height;switch(n){case"fit":return c<=a&&o<=d&&l<=r&&s<=u;case"intersect":return a+e.helperProportions.width/2>c&&d>o-e.helperProportions.width/2&&r+e.helperProportions.height/2>l&&u>s-e.helperProportions.height/2;case"pointer":return h(i.pageY,l,t.proportions().height)&&h(i.pageX,c,t.proportions().width);case"touch":return(l<=r&&r<=u||l<=s&&s<=u||r<l&&u<s)&&(c<=a&&a<=d||c<=o&&o<=d||a<c&&d<o);default:return!1}};function h(e,t,n){return t<=e&&e<t+n}!(x.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,a=x.ui.ddmanager.droppables[e.options.scope]||[],r=t?t.type:null,o=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;a.length>n;n++)if(!(a[n].options.disabled||e&&!a[n].accept.call(a[n].element[0],e.currentItem||e.element))){for(i=0;o.length>i;i++)if(o[i]===a[n].element[0]){a[n].proportions().height=0;continue e}a[n].visible="none"!==a[n].element.css("display"),a[n].visible&&("mousedown"===r&&a[n]._activate.call(a[n],t),a[n].offset=a[n].element.offset(),a[n].proportions({width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return x.each((x.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&o(e,this,this.options.tolerance,t)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||x.ui.ddmanager.prepareOffsets(e,t)})},drag:function(a,r){a.options.refreshPositions&&x.ui.ddmanager.prepareOffsets(a,r),x.each(x.ui.ddmanager.droppables[a.options.scope]||[],function(){var e,t,n,i;this.options.disabled||this.greedyChild||!this.visible||(i=!(n=o(a,this,this.options.tolerance,r))&&this.isover?"isout":n&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return x(this).droppable("instance").options.scope===t})).length&&((e=x(n[0]).droppable("instance")).greedyChild="isover"===i)),e&&"isover"===i&&(e.isover=!1,e.isout=!0,e._out.call(e,r)),this[i]=!0,this["isout"===i?"isover":"isout"]=!1,this["isover"===i?"_over":"_out"].call(this,r),e&&"isout"===i&&(e.isout=!1,e.isover=!0,e._over.call(e,r)))})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||x.ui.ddmanager.prepareOffsets(e,t)}})!==x.uiBackCompat&&x.widget("ui.droppable",x.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),x.ui.droppable}),function(r,o,h){function e(e,t){for(var n in this.wrapper="string"==typeof e?o.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!p.hasPointer,disableTouch:p.hasPointer||!p.hasTouch,disableMouse:p.hasPointer||p.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===r.onmousedown},t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&p.hasPerspective?" translateZ(0)":"",this.options.useTransition=p.hasTransition&&this.options.useTransition,this.options.useTransform=p.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?p.ease[this.options.bounceEasing]||p.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(e,t,n){var i=o.createElement("div"),a=o.createElement("div");return!0===n&&(i.style.cssText="position:absolute;z-index:9999",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),a.className="iScrollIndicator","h"==e?(!0===n&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===n&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",a.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",t||(i.style.pointerEvents="none"),i.appendChild(a),i}function c(e,t){for(var n in this.wrapper="string"==typeof t.el?o.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},t)this.options[n]=t[n];var i,a;this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(p.addEvent(this.indicator,"touchstart",this),p.addEvent(r,"touchend",this)),this.options.disablePointer||(p.addEvent(this.indicator,p.prefixPointerEvent("pointerdown"),this),p.addEvent(r,p.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(p.addEvent(this.indicator,"mousedown",this),p.addEvent(r,"mouseup",this))),this.options.fade&&(this.wrapperStyle[p.style.transform]=this.scroller.translateZ,(i=p.style.transitionDuration)&&(this.wrapperStyle[i]=p.isBadAndroid?"0.0001ms":"0ms",a=this,p.isBadAndroid&&u(function(){"0.0001ms"===a.wrapperStyle[i]&&(a.wrapperStyle[i]="0s")}),this.wrapperStyle.opacity="0"))}var u=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(e){r.setTimeout(e,1e3/60)},p=function(){function e(e){return!1!==t&&(""===t?e:t+e.charAt(0).toUpperCase()+e.substr(1))}var i={},a=o.createElement("div").style,t=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,n=e.length;t<n;t++)if(e[t]+"ransform"in a)return e[t].substr(0,e[t].length-1);return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(e,t){for(var n in t)e[n]=t[n]},i.addEvent=function(e,t,n,i){e.addEventListener(t,n,!!i)},i.removeEvent=function(e,t,n,i){e.removeEventListener(t,n,!!i)},i.prefixPointerEvent=function(e){return r.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},i.momentum=function(e,t,n,i,a,r){var o=e-t,t=h.abs(o)/n,n=t/(r=void 0===r?6e-4:r);return(r=e+t*t/(2*r)*(o<0?-1:1))<i?n=(o=h.abs((r=a?i-a/2.5*(t/8):i)-e))/t:0<r&&(r=a?a/2.5*(t/8):0,n=(o=h.abs(e)+r)/t),{destination:h.round(r),duration:n}};var n=e("transform");return i.extend(i,{hasTransform:!1!==n,hasPerspective:e("perspective")in a,hasTouch:"ontouchstart"in r,hasPointer:!(!r.PointerEvent&&!r.MSPointerEvent),hasTransition:e("transition")in a}),i.isBadAndroid=function(){var e=r.navigator.appVersion;if(!/Android/.test(e)||/Chrome\/\d/.test(e))return!1;e=e.match(/Safari\/(\d+.\d)/);return!(e&&"object"==typeof e&&2<=e.length)||parseFloat(e[1])<535.19}(),i.extend(i.style={},{transform:n,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin"),touchAction:e("touchAction")}),i.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},i.addClass=function(e,t){var n;i.hasClass(e,t)||((n=e.className.split(" ")).push(t),e.className=n.join(" "))},i.removeClass=function(e,t){i.hasClass(e,t)&&(t=new RegExp("(^|\\s)"+t+"(\\s|$)","g"),e.className=e.className.replace(t," "))},i.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},i.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return h.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return--e*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*h.pow(2,-10*e)*h.sin(2*(e-.055)*h.PI/.22)+1}}}),i.tap=function(e,t){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},i.click=function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((t=o.createEvent(r.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),t.view=e.view||r,t.detail=1,t.screenX=n.screenX||0,t.screenY=n.screenY||0,t.clientX=n.clientX||0,t.clientY=n.clientY||0,t.ctrlKey=!!e.ctrlKey,t.altKey=!!e.altKey,t.shiftKey=!!e.shiftKey,t.metaKey=!!e.metaKey,t.button=0,t.relatedTarget=null,t._constructed=!0,n.dispatchEvent(t))},i.getTouchAction=function(e,t){var n="none";return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},i.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},i}();e.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){var t;if(1!=p.eventType[e.type]&&0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return;!this.enabled||this.initiated&&p.eventType[e.type]!==this.initiated||(!this.options.preventDefault||p.isBadAndroid||p.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault(),t=e.touches?e.touches[0]:e,this.initiated=p.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=p.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(h.round(e.x),h.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this._execEvent("beforeScrollStart"))},_move:function(e){if(this.enabled&&p.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n=e.touches?e.touches[0]:e,i=n.pageX-this.pointX,a=n.pageY-this.pointY,r=p.getTime();if(this.pointX=n.pageX,this.pointY=n.pageY,this.distX+=i,this.distY+=a,t=h.abs(this.distX),n=h.abs(this.distY),!(300<r-this.endTime&&t<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=t>n+this.options.directionLockThreshold?"h":n>=t+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,a=this.hasVerticalScroll?a:0,t=this.x+i,e=this.y+a,(0<t||t<this.maxScrollX)&&(t=this.options.bounce?this.x+i/3:0<t?0:this.maxScrollX),(0<e||e<this.maxScrollY)&&(e=this.options.bounce?this.y+a/3:0<e?0:this.maxScrollY),this.directionX=0<i?-1:i<0?1:0,this.directionY=0<a?-1:a<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,e),300<r-this.startTime&&(this.startTime=r,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&p.eventType[e.type]===this.initiated){this.options.preventDefault&&!p.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,n=(e.changedTouches&&e.changedTouches[0],p.getTime()-this.startTime),i=h.round(this.x),a=h.round(this.y),r=h.abs(i-this.startX),o=h.abs(a-this.startY),s=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=p.getTime(),!this.resetPosition(this.options.bounceTime))return(this.scrollTo(i,a),this.moved)?this._events.flick&&n<200&&r<100&&o<100?void this._execEvent("flick"):(this.options.momentum&&n<300&&(o=this.hasHorizontalScroll?p.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:i,duration:0},t=this.hasVerticalScroll?p.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},i=o.destination,a=t.destination,s=h.max(o.duration,t.duration),this.isInTransition=1),this.options.snap&&(t=this._nearestSnap(i,a),this.currentPage=t,s=this.options.snapSpeed||h.max(h.max(h.min(h.abs(i-t.x),1e3),h.min(h.abs(a-t.y),1e3)),300),i=t.x,a=t.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),i!=this.x||a!=this.y?((0<i||i<this.maxScrollX||0<a||a<this.maxScrollY)&&(c=p.ease.quadratic),void this.scrollTo(i,a,s,c)):void this._execEvent("scrollEnd")):(this.options.tap&&p.tap(e,this.options.tap),this.options.click&&p.click(e),void this._execEvent("scrollCancel"))}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||0<this.x?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||0<this.y?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){p.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=p.getRect(this.scroller);this.scrollerWidth=e.width,this.scrollerHeight=e.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,p.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[p.style.touchAction]=p.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[p.style.touchAction]||(this.wrapper.style[p.style.touchAction]=p.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=p.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){!this._events[e]||-1<(t=this._events[e].indexOf(t))&&this._events[e].splice(t,1)},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,i){e=this.x+e,t=this.y+t,this.scrollTo(e,t,n=n||0,i)},scrollTo:function(e,t,n,i){i=i||p.ease.circular,this.isInTransition=this.options.useTransition&&0<n;var a=this.options.useTransition&&i.style;!n||a?(a&&(this._transitionTimingFunction(i.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,n,i,a){var r,o;(e=e.nodeType?e:this.scroller.querySelector(e))&&((r=p.offset(e)).left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,o=p.getRect(e),e=p.getRect(this.wrapper),!0===n&&(n=h.round(o.width/2-e.width/2)),!0===i&&(i=h.round(o.height/2-e.height/2)),r.left-=n||0,r.top-=i||0,r.left=0<r.left?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=0<r.top?0:r.top<this.maxScrollY?this.maxScrollY:r.top,t=null==t||"auto"===t?h.max(h.abs(this.x-r.left),h.abs(this.y-r.top)):t,this.scrollTo(r.left,r.top,t,a))},_transitionTime:function(e){if(this.options.useTransition){e=e||0;var t,n=p.style.transitionDuration;if(n)if(this.scrollerStyle[n]=e+"ms",!e&&p.isBadAndroid&&(this.scrollerStyle[n]="0.0001ms",t=this,u(function(){"0.0001ms"===t.scrollerStyle[n]&&(t.scrollerStyle[n]="0s")})),this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e)}},_transitionTimingFunction:function(e){if(this.scrollerStyle[p.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[p.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=h.round(e),t=h.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?p.removeEvent:p.addEvent,e=this.options.bindToWrapper?this.wrapper:r;t(r,"orientationchange",this),t(r,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(e,"mousemove",this),t(e,"mousecancel",this),t(e,"mouseup",this)),p.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,p.prefixPointerEvent("pointerdown"),this),t(e,p.prefixPointerEvent("pointermove"),this),t(e,p.prefixPointerEvent("pointercancel"),this),t(e,p.prefixPointerEvent("pointerup"),this)),p.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(e,"touchmove",this),t(e,"touchcancel",this),t(e,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,t=r.getComputedStyle(this.scroller,null),t=this.options.useTransform?(e=+((t=t[p.style.transform].split(")")[0].split(", "))[12]||t[4]),+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),+t.top.replace(/[^-\d.]/g,""));return{x:e,y:t}},_initIndicators:function(){function e(e){if(r.indicators)for(var t=r.indicators.length;t--;)e.call(r.indicators[t])}var t,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,a=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:s("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),a.push(t)),this.options.scrollX&&(t={el:s("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),a.push(t)));for(var o=(a=this.options.indicators?a.concat(this.options.indicators):a).length;o--;)this.indicators.push(new c(this,a[o]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){p.addEvent(this.wrapper,"wheel",this),p.addEvent(this.wrapper,"mousewheel",this),p.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,p.removeEvent(this.wrapper,"wheel",this),p.removeEvent(this.wrapper,"mousewheel",this),p.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t,n,i,a,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in e)n=1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return i=this.currentPage.pageX,a=this.currentPage.pageY,0<t?i--:t<0&&i++,0<n?a--:n<0&&a++,void this.goToPage(i,a);i=this.x+h.round(this.hasHorizontalScroll?t:0),a=this.y+h.round(this.hasVerticalScroll?n:0),this.directionX=0<t?-1:t<0?1:0,this.directionY=0<n?-1:n<0?1:0,0<i?i=0:i<this.maxScrollX&&(i=this.maxScrollX),0<a?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.scrollTo(i,a,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,n,i,a,r,o,s=0,c=0,l=0,d=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=h.round(d/2),i=h.round(u/2);l>-this.scrollerWidth;){for(this.pages[s]=[],a=e=0;a>-this.scrollerHeight;)this.pages[s][e]={x:h.max(l,this.maxScrollX),y:h.max(a,this.maxScrollY),width:d,height:u,cx:l-n,cy:a-i},a-=u,e++;l-=d,s++}else for(e=(r=this.options.snap).length,t=-1;s<e;s++)o=p.getRect(r[s]),(0===s||o.left<=p.getRect(r[s-1]).left)&&(c=0,t++),this.pages[c]||(this.pages[c]=[]),l=h.max(-o.left,this.maxScrollX),a=h.max(-o.top,this.maxScrollY),n=l-h.round(o.width/2),i=a-h.round(o.height/2),this.pages[c][t]={x:l,y:a,width:o.width,height:o.height,cx:n,cy:i},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=h.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=h.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||h.max(h.max(h.min(h.abs(this.x-this.startX),1e3),h.min(h.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,a=0;if(h.abs(e-this.absStartX)<this.snapThresholdX&&h.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<e?e=0:e<this.maxScrollX&&(e=this.maxScrollX),0<t?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<i;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(i=this.pages[n].length;a<i;a++)if(t>=this.pages[0][a].cy){t=this.pages[0][a].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),a==this.currentPage.pageY&&((a+=this.directionY)<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),t=this.pages[0][a].y),{x:e,y:t,pageX:n,pageY:a}},goToPage:function(e,t,n,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var a=this.pages[e][t].x,r=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||h.max(h.max(h.min(h.abs(a-this.x),1e3),h.min(h.abs(r-this.y),1e3)),300):n,this.currentPage={x:a,y:r,pageX:e,pageY:t},this.scrollTo(a,r,n,i)},next:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,e,t)},prev:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,e,t)},_initKeys:function(){var e,t={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in t)this.options.keyBindings[e]=this.options.keyBindings[e]||t[e];p.addEvent(r,"keydown",this),this.on("destroy",function(){p.removeEvent(r,"keydown",this)})},_key:function(e){if(this.enabled){var t,n=this.options.snap,i=n?this.currentPage.pageX:this.x,a=n?this.currentPage.pageY:this.y,r=p.getTime(),o=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(h.round(t.x),h.round(t.y)),this.isInTransition=!1),this.keyAcceleration=r-o<200?h.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:a+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:a-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,a=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:a=i=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=n?1:5+this.keyAcceleration>>0;break;default:return}n?this.goToPage(i,a):(0<i?this.keyAcceleration=i=0:i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),0<a?this.keyAcceleration=a=0:a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,a,0),this.keyTime=r)}},_animate:function(n,i,a,r){var o=this,s=this.x,c=this.y,l=p.getTime(),d=l+a;this.isAnimating=!0,function e(){var t=p.getTime();return d<=t?(o.isAnimating=!1,o._translate(n,i),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(t=r((t-l)/a),o._translate((n-s)*t+s,(i-c)*t+c),void(o.isAnimating&&u(e)))}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},c.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(p.removeEvent(this.indicator,"touchstart",this),p.removeEvent(this.indicator,p.prefixPointerEvent("pointerdown"),this),p.removeEvent(this.indicator,"mousedown",this),p.removeEvent(r,"touchmove",this),p.removeEvent(r,p.prefixPointerEvent("pointermove"),this),p.removeEvent(r,"mousemove",this),p.removeEvent(r,"touchend",this),p.removeEvent(r,p.prefixPointerEvent("pointerup"),this),p.removeEvent(r,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=p.getTime(),this.options.disableTouch||p.addEvent(r,"touchmove",this),this.options.disablePointer||p.addEvent(r,p.prefixPointerEvent("pointermove"),this),this.options.disableMouse||p.addEvent(r,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,i=e.touches?e.touches[0]:e;p.getTime(),this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=i.pageX-this.lastPointX,this.lastPointX=i.pageX,n=i.pageY-this.lastPointY,this.lastPointY=i.pageY,t=this.x+t,n=this.y+n,this._pos(t,n),e.preventDefault(),e.stopPropagation()},_end:function(e){var t;this.initiated&&(this.initiated=!1,e.preventDefault(),e.stopPropagation(),p.removeEvent(r,"touchmove",this),p.removeEvent(r,p.prefixPointerEvent("pointermove"),this),p.removeEvent(r,"mousemove",this),this.scroller.options.snap&&(t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),e=this.options.snapSpeed||h.max(h.max(h.min(h.abs(this.scroller.x-t.x),1e3),h.min(h.abs(this.scroller.y-t.y),1e3)),300),this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,e,this.scroller.options.bounceEasing))),this.moved&&this.scroller._execEvent("scrollEnd"))},transitionTime:function(e){e=e||0;var t,n=p.style.transitionDuration;n&&(this.indicatorStyle[n]=e+"ms",!e&&p.isBadAndroid)&&(this.indicatorStyle[n]="0.0001ms",t=this,u(function(){"0.0001ms"===t.indicatorStyle[n]&&(t.indicatorStyle[n]="0s")}))},transitionTimingFunction:function(e){this.indicatorStyle[p.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(p.addClass(this.wrapper,"iScrollBothScrollbars"),p.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(p.removeClass(this.wrapper,"iScrollBothScrollbars"),p.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),p.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=h.max(h.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=h.max(h.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&h.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&h.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=h.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?e="scale"==this.options.shrink?(this.width=h.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=h.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?t="scale"==this.options.shrink?(this.height=h.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[p.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?h.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?h.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){var n;t&&!this.visible||(clearTimeout(this.fadeTimeout),this.fadeTimeout=null,n=e?250:500,t=e?0:300,e=e?"1":"0",this.wrapperStyle[p.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),t))}},e.prototype.refreshOnContentResize=function(){var e=this._resize.bind(this);this.scroller.addEventListener("resize",e,!0),this.scroller.addEventListener("overflowchanged",e,!0),this.scroller.addEventListener("overflow",e,!0),this.scroller.addEventListener("underflow",e,!0),this.on("destroy",function(){this.scroller.removeEventListener("resize",e,!0),this.scroller.removeEventListener("overflowchanged",e,!0),this.scroller.removeEventListener("overflow",e,!0),this.scroller.removeEventListener("underflow",e,!0)})},e.utils=p,__cx.define("cx-iscroll",[],function(){return e})}(window,document,Math),__cx.define("text",["module"],function(e){"use strict";var a,r,o,s,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,d=l&&location.protocol&&location.protocol.replace(/\:/,""),u=l&&location.hostname,h=l&&(location.port||void 0),p={},f=e.config&&e.config()||{},m={version:"2.0.14",strip:function(e){var t;return e?(t=(e=e.replace(n,"")).match(c))&&(e=t[1]):e="",e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=i[t];try{e=new ActiveXObject(n)}catch(e){}if(e){i=[n];break}}return e},parseName:function(e){var t,n,i=!1,a=e.lastIndexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!r||1<a)?(t=e.substring(0,a),n=e.substring(a+1)):t=e,-1!==(a=(e=n||t).indexOf("!"))&&(i="strip"===e.substring(a+1),e=e.substring(0,a),n?n=e:t=e),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,i){var a,r=m.xdRegExp.exec(e);return!r||(a=r[2],r=(e=(e=r[3]).split(":"))[1],e=e[0],!(a&&a!==t||e&&e.toLowerCase()!==n.toLowerCase()||(r||e)&&r!==i))},finishLoad:function(e,t,n,i){n=t?m.strip(n):n,f.isBuild&&(p[e]=n),i(n)},load:function(t,e,n,i){if(!i||!i.isBuild||i.inlineText){f.isBuild=i&&i.isBuild;var a=m.parseName(t),r=a.moduleName+(a.ext?"."+a.ext:""),o=e.toUrl(r),i=f.useXhr||m.useXhr;return 0===o.indexOf("empty:")?void n():void(!l||i(o,d,u,h)?m.get(o,function(e){m.finishLoad(t,a.strip,e,n)},function(e){n.error&&n.error(e)}):e([r],function(e){m.finishLoad(a.moduleName+"."+a.ext,a.strip,e,n)}))}n()},write:function(e,t,n){var i;p.hasOwnProperty(t)&&(i=m.jsEscape(p[t]),n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n"))},writeFile:function(t,e,n,i,a){var r=m.parseName(e),e=r.ext?"."+r.ext:"",o=r.moduleName+e,s=n.toUrl(r.moduleName+e)+".js";m.on(o,n,function(){function e(e){return i(s,e)}e.asModule=function(e,t){return i.asModule(e,s,t)},m.write(t,o,e,a)},a)}};return"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(a=require.nodeRequire("fs"),m.get=function(e,t,n){try{var i=a.readFileSync(e,"utf8");t(i="\ufeff"===i[0]?i.substring(1):i)}catch(e){n&&n(e)}}):"xhr"===f.env||!f.env&&m.createXhr()?m.get=function(t,n,i,e){var a,r=m.createXhr();if(r.open("GET",t,!0),e)for(a in e)e.hasOwnProperty(a)&&r.setRequestHeader(a.toLowerCase(),e[a]);f.onXhr&&f.onXhr(r,t),r.onreadystatechange=function(){var e;4===r.readyState&&(399<(e=r.status||0)&&e<600?((e=new Error(t+" HTTP status: "+e)).xhr=r,i&&i(e)):n(r.responseText),f.onXhrComplete&&f.onXhrComplete(r,t))},r.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?m.get=function(e,t){var n,i,e=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),e="";try{for(n=new java.lang.StringBuffer,null!==(i=(i=r.readLine())&&i.length()&&65279===i.charAt(0)?i.substring(1):i)&&n.append(i);null!==(i=r.readLine());)n.append(a),n.append(i);e=String(n.toString())}finally{r.close()}t(e)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,o=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,m.get=function(t,e){var n,i,a={};s&&(t=t.replace(/\//g,"\\")),t=new FileUtils.File(t);try{(n=r["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream)).init(t,1,0,!1),(i=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream)).init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),a),i.close(),n.close(),e(a.value)}catch(e){throw new Error((t&&t.path||"")+": "+e)}}),m}),__cx.define("text!common/html/cx-common-container.html",[],function(){return'<div class="cx-widget cx-common-container">\n\t<div class="cx-button-group cx-buttons-window-control">\n\t\t<button class="cx-icon cx-button-minimize" tabindex="0" data-icon="minimize"></button>\n\t\t<button class="cx-icon cx-button-close" tabindex="0" data-icon="close"></button>\n\t</div>\n\t<div class="cx-titlebar">\n\t\t<div class="cx-icon"></div>\n\t\t<div class="cx-title i18n" data-message="Title"></div>\n\t\t<div class="cx-subtitle i18n" data-message="SubTitle"></div>\n\t</div>\n\t<div class="cx-body"></div>\n\t<div class="cx-button-container"></div>\n\t<div class="cx-footer">\n\t\t<div class="cx-powered-by">Powered by <span class="cx-icon" data-icon="logo"></span></div>\n\t</div>\n\t<div class="cx-smokescreen"></div>\n\t<div class="cx-dialog-container"></div>\n\t<div class="cx-loading-screen">\n\t\t<div class="cx-loading-icon cx-icon" data-icon="loading"></div>\n\t</div>\n</div>'}),__cx.define("text!common/html/cx-common-buttons-binary.html",[],function(){return'<div class="cx-button-group cx-buttons-binary">\n\t<button type="button" class="cx-btn cx-btn-default" tabindex="0"></button>\n\t<button type="button" class="cx-btn cx-btn-primary" tabindex="0"></button>\n</div>'}),__cx.define("text!common/html/cx-common-buttons-default.html",[],function(){return'<div class="cx-button-group cx-buttons-default">\n\t<button type="button" class="cx-btn cx-btn-default" tabindex="0"></button>\n\t<span class="cx-text"></span>\n</div>'}),__cx.define("text!common/html/cx-common-buttons-primary.html",[],function(){return'<div class="cx-button-group cx-buttons-primary">\n\t<span class="cx-text"></span>\n\t<button type="button" class="cx-btn cx-btn-primary" tabindex="0"></button>\n</div>'}),__cx.define("text!common/html/cx-common-buttons-window-control.html",[],function(){return'<div class="cx-button-group cx-buttons-window-control">\n\t<button class="cx-icon cx-button-minimize" tabindex="0" data-icon="minimize"></button>\n\t<button class="cx-icon cx-button-close" tabindex="0" data-icon="close"></button>\n</div>'}),function(){var e='class="cx-svg-icon-tone1"',t='class="cx-svg-icon-tone2"',n='class="cx-svg-icon-shadow1"',i='class="cx-svg-icon-shadow2"',a='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" viewBox="0 0 100 100">',r='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" viewBox="0 0 318 65">';__cx.define("common/js/cx-common-icons.js",{"multi-tone":{"alert-circle":[a,"<path "+e+' d="M50,92.9c23.7,0,42.8-19.2,42.8-42.8S73.7,7.2,50,7.2C26.4,7.2,7.2,26.4,7.2,50C7.2,73.7,26.4,92.9,50,92.9zM43.8,25.2h12.4v31H43.8V25.2z M43.8,62.4h12.4v12.4H43.8V62.4z"/>'],"alert-triangle":[a,"<path "+e+' d="M96.6,87.8L53.1,11.7c-1.7-3-4.5-3-6.2,0L3.4,87.8c-1.7,3-0.3,5.4,3.1,5.4h86.9C96.9,93.2,98.3,90.8,96.6,87.8z M56.2,80.8H43.8V68.4h12.4V80.8z M56.2,52.9l-1.6,9.3h-9.3l-1.6-9.3V37.3h12.4V52.9z"/>'],"alert-checkmark":[a,"<path "+e+' d="M50,.13A49.85,49.85,0,1,0,99.84,50,49.84,49.84,0,0,0,50,.13ZM40.62,76.75,21.08,57.21l9.63-9.63,9.64,9.63,28.9-28.9,9.63,9.63Z"/>'],attach:[a,"<path "+e+' d="M64.7,35.7l-6.3-6.3L30.6,57.3c-5.2,5.2-5.2,13.6,0,18.8c5.2,5.2,13.6,5.2,18.8,0l37.7-37.7c8.7-8.7,8.7-22.7,0-31.4c-8.7-8.7-22.7-8.5-31.4,0.2c0,0-39.6,39.6-39.7,39.7C4,59,4,78.5,16.1,90.6c12.1,12.1,31.7,12,43.8-0.1c0,0,0-0.1,0.1-0.1v0l27-27l-6.3-6.3l-27,27l0,0c0,0-0.1,0.1-0.1,0.1c-8.6,8.6-22.6,8.6-31.2,0s-8.6-22.6,0-31.2c0,0,0.1-0.1,0.1-0.1l0,0L62,13.3c5.2-5.2,13.7-5.2,18.8,0c5.2,5.2,5.2,13.7,0,18.8L43.2,69.8c-1.7,1.7-4.5,1.7-6.3,0c-1.7-1.7-1.7-4.5,0-6.3L64.7,35.7z"/>'],"calendar-generic":[a,"<rect "+e+' x="25.4" y="6.7" width="6.2" height="12.4"/>',"<rect "+e+' x="68.7" y="6.7" width="6.2" height="12.4"/>',"<path "+e+' d="M81.1,12.9v12.4H62.5V12.9H37.8v12.4H19.2V12.9H6.8v80.5h86.7V12.9H81.1z M87.3,87.2H13V37.7h74.3V87.2z"/>'],"close-circle":[a,"<path "+e+' d="M17.8,17.9C0,35.6,0,64.4,17.8,82.1c17.8,17.8,46.5,17.8,64.3,0c17.7-17.7,17.7-46.5,0-64.3S35.5,0.1,17.8,17.9z M73.2,36l-14,14l14,14l-9.3,9.3l-14-14l-14,14L26.6,64l14-14l-14-14l9.3-9.3l14,14l14-14L73.2,36z"/>'],"doc-generic-solid":[a,"<polygon "+e+' points="37.4,11 21.9,26.5 37.4,26.5 "/>',"<path "+e+' d="M43.6,7.9v18.6v4.6v1.5H18.8v55.8h62V7.9H43.6z"/>'],"dropdown-arrow":[a,"<polygon "+e+' points="69.9,36.7 50.1,56.5 30.4,36.7 23.8,43.3 50.1,69.7 76.5,43.3"/>'],male:[a,"<path "+e+' d="M83.5,9.2H17.9c-4.5,0-8.2,3.7-8.2,8.2V83v0.1c0,0.2,0,0.5,0.1,0.7c0.4-1.2,2.1-2,2.9-2.4c3-1.6,14.8-2.3,23.6-8.8c1.3-1.1,2.8-3.8,3.4-5.1c1.4,1.4,5.1,4.8,10.4,4.8c0.1,0,0.2,0,0.2,0c0.1,0,0.1,0,0.2,0c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0.1,0,0.2,0,0.2,0c0.1,0,0.1,0,0.2,0c5.3,0,9.1-3.3,10.4-4.8c0.6,1.3,2.1,4,3.4,5.1c8.8,6.5,20.7,7.3,23.6,8.8c0.8,0.4,2.5,1.2,2.9,2.4c0-0.2,0.1-0.4,0.1-0.7V83V17.4C91.7,12.9,88.1,8.9,83.5,9.2z M69.1,40.1c-0.2,3.4-1,6-2.2,6.4c-1.2,0.4-1.4,6.2-4.6,10.4c-2.5,3.2-5.9,7.3-9.9,7.9c-0.5,0.1-2.9,0.1-3.4,0c-4-0.6-7.5-4.7-9.9-7.9c-3.1-4.1-3.3-10-4.6-10.4c-1.2-0.4-2-3-2.2-6.4c-0.1-0.8-0.1-1.5-0.1-2.3c0-0.8,1.6-2.1,1.9-2.8c-0.4-2.8-0.5-5.3-0.4-7.4c0.1-4.7,0.9-7.6,1.2-8.4c0.1-0.1,0.1-0.1,0.2-0.2c2.5,0.9,4.2,0.1,5.2-0.3c3.2-1.2,5.7-1.9,7.9-2.3c9.8-1.7,10.9,3.5,11,5.1c10.3-0.7,8.1,13.9,8.2,13.4c0,0.1,0,0.4,0,0.4c0.2,0.8,1.9,1.9,1.9,2.7C69.2,38.7,69.2,39.4,69.1,40.1z"/>',"<path "+n+' d="M51,72.2c0.1,0,0.1,0,0.2,0c5.3,0,9.1-3.3,10.4-4.8c0.6,1.3,2.1,4,3.4,5.1c8.8,6.5,20.7,7.3,23.6,8.8c0.8,0.4,2.5,1.2,2.9,2.4c0-0.2,0.1-0.4,0.1-0.7V83V17.4c0-4.6-3.6-8.5-8.2-8.2H50.7v6.9c7.4-0.4,8.3,3.9,8.4,5.3c10.3-0.7,8.1,13.9,8.2,13.4c0,0.1,0,0.4,0,0.4c0.2,0.8,1.9,1.9,1.9,2.7c0,0.8,0,1.5-0.1,2.2c-0.2,3.4-1,6-2.2,6.4c-1.2,0.4-1.4,6.2-4.6,10.4c-2.5,3.2-5.9,7.3-9.9,7.9c-0.2,0-1,0.1-1.7,0.1v7.4c0,0,0.1,0,0.1,0C50.9,72.3,50.9,72.2,51,72.2z"/>'],chat:[a,"<rect "+i+' x="50" y="29" class="st1" width="29" height="34"/>',"<path "+e+' d="M50,8.3c-17.3,0-32.2,8-39.6,19.7c-3.2,5-5.2,10.6-5.2,16.7c0,13.2,8.8,24.7,21.8,31.1C27.1,92.7,8.3,95.7,8.3,95.7c24.5,0,34.5-5.5,41.1-14.6c0.2,0,0.4,0.1,0.6,0.1c18.1,0,33.7-8.8,40.7-21.4c2.6-4.6,4.1-9.7,4.1-15.1C94.9,24.6,74.8,8.3,50,8.3z M70.8,58.3H29.2c-2.3,0-4.2-1.9-4.2-4.2c0-2.3,1.9-4.2,4.2-4.2h41.7c2.3,0,4.2,1.9,4.2,4.2C75,56.5,73.1,58.3,70.8,58.3z M70.8,41.7H29.2c-2.3,0-4.2-1.9-4.2-4.2c0-2.3,1.9-4.2,4.2-4.2h41.7c2.3,0,4.2,1.9,4.2,4.2C75,39.8,73.1,41.7,70.8,41.7z"/>',"<path "+n+' d="M90.7,59.8c2.6-4.6,4.1-9.7,4.1-15.1C94.9,24.6,74.8,8.3,50,8.3v25h20.8c2.3,0,4.2,1.9,4.2,4.2c0,2.3-1.9,4.2-4.2,4.2H50V50h20.8c2.3,0,4.2,1.9,4.2,4.2c0,2.3-1.9,4.2-4.2,4.2H50v22.8C68.1,81.2,83.7,72.4,90.7,59.8z"/>'],agent:[a,"<path "+e+' d="M91.4,89.1C89,86.6,75.4,83.5,65.7,76c-1.9-1.6-3.7-6.7-3.7-6.7L50,78l-12-8.7c0,0-1.9,5-3.7,6.7c-9.7,7.5-23.2,10.7-25.7,13.1c-1.4,1.4-2.3,3.3-2.3,6.6h87.5C93.8,92.4,93.2,90.9,91.4,89.1z"/>',"<path "+e+' d="M31.9,46.7c1.4,0.4,1.6,7,5.1,11.6c2.8,3.6,6.6,8.1,11.1,8.8c0.5,0.1,3.3,0.1,3.8,0c4.5-0.7,8.3-5.2,11.1-8.8c3.5-4.6,3.7-11.1,5.1-11.6c1.7-0.5,2.6-4.7,2.6-9.6c0-0.9-2-2.3-2.2-3.1c0,0,0-0.1,0-0.1c-0.8-8.5-8.7-17.2-18.3-17.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0c0,0,0,0,0,0h0c-9.6,0-17.5,8.7-18.3,17.2c0,0,0,0.1,0,0.1c-0.2,0.8-2.1,2.2-2.1,3.1C29.3,42,30.2,46.2,31.9,46.7z"/>',"<path "+t+' d="M79.8,25.5C75.3,12.2,64,3.2,50,3.2c-14.9,0-26.8,10.2-30.6,24.9c-0.2,0-0.4,0-0.6,0c-3.5,0-6.2,2.8-6.2,6.2v6.2c0,3.2,2.5,5.9,5.6,6.2l0,0l6,15.1c0.3,0.8,0.9,1.4,1.7,1.7c0.7,0.3,1.6,0.3,2.4,0c1.6-0.6,2.4-2.5,1.7-4.1l-6.1-15.2c0,0,0,0,0-0.1l0,0h0c0.6-1.6,0.5-3.7,0.5-4.8c0-0.4-0.1-1.6,0-2c0.5-16,11.4-28,25.7-28c10.9,0,19.8,7,23.6,17.4l0.2,0.5l0,0c0.6,1.4,2.2,2.2,3.7,1.7C79.2,28.7,80.1,27.1,79.8,25.5z"/>',"<path "+n+' d="M91.4,89.1C89,86.6,75.4,83.5,65.7,76c-1.9-1.6-3.7-6.7-3.7-6.7L50,78v17.7h43.8C93.8,92.4,93.2,90.9,91.4,89.1z"/>'],"knowledge-center":[a,"<polygon "+e+' points="51.3,38.4 26.7,50.9 49.9,62.4 99.5,37.6 50,12.8 0.2,37.6 10.4,43 10.4,73.9 16.7,77.9 16.7,46.9 42.6,34.4"/>',"<path "+e+' d="M25,59.8c0,2.9,0,8.9,0,9c0,9.2,11.3,16.7,25,16.7c13.7,0,25-7.5,25-16.7c0-0.5,0-5.6,0-9.1L50,72.1L25,59.8z"/>',"<polygon "+n+' points="51.3,38.4 50,39 50,62.3 99.5,37.6 50,12.8 50,37.8"/>',"<path "+n+' d="M50,72.1v13.4c13.7,0,25-7.5,25-16.7c0-0.5,0-5.6,0-9.1L50,72.1L50,72.1z"/>'],"call-outgoing":[a,"<path "+e+' d="M58.3,12.5v8.3h15.8L52.8,42.2l5.5,5.9l20.9-21.3v14.9h8.3V12.5H58.3z"/>',"<path "+t+' d="M90.2,73.8l-13-13.1c-1.8-1.8-4.8-1.7-6.7,0.2l-1.8,1.8L66,65.3c-5,5-13,5.2-17.8,0.4L46,63.6L35.1,52.7c-4.8-4.8-4.6-12.8,0.4-17.8l1.5-1.4l1.1-1.1l1.8-1.9c1.9-1.9,1.9-4.9,0.1-6.7L27.1,10.7c-1.8-1.8-4.8-1.7-6.7,0.2l-2.9,3.3c-3.4,3.4-5.9,7.9-6.5,11.8c-1.5,9.6,4.1,28,20.1,44c0,0,0.1,0.1,0.1,0.1c0,0,0,0.1,0.1,0.1c16,16.1,34.4,21.7,44,20.2c3.9-0.6,8.3-3,11.8-6.5l2.9-3.3C91.9,78.6,92,75.6,90.2,73.8z"/>',"<path "+n+' d="M90.2,73.8l-13-13.1c-1.8-1.8-4.8-1.7-6.7,0.2l-1.8,1.8L66,65.3c-5,5-13,5.2-17.8,0.4L46,63.6l-4.3-4.3L31,69.8c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0,0.1,0.1,0.1c16,16.1,34.4,21.7,44,20.2c3.9-0.6,8.3-3,11.8-6.5l2.9-3.3C91.9,78.6,92,75.6,90.2,73.8z"/>'],"call-incoming":[a,"<path "+e+' d="M83,46v-9H67.3l21.3-21.1L83,10.1L62,31.5V17h-8v29H83z"/>\t',"<path "+t+' d="M89.8,73.5l-13-13c-1.8-1.8-4.8-1.7-6.7,0.2l-1.8,1.8l-2.6,2.6c-5,5-13,5.2-17.8,0.4l-2.2-2.2L35,52.5c-4.8-4.8-4.6-12.7,0.4-17.8l1.5-1.4l1.1-1.1l1.8-1.8c1.9-1.9,1.9-4.9,0.1-6.7l-13-13c-1.8-1.8-4.8-1.7-6.7,0.2l-2.9,3.3c-3.4,3.4-5.8,7.9-6.4,11.7C9.4,35.4,15,53.7,31,69.7c0,0,0.1,0.1,0.1,0.1c0,0,0,0.1,0.1,0.1c16,16,34.3,21.6,43.9,20.1c3.9-0.6,8.3-3,11.7-6.4l2.9-3.3C91.6,78.3,91.6,75.3,89.8,73.5z"/>',"<path "+n+' d="M89.8,73.5l-13-13c-1.8-1.8-4.8-1.7-6.7,0.2l-1.8,1.8l-2.6,2.6c-5,5-13,5.2-17.8,0.4l-2.2-2.2L41.5,59L30.9,69.6c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0,0.1,0.1,0.1c16,16,34.3,21.6,43.9,20.1c3.9-0.6,8.3-3,11.7-6.4l2.9-3.3C91.6,78.3,91.6,75.3,89.8,73.5z"/>'],email:[a,"<path "+e+' d="M95.8,27.1V23c0-3.5-2.8-6.4-6.2-6.4H10.4c-3.5,0-6.3,2.9-6.3,6.4v4.1l45.7,25L95.8,27.1z"/>',"<path "+e+' d="M4.2,35.5v41.6c0,3.5,2.8,6.2,6.3,6.2h79.2c3.5,0,6.2-2.8,6.2-6.2V35.5l-46,25L4.2,35.5z"/>',"<path "+n+' d="M89.6,17H50v35l46-24.9V23C96,19.6,93,17,89.6,17z"/>',"<path "+n+' d="M50,83h39.6c3.5,0,6.4-2.5,6.4-5.9V35.5L50,60.4V83z"/>'],search:[a,"<path "+i+' d="M70.8,41.7c0-16.1-13.1-29.2-29.2-29.2v58.3C57.8,70.8,70.8,57.8,70.8,41.7z"/>',"<path "+e+' d="M94.5,80.6L71.4,57.5c2.5-4.7,3.9-9.9,3.9-15.5c0-18.5-15-33.5-33.5-33.5S8.3,23.5,8.3,42s15,33.5,33.5,33.5c6.8,0,13.1-2.1,18.4-5.5l22.5,22.5L94.5,80.6z M17.8,42c0-13.3,10.8-24,24-24s24,10.8,24,24S55,66,41.8,66S17.8,55.2,17.8,42z"/>',"<path "+n+' d="M60.2,69.9l22.5,22.5l11.8-11.8L71.4,57.5c2.5-4.7,3.9-9.9,3.9-15.5c0-18.5-15-33.5-33.5-33.5c0,0-0.1,0-0.1,0V18c0,0,0.1,0,0.1,0c13.3,0,24,10.8,24,24S55,66,41.8,66c0,0-0.1,0-0.1,0v9.4c0,0,0.1,0,0.1,0C48.6,75.5,54.9,73.4,60.2,69.9z"/>'],cobrowse:[a,"<path "+t+' d="M89.6,8.3H10.4c-3.5,0-6.3,2.8-6.3,6.2v70.8c0,3.5,2.8,6.2,6.3,6.2h79.2c3.5,0,6.2-2.8,6.2-6.2V14.6C95.8,11.1,93,8.3,89.6,8.3z M91.7,87.5H8.3V25h83.3V87.5z"/>',"<rect "+i+' x="50" y="25" width="42" height="63"/>',"<path "+n+' d="M96,85.4l-0.2-70.8c0-3.5-2.7-6.2-6.2-6.2l-39.6,0L50,25h42v63H50l0,3.7l39.7,0C93.1,91.7,96,88.9,96,85.4z"/>',"<path "+e+' d="M36.3,35.5c0,0-0.1,0.1-0.1,0.1c3.4,15,7.1,39.6,7.1,39.6s4.5-7.9,6.7-11.8c0.2,0.3,0.4,0.6,0.5,0.8c3.1,4.8,2.6,4.2,5.7,9c0.9,1.5,2,2.4,3.7,2.4c0.3-0.1,0.6-0.2,0.9-0.3c2.4-1.4,2.5-3.9,1-6.1c-3.1-4.6-2.4-3.9-5.4-8.5c-0.3-0.4-0.5-0.8-0.8-1.3c4.2-0.7,12.7-2,12.7-2L36.3,35.5z"/>',"<path "+n+' d="M50.6,64.3c3.1,4.8,2.6,4.2,5.7,9c0.9,1.5,2,2.4,3.7,2.4c0.3-0.1,0.6-0.2,0.9-0.3c2.4-1.4,2.5-3.9,1-6.1c-3.1-4.6-2.4-3.9-5.4-8.5c-0.3-0.4-0.5-0.8-0.8-1.3c4.2-0.7,12.7-2,12.7-2L50,45v18.6c0,0,0,0,0,0C50.2,63.8,50.4,64,50.6,64.3z"/>'],calendar:[a,"<rect "+i+' x="50" y="33" width="37" height="59"/>',"<rect "+t+' x="25" y="8" width="4" height="13"/>',"<rect "+t+' x="71" y="8" width="4" height="13"/>',"<rect "+n+' x="71" y="8" width="4" height="13"/>',"<path "+e+' d="M79,12v13H67V12H33v13H21V12H8v80h84V12H79z M87,87H12V37h75V87z"/>',"<polygon "+n+' points="92,12 79,12 79,25 67,25 67,12 50,12 50,37 87,37 87,87 50,87 50,92 92,92"/>'],star:[a,"<polygon "+i+' points="64.4,56.5 67.4,75.3 50,62.4 50,29.1 70.6,46.1"/>',"<path "+e+' d="M93.8,37H79.9H61l-6.7-18.5L49.9,6.2l-4.4,12.2L38.8,37H20H6.1l11.1,8.5l14.7,11.1l-8.1,22.6l-5.1,14.2l12.1-9l19.1-14.3L69,84.5l12.1,9L76,79.3l-8.1-22.6l14.7-11.2L93.8,37z M65,48.7l-7,5.2L61,62l3,8.3L56.9,65l-6.9-5.2L43,65l-7.1,5.3l3-8.4l2.9-8.2l-7-5.1L31.1,46h4.7h8.8l3-8.4l2.3-6.5l2.3,6.5l3,8.4H64h4.7L65,48.7z"/>',"<polygon "+n+' points="81.1,93.5 76,79.3 67.9,56.8 82.6,45.5 93.8,37 79.9,37 61,37 54.4,18.5 50,6.3 50,31 52.2,37.6 55.2,46 64,46 68.7,46 65,48.7 58,53.8 61,62 64,70.3 56.9,65 50,59.8 50,70.2 69.1,84.5"/>'],"lock-closed":[a,"<path "+e+' d="M75,37.5L75,37.5V24.4C75,10.9,64.1,0,50.6,0h-1.2C35.9,0,25,10.9,25,24.4v13v0c-8.3,0-12.5,5.6-12.5,12.5v33.3c0,6.9,4.7,12.5,11.6,12.5h1.7h48.3h1.7c6.9,0,11.6-5.6,11.6-12.5V50C87.5,43.1,83.3,37.5,75,37.5z M37.5,24.4c0-6.6,5.3-11.9,11.9-11.9h1.2c6.6,0,11.9,5.3,11.9,11.9v13.1v0h-25V24.4z M54.2,69.2v10h-8.3v-10c-2.2-1.4-3.8-3.9-3.8-6.7c0-4.4,3.5-7.9,7.9-7.9s7.9,3.5,7.9,7.9C57.9,65.3,56.4,67.8,54.2,69.2z"/>',"<path "+n+' d="M75.9,95.8c6.9,0,11.6-5.6,11.6-12.5V50c0-6.9-4.2-12.5-12.5-12.5v0v-13C75,10.9,64.1,0,50.6,0H50v12.5h0.6c6.6,0,11.9,5.3,11.9,11.9v13.1H50v17.1c4.4,0,7.9,3.5,7.9,7.9c0,2.8-1.5,5.3-3.8,6.7v10H50v16.7h24.1H75.9z"/>'],prefs:[a,"<rect "+e+' x="21" y="17" width="16" height="33"/>',"<rect "+e+' x="62" y="50" width="17" height="33"/>',"<rect "+n+' x="62" y="50" width="17" height="33"/>',"<path "+t+' d="M9.2,29C6.9,29,5,31.2,5,33.5C5,35.8,6.9,38,9.2,38H17v-9H9.2z"/>',"<path "+t+' d="M92.5,29H42v9h50.5c2.3,0,4.2-2.2,4.2-4.5C96.7,31.2,94.8,29,92.5,29z"/>',"<path "+n+' d="M92.5,29H50v9h42.5c2.3,0,4.2-2.2,4.2-4.5C96.7,31.2,94.8,29,92.5,29z"/>',"<path "+t+' d="M9.2,63C6.9,63,5,64.7,5,67c0,2.3,1.9,4,4.2,4H58v-8H9.2z"/>',"<path "+t+' d="M92.5,63H83v8h9.5c2.3,0,4.2-1.7,4.2-4C96.7,64.7,94.8,63,92.5,63z"/>',"<path "+n+' d="M92.5,63H83v8h9.5c2.3,0,4.2-1.7,4.2-4C96.7,64.7,94.8,63,92.5,63z"/>',"<rect "+n+' x="50" y="63" width="8" height="8"/>'],clipboard:[a,"<polygon "+t+' points="58,8 58,4 42,4 42,8 29,8 29,17 71,17 71,8"/>',"<polygon "+n+' points="71,8 58,8 58,4 50,4 50,17 71,17"/>',"<rect "+i+' x="50" y="29" width="37" height="54"/>',"<path "+e+' d="M79.2,12.5H75v8.3H25v-8.3h-4.2c-4.6,0-8.3,3.7-8.3,8.3v66.7c0,4.6,3.7,8.3,8.3,8.3h58.3c4.6,0,8.3-3.7,8.3-8.3V20.8C87.5,16.2,83.8,12.5,79.2,12.5z M50,68.8l-8.3,10.4L25,58.3l4.2-4.2l12.5,8.3l8.3-8.3l20.8-20.8l4.2,4.2L50,68.8z"/>',"<path "+n+' d="M79.2,12.5H75v8.3H50v8.3v25l20.8-20.8l4.2,4.2L50,68.8v10.4v16.7h29.2c4.6,0,8.3-3.7,8.3-8.3V20.8C87.5,16.2,83.8,12.5,79.2,12.5z"/>'],close:[a,"<path "+e+' d="M100,14.29,64.28,50,100,85.7,85.7,100,50,64.28,14.3,100,0,85.7,35.72,50,0,14.29,14.3,0,50,35.71,85.7,0Z" transform="translate(-0.02 -0.01)"/>'],minimize:[a,"<rect "+e+' width="100" height="18" y="82" x="0"></rect>'],maximize:[a,"<rect "+e+' width="100" height="18" y="0" x="0"></rect>'],branding:[a,"<g "+e+'><path d="M70.6,6.1c2.5,0,4.5,2,4.5,4.5c0,2.5-2,4.5-4.5,4.5c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0c-2.3-0.1-4.1-2-4.2-4.3c-0.1-2.5,1.8-4.6,4.3-4.7C70.5,6.1,70.6,6.1,70.6,6.1 M70.6,0.2c-5.7,0-10.3,4.6-10.3,10.3c0,5.5,4.3,10,9.8,10.3c0.2,0,0.3,0,0.5,0c5.7,0,10.3-4.7,10.3-10.4C80.9,4.8,76.3,0.3,70.6,0.2L70.6,0.2z"/><path d="M63.8,72.2c5.7,0,10.4,4.7,10.4,10.4c0,5.7-4.7,10.4-10.4,10.4H52.5c-5.7,0-10.4-4.7-10.4-10.4c0-5.7,4.7-10.4,10.4-10.4L63.8,72.2 M63.8,65.4H52.5c-9.5,0-17.2,7.6-17.2,17.1c0,9.5,7.6,17.2,17.1,17.2c0,0,0.1,0,0.1,0h11.3c9.5,0,17.2-7.6,17.2-17.1c0-9.5-7.6-17.2-17.1-17.2C63.8,65.4,63.8,65.4,63.8,65.4L63.8,65.4z"/><path d="M63.8,32c5.7,0,10.4,4.7,10.4,10.4c0,5.7-4.7,10.4-10.4,10.4H37.3c-5.7,0-10.4-4.7-10.4-10.4c0-5.7,4.7-10.4,10.4-10.4l0,0H63.8 M63.8,25.2H37.3c-9.5,0-17.2,7.7-17.2,17.2s7.7,17.2,17.2,17.2h26.5c9.5,0,17.2-7.7,17.2-17.2S73.2,25.2,63.8,25.2C63.8,25.2,63.8,25.2,63.8,25.2z"/></g>'],logo:[r,"<g "+e+'><path d="M309.6,17H308v-0.6h3.8V17h-1.6v4.2h-0.7V17z"/><path d="M314.6,21.2l-1.3-4.2v4.2h-0.7v-4.8h1.1l1.2,4l1.2-4h1.1v4.8h-0.7V17l-1.3,4.2L314.6,21.2L314.6,21.2z"/><path d="M32.4,4.2c1.6,0,2.8,1.3,2.8,2.8c0,1.6-1.3,2.8-2.8,2.8c0,0,0,0,0,0c0,0-0.1,0-0.1,0c-1.5-0.1-2.6-1.2-2.7-2.7c-0.1-1.6,1.1-2.9,2.7-3C32.3,4.2,32.4,4.2,32.4,4.2 M32.4,0.5c-3.6,0-6.6,2.9-6.6,6.6c0,3.5,2.8,6.4,6.2,6.6c0.1,0,0.2,0,0.3,0c3.6,0,6.5-3,6.5-6.6C38.9,3.4,36,0.5,32.4,0.5L32.4,0.5z"/><path d="M28,46.2c3.6,0,6.6,3,6.6,6.6c0,3.6-3,6.6-6.6,6.6h-7.2c-3.6,0-6.6-3-6.6-6.6c0-3.6,3-6.6,6.6-6.6L28,46.2 M28,41.9h-7.2c-6,0-10.9,4.8-11,10.9c0,6,4.8,10.9,10.9,11c0,0,0.1,0,0.1,0H28c6,0,10.9-4.8,11-10.9C39,46.9,34.1,41.9,28,41.9C28.1,41.9,28.1,41.9,28,41.9L28,41.9z"/><path d="M28,20.7c3.6,0,6.6,3,6.6,6.6c0,3.6-3,6.6-6.6,6.6H11.2c-3.6,0-6.6-3-6.6-6.6c0-3.6,3-6.6,6.6-6.6l0,0H28 M28,16.4H11.2c-6,0-10.9,4.9-10.9,10.9s4.9,10.9,10.9,10.9H28c6,0,10.9-4.9,10.9-10.9S34.1,16.4,28,16.4C28,16.4,28,16.4,28,16.4z"/><polygon points="97.4,63.8 97.4,16.4 124.1,16.4 124.1,21 102.2,21 102.2,37.5 121.9,37.5 121.9,42.1 102.2,42.1 102.2,59.1 124.1,59.1 124.1,63.8 "/><polygon points="176,63.8 176,16.4 202.7,16.4 202.7,21 180.8,21 180.8,37.5 200.5,37.5 200.5,42.1 180.8,42.1 180.8,59.1 202.7,59.1 202.7,63.8 "/><polygon points="255.9,63.8 255.9,44.1 239.9,16.4 245.2,16.4 258.3,39.1 271.3,16.4 276.6,16.4 260.6,44.1 260.6,63.8 "/><polygon points="166.3,63.8 166.3,16.4 161.6,16.4 161.6,55.1 138.1,16.4 133.3,16.4 133.3,16.4 133.3,63.8 138.1,63.8 138.1,25 161.6,63.8 "/><path d="M72.4,43.4h11.4v3.8c0,9.3-5.9,12.6-11.4,12.6S61,56.4,61,47.2V33c0-9.3,5.9-12.6,11.4-12.6c5.7-0.2,10.6,4,11.2,9.7h4.8c-1.1-8.8-7.3-14.4-15.9-14.4c-9.6,0-16.1,6.9-16.1,17.2v14.3c0,10.3,6.5,17.2,16.1,17.2s16.1-6.9,16.1-17.2v-8.4H72.4L72.4,43.4L72.4,43.4z"/><path d="M213.3,49.4c0.4,6.4,4.6,10.3,10.6,10.3c6,0,9.3-3,9.3-8.3c0.1-3.9-2.7-7.2-6.5-7.9l-8-2.2c-5.9-1.6-9.4-6.4-9.4-12.8c0-7.7,5.5-12.9,13.6-12.9c9.3,0,13.5,6.5,14.3,13h-4.7c-1.1-5.4-4.5-8.3-9.6-8.3c-5.4,0-8.9,3.2-8.9,8.2c-0.2,3.8,2.4,7.3,6.1,8.1l8.3,2.2c5.7,1.4,9.7,6.6,9.5,12.5c0,8-5.4,13-14,13c-10.8,0-15.2-8.2-15.3-15L213.3,49.4L213.3,49.4z"/><path d="M283.4,49.4c0.4,6.4,4.6,10.3,10.6,10.3c6,0,9.3-3,9.3-8.3c0.1-3.9-2.7-7.2-6.5-7.9l-8-2.2c-5.9-1.6-9.4-6.4-9.4-12.8c0-7.7,5.5-12.9,13.6-12.9c9.3,0,13.5,6.5,14.3,13h-4.7c-1.1-5.4-4.5-8.3-9.6-8.3c-5.4,0-8.9,3.2-8.9,8.2c-0.2,3.8,2.4,7.3,6.1,8.1l8.3,2.2c5.7,1.4,9.7,6.6,9.5,12.5c0,8-5.4,13-14,13c-10.8,0-15.2-8.2-15.3-15H283.4L283.4,49.4z"/></g>'],recordings:[a,"<circle "+i+' cx="77.1" cy="52.1" r="14.6"/>',"<path "+e+' d="M100,52.1c0-12.7-10.3-22.9-22.9-22.9S54.2,39.4,54.2,52.1c0,5.5,2,10.6,5.2,14.6H40.6c3.3-4,5.2-9,5.2-14.6c0-12.7-10.3-22.9-22.9-22.9S0,39.4,0,52.1C0,64,9.2,73.9,20.8,75l0,0h58.3l0,0C90.8,73.9,100,64,100,52.1z M8.3,52.1c0-8,6.5-14.6,14.6-14.6S37.5,44,37.5,52.1S31,66.7,22.9,66.7S8.3,60.1,8.3,52.1z M77.1,66.7c-8,0-14.6-6.5-14.6-14.6S69,37.5,77.1,37.5S91.7,44,91.7,52.1S85.1,66.7,77.1,66.7z"/>',"<path "+n+' d="M77.1,29.2c-12.7,0-22.9,10.3-22.9,22.9c0,5.5,2,10.6,5.2,14.6H50V75h29.2C90.8,73.9,100,64,100,52.1C100,39.4,89.7,29.2,77.1,29.2z M77.1,66.7c-8,0-14.6-6.5-14.6-14.6S69,37.5,77.1,37.5S91.7,44,91.7,52.1S85.1,66.7,77.1,66.7z"/>'],group:[a,"<path "+e+' d="M55.4,25.4C54.6,17,47,8.3,37.7,8.3h0c0,0,0,0,0,0c0,0-0.1,0-0.2,0c0,0-0.1,0-0.2,0c0,0,0,0,0,0c0,0,0,0,0,0C28,8.3,20.4,17,19.6,25.4c0,0,0,0.1,0,0.1c-0.2,0.8-2.1,2.1-2.1,3.1c0,4.8,0.9,9,2.5,9.5c1.3,0.4,1.5,6.9,4.9,11.5c2.6,3.6,6.4,8,10.7,8.7c0.3,0.1,1,0.1,1.8,0.1s1.6,0,1.8-0.1c4.3-0.7,8.1-5.2,10.7-8.7c3.4-4.6,3.6-11,4.9-11.5c1.6-0.5,2.5-4.7,2.5-9.5C57.5,27.6,55.6,26.3,55.4,25.4C55.4,25.5,55.4,25.4,55.4,25.4z"/>',"<path "+t+' d="M85.2,35.8C85.2,35.8,85.2,35.7,85.2,35.8c-0.6-6.4-6.3-12.9-13.2-12.9c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0h0c-4,0-7.6,2.2-10,5.2c0,0.1,0.1,0.3,0.1,0.4c0,6.5-1.3,10.7-3.7,12.6c-0.1,0.4-0.3,0.9-0.4,1.3c-0.1,0.2-0.1,0.4-0.2,0.6c0.3,1.2,0.8,1.9,1.3,2.1c1,0.3,1.2,5.2,3.7,8.6c2,2.7,4.8,6,8,6.6c0.2,0,0.8,0.1,1.4,0.1c0.6,0,1.2,0,1.4-0.1c3.2-0.5,6-3.9,8-6.6c2.6-3.4,2.7-8.3,3.7-8.6c1.2-0.4,1.9-3.5,1.9-7.1C86.8,37.4,85.3,36.4,85.2,35.8z"/>',"<path "+t+' d="M73.6,72c3.1,3,4.1,7.2,4.6,11.3h21.5c-0.3-3.9-0.5-8.1-2.8-10.4c-1.7-1.7-6.4-3.2-13.3-8c-2.1-1.5-2.4-4.5-2.4-4.5l-9.3,6.2l-9.3-6.2c0,0-0.2,2.4-1.8,3.9c2.5,1.5,4.8,2.7,6.6,3.7C70.2,69.5,72.2,70.6,73.6,72z"/>',"<path "+i+' d="M85.2,35.8C85.2,35.8,85.2,35.7,85.2,35.8c-0.6-6.4-6.3-12.9-13.2-12.9c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0h0c-4,0-7.6,2.2-10,5.2c0,0.1,0.1,0.3,0.1,0.4c0,6.5-1.3,10.7-3.7,12.6c-0.1,0.4-0.3,0.9-0.4,1.3c-0.1,0.2-0.1,0.4-0.2,0.6c0.3,1.2,0.8,1.9,1.3,2.1c1,0.3,1.2,5.2,3.7,8.6c2,2.7,4.8,6,8,6.6c0.2,0,0.8,0.1,1.4,0.1c0.6,0,1.2,0,1.4-0.1c3.2-0.5,6-3.9,8-6.6c2.6-3.4,2.7-8.3,3.7-8.6c1.2-0.4,1.9-3.5,1.9-7.1C86.8,37.4,85.3,36.4,85.2,35.8z"/>',"<path "+i+' d="M73.6,72c3.1,3,4.1,7.2,4.6,11.3h21.5c-0.3-3.9-0.5-8.1-2.8-10.4c-1.7-1.7-6.4-3.2-13.3-8c-2.1-1.5-2.4-4.5-2.4-4.5l-9.3,6.2l-9.3-6.2c0,0-0.2,2.4-1.8,3.9c2.5,1.5,4.8,2.7,6.6,3.7C70.2,69.5,72.2,70.6,73.6,72z"/>',"<path "+e+' d="M74.2,83.3C73.7,80,73,77,70.9,75c-2-1.9-6.7-3.7-13.8-8c-1.3-0.8-2.6-1.6-4-2.6c-2.9-2-3.3-6-3.3-6l-12.4,8.3l-12.4-8.3c0,0-0.4,4-3.3,6C12.6,70.7,6.4,72.8,4.1,75C0.3,78.6,0.8,85.9,0,91.7h37.5H75C74.6,89,74.5,86.1,74.2,83.3z"/>',"<path "+n+' d="M74.2,83.3C73.7,80,73,77,70.9,75c-2-1.9-6.7-3.7-13.8-8c-1.3-0.8-2.6-1.6-4-2.6c-2.9-2-3.3-6-3.3-6l-12.4,8.3v25.1H75C74.6,89,74.5,86.1,74.2,83.3z"/>'],videochat:[a,"<polygon "+i+' points="79.2,67 50,67 50,25 79.2,25 83.3,44.7"/>',"<path "+e+' d="M50,8.5c-17.3,0-32.2,8-39.6,19.7c-3.2,5-5.2,10.6-5.2,16.7c0,13.2,8.8,24.7,21.8,31.1C27.1,92.9,8.3,95.8,8.3,95.8c24.5,0,34.5-5.5,41.1-14.6c0.2,0,0.4,0.1,0.6,0.1c18.1,0,33.7-8.8,40.7-21.4c2.6-4.6,4.1-9.7,4.1-15.1C94.9,24.8,74.8,8.5,50,8.5z M62,41.8V46v8.3c0,4.6-3.2,8.7-7.8,8.7H50h-8.3h-8.3c-4.6,0-8.3-4.1-8.3-8.7v-4.2V46v-8.3c0-4.6,3.7-8.7,8.3-8.7h8.3H50h4.2c4.6,0,7.8,4.1,7.8,8.7V41.8z M79,55.4c0,1-1.4,2.6-2.7,2.6H75l-8-9.4v-5.8l8-9.8h1.3c1.3,0,2.7,2,2.7,3V55.4z"/>',"<path "+n+' d="M90.7,60c2.6-4.6,4.1-9.7,4.1-15.1C94.9,24.8,74.8,8.5,50,8.5L49.9,29h4.2c4.6,0,7.9,4.1,7.9,8.7v4.2V46v8.3c0,4.6-3.2,8.7-7.8,8.7H50v18.3C68.1,81.3,83.7,72.6,90.7,60z M67,48.6v-5.8l8-9.8h1.3c1.3,0,2.7,2,2.7,3l0,19.6c0,1-1.4,2.3-2.7,2.3H75"/>'],loading:[a,'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g stroke="#E5EAF0"><circle cx="50" cy="50" r="48"></circle></g></g>','<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-dasharray="58,1000"><g stroke="#75A8FF" stroke-width="5"><circle cx="50" cy="50" r="48"></circle></g></g>']},outline:{"alert-circle":[a,"<path "+e+' d="M50,92.9c23.7,0,42.8-19.2,42.8-42.8S73.7,7.2,50,7.2C26.4,7.2,7.2,26.4,7.2,50C7.2,73.7,26.4,92.9,50,92.9zM43.8,25.2h12.4v31H43.8V25.2z M43.8,62.4h12.4v12.4H43.8V62.4z"/>'],"alert-triangle":[a,"<path "+e+' d="M96.6,87.8L53.1,11.7c-1.7-3-4.5-3-6.2,0L3.4,87.8c-1.7,3-0.3,5.4,3.1,5.4h86.9C96.9,93.2,98.3,90.8,96.6,87.8z M56.2,80.8H43.8V68.4h12.4V80.8z M56.2,52.9l-1.6,9.3h-9.3l-1.6-9.3V37.3h12.4V52.9z"/>'],"alert-checkmark":[a,"<path "+e+' d="M50,.13A49.85,49.85,0,1,0,99.84,50,49.84,49.84,0,0,0,50,.13ZM40.62,76.75,21.08,57.21l9.63-9.63,9.64,9.63,28.9-28.9,9.63,9.63Z"/>'],attach:[a,"<path "+e+' d="M64.7,35.7l-6.3-6.3L30.6,57.3c-5.2,5.2-5.2,13.6,0,18.8c5.2,5.2,13.6,5.2,18.8,0l37.7-37.7c8.7-8.7,8.7-22.7,0-31.4c-8.7-8.7-22.7-8.5-31.4,0.2c0,0-39.6,39.6-39.7,39.7C4,59,4,78.5,16.1,90.6c12.1,12.1,31.7,12,43.8-0.1c0,0,0-0.1,0.1-0.1v0l27-27l-6.3-6.3l-27,27l0,0c0,0-0.1,0.1-0.1,0.1c-8.6,8.6-22.6,8.6-31.2,0s-8.6-22.6,0-31.2c0,0,0.1-0.1,0.1-0.1l0,0L62,13.3c5.2-5.2,13.7-5.2,18.8,0c5.2,5.2,5.2,13.7,0,18.8L43.2,69.8c-1.7,1.7-4.5,1.7-6.3,0c-1.7-1.7-1.7-4.5,0-6.3L64.7,35.7z"/>'],"calendar-generic":[a,"<g "+e+'><path d="M29.167225,16.6671875 L70.8344125,16.6671875 L70.8344125,25 L75.0000375,25 L75.0000375,0 L70.8344125,0 L70.8344125,12.5 L29.167225,12.5 L29.167225,0 L25.0000375,0 L25.0000375,25 L29.167225,25 L29.167225,16.6671875 Z M4.167225,45.834375 L4.167225,91.6671875 C4.167225,93.9640625 6.035975,95.834375 8.3344125,95.834375 L91.667225,95.834375 C93.9641,95.834375 95.8344125,93.9640625 95.8344125,91.6671875 L95.8344125,54.1671875 L100.000038,54.1671875 L100.000038,91.6671875 C100.000038,96.2609375 96.2625375,100 91.667225,100 L8.3344125,100 C3.7391,100 3.75e-05,96.2609375 3.75e-05,91.6671875 L3.75e-05,20.834375 C3.75e-05,16.2390625 3.7391,12.5 8.3344125,12.5 L16.667225,12.5 L16.667225,16.6671875 L8.3344125,16.6671875 C6.035975,16.6671875 4.167225,18.5359375 4.167225,20.834375 L4.167225,41.6671875 L95.8344125,41.6671875 L95.8344125,20.834375 C95.8344125,18.5359375 93.9641,16.6671875 91.667225,16.6671875 L83.3344125,16.6671875 L83.3344125,12.5 L91.667225,12.5 C96.2625375,12.5 100.000038,16.2390625 100.000038,20.834375 L100.000038,45.834375 L4.167225,45.834375 Z"></path></g>'],"close-circle":[a,"<path "+e+' d="M17.8,17.9C0,35.6,0,64.4,17.8,82.1c17.8,17.8,46.5,17.8,64.3,0c17.7-17.7,17.7-46.5,0-64.3S35.5,0.1,17.8,17.9z M73.2,36l-14,14l14,14l-9.3,9.3l-14-14l-14,14L26.6,64l14-14l-14-14l9.3-9.3l14,14l14-14L73.2,36z"/>'],"doc-generic-solid":[a,"<polygon "+e+' points="37.4,11 21.9,26.5 37.4,26.5 "/>',"<path "+e+' d="M43.6,7.9v18.6v4.6v1.5H18.8v55.8h62V7.9H43.6z"/>'],"dropdown-arrow":[a,"<polygon "+e+' points="69.9,36.7 50.1,56.5 30.4,36.7 23.8,43.3 50.1,69.7 76.5,43.3"/>'],user:[a,"<g "+e+'><path d="M97.7678334,67.5737415 L71.3477686,59.684753 L70.1555923,63.6753405 L95.8319141,71.3440186 L95.8319141,91.6610157 C95.8319141,93.9656816 93.9647441,95.8328516 91.6600782,95.8328516 L8.33742184,95.8328516 C6.03431843,95.8328516 4.16558595,93.9656816 4.16558595,91.6610157 L4.16558595,70.3268407 L37.6855842,60.4894329 C38.7777615,66.7456243 44.5370825,71.4174555 51.2307697,70.7737115 C57.7103965,70.1502798 62.4994141,64.4003337 62.4994141,57.8910198 L62.4994141,49.9660941 C67.5509292,46.1630047 70.8321484,40.1302488 70.8321484,33.3334375 L70.8321484,21.4382365 C70.8321484,10.2336541 62.2400415,0.579057071 51.0495214,0.0259372568 C39.0871336,-0.564682206 29.1653516,8.99772815 29.1653516,20.8335547 L29.1653516,33.3334375 C29.1653516,44.8395796 38.4933891,54.1660547 49.9995313,54.1660547 L49.9995313,50.0004687 C40.8089924,50.0004687 33.3325,42.5224139 33.3325,33.3334375 L33.3325,21.3226126 C33.3325,12.6492564 39.7574398,5.0555776 48.3917338,4.24308522 C58.3010159,3.31028147 66.665,11.1133333 66.665,20.8335547 L66.665,33.3334375 C66.665,39.4865048 63.3056565,44.856767 58.3322656,47.7442399 L58.3322656,47.9161133 L58.3322656,57.9613316 C58.3322656,62.3112908 55.1604204,66.2034418 50.8323359,66.6253129 C45.865195,67.1096833 41.6652344,63.2019075 41.6652344,58.3332031 C41.6652344,58.2128918 41.6667969,57.9816439 41.6667969,57.9816439 L38.2277666,56.4910329 C37.7808958,56.2988472 37.279338,56.2675975 36.8121549,56.4035337 L2.30779086,66.5300013 C0.948428608,66.8987478 0,68.1377987 0,69.545598 L0,91.6719531 C0,96.2703475 3.72809005,100 8.32804692,100 L91.6710156,100 C96.26941,100 99.9990625,96.2703475 99.9990625,91.6719531 L99.9990625,70.5674634 C99.9990625,69.1956013 99.0803211,67.9628003 97.7678334,67.5737415"></path></g>'],chat:[a,"<g "+e+'><path d="M25,54.1677083 L75,54.1677083 L75,50.0005208 L25,50.0005208 L25,54.1677083 Z M25,37.5005208 L75,37.5005208 L75,33.3333333 L25,33.3333333 L25,37.5005208 Z M42.03125,95.8333333 L37.5,95.8333333 L37.5,91.6661458 L42.03125,91.6661458 C48.721875,91.6661458 54.7375,87.9489583 57.7296875,81.9645833 L60.6359375,76.1520833 C60.9890625,75.4458333 61.7109375,75.0005208 62.5,75.0005208 L64.5828125,75.0005208 C81.8140625,75.0005208 95.8328125,60.9817708 95.8328125,43.7505208 C95.8328125,26.5192708 81.8140625,12.5005208 64.5828125,12.5005208 L35.415625,12.5005208 C18.184375,12.5005208 4.165625,26.5192708 4.165625,43.7505208 C4.165625,60.9817708 18.184375,75.0005208 35.415625,75.0005208 L37.5,75.0005208 L37.5,79.1661458 L35.415625,79.1661458 C15.8875,79.1661458 0,63.2786458 0,43.7505208 C0,24.2208333 15.8875,8.33333333 35.415625,8.33333333 L64.5828125,8.33333333 C84.1109375,8.33333333 100,24.2208333 100,43.7505208 C100,63.2786458 84.1109375,79.1661458 64.5828125,79.1661458 L63.7875,79.1661458 L61.45625,83.8286458 C57.753125,91.2333333 50.3109375,95.8333333 42.03125,95.8333333 L42.03125,95.8333333 Z"></path></g>'],agent:[a,"<g "+e+'><path d="M48.6118519,0.0205986969 C23.6822358,0.761221577 4.16666667,21.8689737 4.16666667,46.8079648 L4.16666667,58.3329318 C4.16666667,65.2250995 9.77290062,70.832896 16.6650684,70.832896 L16.6666309,70.832896 C16.9135052,70.832896 17.1572545,70.8094586 17.4010038,70.7953961 C19.2056861,87.1953492 33.1275213,100 49.999348,100 C57.0540153,100 63.5914966,97.7531314 68.9492937,93.9500173 L65.9618023,90.9609634 C61.3977528,94.0359546 55.9040186,95.8328244 49.999348,95.8328244 C35.1072031,95.8328244 22.8463007,84.4062946 21.4916171,69.8625863 L21.4900546,69.8625863 C25.9931667,67.9704042 29.1650326,63.5157294 29.1650326,58.3329318 L29.1650326,54.1657562 C29.1650326,48.9798335 25.9884792,44.5235963 21.4822421,42.6345392 C22.8369257,28.0908308 35.1056406,16.6658635 49.999348,16.6658635 C64.8899303,16.6658635 77.1602077,28.0908308 78.5148913,42.6345392 C74.0070917,44.5235963 70.8321008,48.9798335 70.8321008,54.1657562 L70.8321008,58.3329318 C70.8321008,65.2250995 76.4398973,70.832896 83.3320651,70.832896 L83.3320651,66.6657204 C78.7367657,66.6657204 74.9992764,62.9282311 74.9992764,58.3329318 L74.9992764,54.1657562 C74.9992764,50.5407666 77.3305197,47.4579629 80.569573,46.3142162 C81.0586341,46.1407792 81.5680076,46.014217 82.0930061,45.9345298 C82.4976924,45.8751549 82.8039416,45.5517184 82.7914416,45.1423445 C82.7601917,44.1876598 82.6976919,42.520477 82.6086296,41.7032919 C80.8055098,25.3033388 66.8711747,12.5002505 49.999348,12.5002505 C33.1259588,12.5002505 19.1916237,25.3033388 17.3885038,41.7032919 C17.2978791,42.520477 17.2353793,44.1876598 17.2056918,45.1423445 C17.1931919,45.5517184 17.499441,45.8751549 17.9041273,45.9345298 C18.4291258,46.014217 18.9384994,46.1407792 19.4275605,46.3142162 C22.6666137,47.4579629 24.997857,50.5407666 24.997857,54.1657562 L24.997857,58.3329318 C24.997857,62.9016687 21.2994301,66.6172831 16.7400682,66.6579079 C12.1119564,66.6985328 8.33227974,62.9516686 8.33227974,58.3329318 L8.33227974,46.7189025 C8.33227974,24.0470924 26.0759789,4.85808485 48.7384141,4.18621177 C72.2867842,3.48621378 91.6664162,22.4392845 91.6664162,45.8329676 L91.6664162,69.4125876 C91.6664162,74.7985096 87.2976787,79.1656846 81.9117566,79.1656846 L49.999348,79.1656846 L49.999348,83.3328602 L81.9117566,83.3328602 C89.5992346,83.3328602 95.8320293,77.1000656 95.8320293,69.4125876 L95.8320293,45.8329676 C95.8320293,20.1002287 74.5149028,-0.748149103 48.6118519,0.0205986969"></path></g>'],"knowledge-center":[a,"<g "+e+'><path d="M79.1875,0.000416666667 L20.8125,0.000416666667 C16.2208333,0.000416666667 12.5,3.74208333 12.5,8.35458333 L12.5,91.64625 C12.5,96.2629167 16.2208333,100.000417 20.8125,100.000417 L79.1875,100.000417 C83.7791667,100.000417 87.5,96.25875 87.5,91.64625 L87.5,8.35458333 C87.5,3.73791667 83.7791667,0.000416666667 79.1875,0.000416666667 L79.1875,0.000416666667 Z M83.3333333,91.64625 C83.3333333,93.9629167 81.475,95.83375 79.1875,95.83375 L29.1666667,95.83375 L29.1666667,4.16708333 L79.1875,4.16708333 C81.475,4.16708333 83.3333333,6.03375 83.3333333,8.35458333 L83.3333333,91.64625 Z M25,95.83375 L20.8125,95.83375 C18.525,95.83375 16.6666667,93.9629167 16.6666667,91.64625 L16.6666667,8.35458333 C16.6666667,6.03791667 18.525,4.16708333 20.8125,4.16708333 L25,4.16708333 L25,95.83375 Z M41.6666667,37.5 L70.8333333,37.5 L70.8333333,25 L41.6666667,25 L41.6666667,37.5 Z M70.8416667,20.8333333 L41.6583333,20.8333333 C39.3583333,20.8333333 37.5,22.7 37.5,25 L37.5,37.5 C37.5,39.8166667 39.3625,41.6666667 41.6583333,41.6666667 L70.8416667,41.6666667 C73.1416667,41.6666667 75,39.8 75,37.5 L75,25 C75,22.6833333 73.1375,20.8333333 70.8416667,20.8333333 L70.8416667,20.8333333 Z"></path></g>'],"call-outgoing":[a,"<g "+e+'><path d="M82.0072679,63.9945399 C78.6588104,61.8695273 74.3603473,62.3429676 71.5572056,65.1461093 L71.2462662,65.4570486 L74.7853498,67.8555004 C76.1931707,66.6679934 78.1853701,66.5039299 79.7213168,67.4773732 L95.6385992,78.2665 C95.0042204,81.0633917 92.5135805,88.2306219 83.1885249,93.0759633 C73.2603407,98.2338066 55.7164861,98.6728717 28.522574,71.4805221 C1.32709929,44.2850474 1.76772692,26.7411928 6.92557018,16.8130086 C11.7724741,7.48170293 18.9459544,4.9941881 21.733471,4.36293433 L32.4897851,20.2286539 C33.5616665,21.9177265 33.3226026,24.0833644 31.9085317,25.4974354 L24.8538021,32.5506024 C21.6303454,27.5161974 20.1959618,24.3802412 20.1662741,24.3146158 L19.3178316,22.4146045 L15.5131214,24.1052396 L16.3584389,26.0083759 C16.6209405,26.5990044 22.825665,40.3209613 39.5710773,57.4851261 L39.5601398,57.4945012 L41.0335861,58.9679474 L42.5070324,60.4413937 L42.5164074,60.4320187 C50.3664542,68.0898768 57.4758716,73.5211592 62.9587168,77.2102437 L65.3571686,73.7727232 C59.6915098,69.968013 52.178965,64.2226663 43.9789161,56.0226174 C36.4679338,48.5100726 30.9991512,41.5600311 27.2085036,36.089686 L34.8538617,28.4443279 C37.6585659,25.6396237 38.1335688,21.3427231 35.9726184,17.9427028 L24.4303621,0.914476268 C24.006922,0.289472541 23.2819177,-0.0589670366 22.5241007,0.00822086409 C22.0303477,0.051971125 10.327153,1.22697813 3.22867313,14.8911221 C-2.57292396,26.0552512 -3.40261641,45.4459918 25.5756814,74.4258521 C45.1961109,94.0462816 60.4212017,100.002567 71.6743938,100.001005 C77.0400508,100.001005 81.5041399,98.6478716 85.1104114,96.7728604 C98.7745554,89.6743806 99.9511249,77.9711858 99.9917501,77.4774328 C100.058938,76.7243033 99.712061,75.9946115 99.0854947,75.5711715 L82.0072679,63.9945399 Z"></path></g>'],"call-incoming":[a,"<g "+e+'><path d="M82.0072679,63.9945399 L99.0854947,75.5711715 C99.712061,75.9946115 100.058938,76.7243033 99.9917501,77.4774328 C99.9511249,77.9711858 98.7745554,89.6743806 85.1104114,96.7728604 C81.5041399,98.6478716 77.0400508,100.001005 71.6743938,100.001005 C60.4212017,100.002567 45.1961109,94.0462816 25.5756814,74.4258521 C-3.40261641,45.4459918 -2.57292396,26.0552512 3.22867313,14.8911221 C10.327153,1.22697813 22.0303477,0.051971125 22.5241007,0.00822086409 C23.2819177,-0.0589670366 24.006922,0.289472541 24.4303621,0.914476268 L35.9726184,17.9427028 C38.1335688,21.3427231 37.6585659,25.6396237 34.8538617,28.4443279 L27.2085036,36.089686 C30.9991512,41.5600311 36.4679338,48.5100726 43.9789161,56.0226174 C52.178965,64.2226663 59.6915098,69.968013 65.3571686,73.7727232 L62.9587168,77.2102437 C57.4758716,73.5211592 50.3664542,68.0898768 42.5164074,60.4320187 L42.5070324,60.4413937 L41.0335861,58.9679474 L39.5601398,57.4945012 L39.5710773,57.4851261 C22.825665,40.3209613 16.6209405,26.5990044 16.3584389,26.0083759 L15.5131214,24.1052396 L19.3178316,22.4146045 L20.1662741,24.3146158 C20.1959618,24.3802412 21.6303454,27.5161974 24.8538021,32.5506024 L31.9085317,25.4974354 C33.3226026,24.0833644 33.5616665,21.9177265 32.4897851,20.2286539 L21.733471,4.36293433 C18.9459544,4.9941881 11.7724741,7.48170293 6.92557018,16.8130086 C1.76772692,26.7411928 1.32709929,44.2850474 28.522574,71.4805221 C55.7164861,98.6728717 73.2603407,98.2338066 83.1885249,93.0759633 C92.5135805,88.2306219 95.0042204,81.0633917 95.6385992,78.2665 L79.7213168,67.4773732 C78.1853701,66.5039299 76.1931707,66.6679934 74.7853498,67.8555004 L71.2462662,65.4570486 L71.5572056,65.1461093 C74.3603473,62.3429676 78.6588104,61.8695273 82.0072679,63.9945399 Z M63.6692368,33.6803289 L88.4051777,8.94438804 L91.3522629,11.8914733 L66.6163221,36.6274141 L80.3376133,36.6274141 L80.3376133,40.7933363 L62.626975,40.7933363 C60.9018519,40.7933363 59.501752,39.394799 59.501752,37.6681133 L59.501752,19.9590376 L63.6692368,19.9590376 L63.6692368,33.6803289 Z"></path></g>'],email:[a,"<g "+e+'><path d="M91.6671875,83.3338542 L8.334375,83.3338542 C3.7390625,83.3338542 0,79.5947917 0,75.0010417 L0,25.0010417 C0,20.4057292 3.7390625,16.6666667 8.334375,16.6666667 L93.353125,16.6666667 C96.0578125,16.6666667 98.38125,18.2197917 99.4171875,20.7182292 C100.451563,23.2166667 99.90625,25.9572917 97.99375,27.8697917 L58.54375,67.3182292 C53.8328125,72.0291667 46.1671875,72.0291667 41.45625,67.3182292 L11.028125,36.8916667 L13.975,33.9447917 L44.403125,64.3729167 C47.490625,67.4588542 52.5109375,67.4588542 55.5984375,64.3729167 L95.0484375,24.9244792 C96.0984375,23.8729167 95.7109375,22.6588542 95.5671875,22.3119792 C95.4234375,21.9651042 94.8390625,20.8338542 93.353125,20.8338542 L8.334375,20.8338542 C6.0359375,20.8338542 4.1671875,22.7026042 4.1671875,25.0010417 L4.1671875,75.0010417 C4.1671875,77.2979167 6.0359375,79.1666667 8.334375,79.1666667 L91.6671875,79.1666667 C93.9640625,79.1666667 95.834375,77.2979167 95.834375,75.0010417 L95.834375,39.5838542 L100,39.5838542 L100,75.0010417 C100,79.5947917 96.2625,83.3338542 91.6671875,83.3338542"></path></g>'],search:[a,"<g "+e+'><path d="M89.1210865,100.001356 C86.3305535,100.001356 83.5441855,98.9449875 81.4242135,96.8239336 L60.3785971,75.8088637 L63.3232341,72.8685007 L84.3688505,93.8835705 C86.9844545,96.4995371 91.2452235,96.4995371 93.8691575,93.8835705 C96.4889265,91.267604 96.4889265,87.0171782 93.8691575,84.4012117 L69.8164294,60.3833948 C65.5598254,56.2702137 62.5360539,57.6301836 58.7667519,61.3940147 C44.3184552,73.966458 23.3478083,73.2303275 9.8657857,59.7761912 C-3.28303896,46.6464513 -3.28720394,24.1591205 9.84496083,10.6717127 C16.4839303,3.85522752 25.3761509,0.0664429112 34.8889528,-9.99579344e-05 L35.1388513,-9.99579344e-05 C44.5600237,-9.99579344e-05 53.4022647,3.65975784 60.066224,10.3182037 C67.1216909,17.359271 70.866003,27.1036424 70.3453812,37.0476424 C70.3495462,41.5642397 66.5844092,45.3280707 61.9571224,45.3280707 C57.3256707,45.3280707 53.5605337,41.5642397 53.5605337,36.9395103 L53.5771936,36.2283334 C53.847917,30.9589699 51.886214,25.8559636 48.1960465,22.1711523 C44.7016329,18.6818106 40.0701812,16.7645441 35.1346863,16.7645441 C35.0888716,16.7645441 35.0472218,16.7645441 35.0014071,16.7687031 C30.0242625,16.8019745 25.363656,18.7899427 21.8859023,22.3583041 C15.1053237,29.3286696 15.1053237,41.0984396 21.8859023,48.0688051 C25.363656,51.6371665 30.0242625,53.6209758 35.0014071,53.6542472 C40.0743461,53.5128436 44.6683131,51.7702522 48.1960465,48.2559569 L51.1406835,51.19632 C46.8632547,55.4675404 41.1822294,57.8131765 35.1346863,57.8131765 L34.9722523,57.8131765 C28.8663996,57.7715872 23.1603845,55.3427725 18.9037805,50.9675789 C10.4405522,42.2795755 10.4405522,28.1475337 18.9037805,19.4595303 C23.1603845,15.0843367 28.8663996,12.651363 34.9722523,12.6097737 C35.0305619,12.6056148 35.0805416,12.6056148 35.1346863,12.6056148 C41.1822294,12.6056148 46.8632547,14.9554099 51.1406835,19.2307892 C55.6638459,23.7473865 58.0670362,30.0024162 57.7380032,36.3863727 L57.7255083,36.9935763 C57.7255083,39.2685107 59.6247367,41.1691414 61.9571224,41.1691414 C64.2853432,41.1691414 66.1845716,39.2685107 66.1845716,36.9395103 C66.6468838,28.0601962 63.344059,19.4678482 57.121587,13.2585667 C51.1948282,7.33209243 43.3480161,4.09644542 34.9181076,4.15882936 C26.5298489,4.21705437 18.6872018,7.55667462 12.8312476,13.5704864 C1.24428838,25.4650243 1.23595843,45.2781636 12.8104227,56.8358281 C24.718085,68.7262071 43.2605517,69.375 55.9262393,58.3538373 C58.0045616,56.2618959 64.651861,49.6242447 72.7360766,57.4180782 L96.8137945,81.4608486 C98.8671269,83.5112008 100,86.2394584 100,89.1423911 C100,92.0453238 98.8671269,94.7735814 96.8137945,96.8239336 C94.6938224,98.9449875 91.9074544,100.001356 89.1210865,100.001356"></path></g>'],cobrowse:[a,"<g "+e+'><path d="M12.5008333,4.16666667 L85.4175,4.16666667 L91.6675,4.16666667 C96.2633333,4.16666667 100.000833,7.90416667 100.000833,12.5 L100.000833,37.5 L4.1675,37.5 L4.1675,83.3333333 C4.1675,85.6291667 6.03416667,87.5 8.33416667,87.5 L91.6675,87.5 C93.9633333,87.5 95.8341667,85.6291667 95.8341667,83.3333333 L95.8341667,45.8333333 L100.000833,45.8333333 L100.000833,83.3333333 C100.000833,87.9291667 96.2633333,91.6666667 91.6675,91.6666667 L8.33416667,91.6666667 C3.73833333,91.6666667 0.000833333333,87.9291667 0.000833333333,83.3333333 L0.000833333333,12.5 C0.000833333333,7.90416667 3.73833333,4.16666667 8.33416667,4.16666667 L12.5008333,4.16666667 Z M16.6675,8.33333333 L83.3341667,8.33333333 L91.6675,8.33333333 C93.9633333,8.33333333 95.8341667,10.2041667 95.8341667,12.5 L95.8341667,33.3333333 L4.1675,33.3333333 L4.1675,12.5 C4.1675,10.2041667 6.03416667,8.33333333 8.33416667,8.33333333 L16.6675,8.33333333 Z M41.6674848,52.9463407 L41.6674848,66.667632 L37.5,66.667632 L37.5,48.9585563 C37.5,47.2318706 38.9000999,45.8333333 40.6252229,45.8333333 L58.3358613,45.8333333 L58.3358613,49.9992555 L44.61457,49.9992555 L69.3505108,74.7351963 L66.4034256,77.6822816 L41.6674848,52.9463407 Z"></path></g>'],calendar:[a,"<g "+e+'><path d="M29.167225,16.6671875 L70.8344125,16.6671875 L70.8344125,25 L75.0000375,25 L75.0000375,0 L70.8344125,0 L70.8344125,12.5 L29.167225,12.5 L29.167225,0 L25.0000375,0 L25.0000375,25 L29.167225,25 L29.167225,16.6671875 Z M4.167225,45.834375 L4.167225,91.6671875 C4.167225,93.9640625 6.035975,95.834375 8.3344125,95.834375 L91.667225,95.834375 C93.9641,95.834375 95.8344125,93.9640625 95.8344125,91.6671875 L95.8344125,54.1671875 L100.000038,54.1671875 L100.000038,91.6671875 C100.000038,96.2609375 96.2625375,100 91.667225,100 L8.3344125,100 C3.7391,100 3.75e-05,96.2609375 3.75e-05,91.6671875 L3.75e-05,20.834375 C3.75e-05,16.2390625 3.7391,12.5 8.3344125,12.5 L16.667225,12.5 L16.667225,16.6671875 L8.3344125,16.6671875 C6.035975,16.6671875 4.167225,18.5359375 4.167225,20.834375 L4.167225,41.6671875 L95.8344125,41.6671875 L95.8344125,20.834375 C95.8344125,18.5359375 93.9641,16.6671875 91.667225,16.6671875 L83.3344125,16.6671875 L83.3344125,12.5 L91.667225,12.5 C96.2625375,12.5 100.000038,16.2390625 100.000038,20.834375 L100.000038,45.834375 L4.167225,45.834375 Z"></path></g>'],star:[a,"<g "+e+'><path d="M99.7701563,36.159375 C99.1560938,34.26875 97.4748438,33.046875 95.4857813,33.046875 L64.0123438,33.046875 L54.2857813,3.1125 C53.6701563,1.221875 51.9889063,0 49.9998438,0 C48.0123438,0 46.3295313,1.221875 45.7154688,3.1125 L32.1373437,44.9 L36.0998438,46.1875 L49.6779688,4.4 C49.7029688,4.3234375 49.7545313,4.165625 49.9998438,4.165625 C50.2467188,4.165625 50.2982813,4.3234375 50.3232813,4.4 L60.5170313,35.7734375 C60.7951563,36.63125 61.5951563,37.2125 62.4982813,37.2125 L95.4857813,37.2125 C95.5654688,37.2125 95.7326563,37.2125 95.8076563,37.446875 C95.8842188,37.68125 95.7498438,37.7796875 95.6842188,37.8265625 L68.9967188,57.215625 C68.2670313,57.746875 67.9607813,58.6875 68.2404688,59.5453125 L78.4342188,90.91875 C78.4592188,90.99375 78.5107813,91.153125 78.3107813,91.296875 C78.1123438,91.4421875 77.9764063,91.3453125 77.9123438,91.296875 L51.2248438,71.9078125 C50.8592188,71.6421875 50.4295313,71.509375 49.9998438,71.509375 C49.5701563,71.509375 49.1404688,71.6421875 48.7748438,71.9078125 L22.0889063,91.296875 C22.0232813,91.3453125 21.8889063,91.4421875 21.6889063,91.296875 C21.4904688,91.153125 21.5420313,90.99375 21.5670312,90.91875 L31.7607813,59.5453125 C32.0389063,58.6875 31.7342188,57.746875 31.0045313,57.215625 L4.31546875,37.8265625 C4.25140625,37.7796875 4.11546875,37.68125 4.19203125,37.446875 C4.26859375,37.2125 4.43578125,37.2125 4.51546875,37.2125 L26.0154688,37.2125 L26.0154688,33.046875 L4.51546875,33.046875 C2.52640625,33.046875 0.84515625,34.26875 0.22953125,36.159375 C-0.38453125,38.05 0.25765625,40.028125 1.86703125,41.196875 L27.3310937,59.696875 L17.6045313,89.63125 C16.9889062,91.521875 17.6310938,93.4984375 19.2404688,94.66875 C20.8498438,95.8375 22.9279688,95.8375 24.5373438,94.66875 L49.9998438,76.16875 L75.4639063,94.66875 C76.2670313,95.253125 77.1904688,95.5453125 78.1123438,95.5453125 C79.0342188,95.5453125 79.9560938,95.253125 80.7592188,94.66875 C82.3685938,93.4984375 83.0107813,91.521875 82.3967188,89.63125 L72.6701563,59.696875 L98.1342188,41.196875 C99.7420313,40.028125 100.385781,38.05 99.7701563,36.159375"></path></g>'],"lock-closed":[a,"<g "+e+'><path d="M75.025,37.5 L70.8333333,37.5 L70.8333333,20.8208333 C70.8333333,9.34166667 61.5041667,0 50,0 C38.5166667,0 29.1666667,9.32083333 29.1666667,20.8208333 L29.1666667,37.5 L24.975,37.5 C20.3958333,37.5 16.6666667,41.2166667 16.6666667,45.8 L16.6666667,91.7 C16.6666667,96.2791667 20.3875,100 24.975,100 L39.5833333,100 L39.5833333,95.8333333 L24.975,95.8333333 C22.6916667,95.8333333 20.8333333,93.9791667 20.8333333,91.7 L20.8333333,45.8 C20.8333333,43.5208333 22.6916667,41.6666667 24.975,41.6666667 L75.025,41.6666667 C77.3083333,41.6666667 79.1666667,43.5208333 79.1666667,45.8 L79.1666667,91.7 C79.1666667,93.9791667 77.3083333,95.8333333 75.025,95.8333333 L52.0833333,95.8333333 L52.0833333,78.9583333 C57.9916667,77.9583333 62.5,72.8583333 62.5,66.6666667 C62.5,59.7625 56.9041667,54.1666667 50,54.1666667 C43.0958333,54.1666667 37.5,59.7625 37.5,66.6666667 C37.5,70.8083333 39.5458333,74.4291667 42.65,76.6958333 L44.7375,73.0791667 C42.8791667,71.55 41.6666667,69.2625 41.6666667,66.6666667 C41.6666667,62.0625 45.3958333,58.3333333 50,58.3333333 C54.6041667,58.3333333 58.3333333,62.0625 58.3333333,66.6666667 C58.3333333,71.1958333 54.7125,74.8625 50.2125,74.9791667 L47.9166667,78.9583333 L47.9166667,91.6666667 L47.9166667,95.8333333 L47.9166667,100 L52.0833333,100 L75.025,100 C79.6041667,100 83.3333333,96.2833333 83.3333333,91.7 L83.3333333,45.8 C83.3333333,41.2208333 79.6125,37.5 75.025,37.5 L75.025,37.5 Z M37.5,37.5 L33.3333333,37.5 L33.3333333,20.8208333 C33.3333333,11.6333333 40.8083333,4.16666667 50,4.16666667 C59.2,4.16666667 66.6666667,11.6333333 66.6666667,20.8208333 L66.6666667,37.5 L62.5,37.5 L62.5,20.8583333 C62.5,13.9541667 56.9041667,8.33333333 50,8.33333333 C43.1083333,8.33333333 37.5,13.9416667 37.5,20.8583333 L37.5,33.3333333 L41.6666667,33.3333333 L41.6666667,20.8583333 C41.6666667,16.2458333 45.4083333,12.5 50,12.5 C54.5958333,12.5 58.3333333,16.2458333 58.3333333,20.8583333 L58.3333333,37.5 L41.6666667,37.5 L37.5,37.5 Z"></path></g>'],prefs:[a,"<g "+e+'><path d="M91.6458333,20.835 C96.2583333,20.835 100,24.5308333 100,29.1683333 C100,33.7683333 96.2625,37.5016667 91.6458333,37.5016667 L70.8333333,37.5016667 L70.8333333,41.6683333 C70.8333333,46.2683333 67.1083333,50.0016667 62.4791667,50.0016667 L58.3541667,50.0016667 C53.7416667,50.0016667 50,46.3016667 50,41.6683333 L50,25.0016667 L41.6666667,25.0016667 L8.35416667,25.0016667 C6.0375,25.0016667 4.16666667,26.8683333 4.16666667,29.1683333 C4.16666667,31.485 6.025,33.335 8.35416667,33.335 L41.6666667,33.335 L41.6666667,37.5016667 L8.35416667,37.5016667 C3.74166667,37.5016667 0,33.8016667 0,29.1683333 C0,24.5641667 3.7375,20.835 8.35416667,20.835 L50,20.835 L50,16.6641667 C50,12.0641667 53.725,8.335 58.3541667,8.335 L62.4791667,8.335 C67.0916667,8.335 70.8333333,12.0308333 70.8333333,16.6641667 L70.8333333,33.335 L91.6458333,33.335 C93.9625,33.335 95.8333333,31.4683333 95.8333333,29.1683333 C95.8333333,26.8475 93.975,25.0016667 91.6458333,25.0016667 L79.1666667,25.0016667 L79.1666667,20.835 L91.6458333,20.835 Z M91.6458333,62.5016667 C96.2625,62.5016667 100,66.2308333 100,70.835 C100,75.4683333 96.2583333,79.1683333 91.6458333,79.1683333 L50,79.1683333 L50,83.335 C50,87.9683333 46.2583333,91.6683333 41.6458333,91.6683333 L37.5208333,91.6683333 C32.8916667,91.6683333 29.1666667,87.935 29.1666667,83.335 L29.1666667,66.6683333 L8.35416667,66.6683333 C6.025,66.6683333 4.16666667,68.5141667 4.16666667,70.835 C4.16666667,73.135 6.0375,75.0016667 8.35416667,75.0016667 L20.8333333,75.0016667 L20.8333333,79.1683333 L8.35416667,79.1683333 C3.7375,79.1683333 0,75.435 0,70.835 C0,66.1975 3.74166667,62.5016667 8.35416667,62.5016667 L29.1666667,62.5016667 L29.1666667,58.3308333 C29.1666667,53.6975 32.9083333,50.0016667 37.5208333,50.0016667 L41.6458333,50.0016667 C46.275,50.0016667 50,53.7308333 50,58.3308333 L50,75.0016667 L91.6458333,75.0016667 C93.975,75.0016667 95.8333333,73.1516667 95.8333333,70.835 C95.8333333,68.535 93.9625,66.6683333 91.6458333,66.6683333 L58.3333333,66.6683333 L58.3333333,62.5016667 L91.6458333,62.5016667 Z M66.6666667,41.6683333 C66.6666667,43.9725 64.8041667,45.835 62.4791667,45.835 L58.3541667,45.835 C56.025,45.835 54.1666667,43.985 54.1666667,41.6683333 L54.1666667,16.6641667 C54.1666667,14.36 56.0291667,12.5016667 58.3541667,12.5016667 L62.4791667,12.5016667 C64.8083333,12.5016667 66.6666667,14.3475 66.6666667,16.6641667 L66.6666667,41.6683333 Z M45.8333333,83.335 C45.8333333,85.6516667 43.975,87.5016667 41.6458333,87.5016667 L37.5208333,87.5016667 C35.1958333,87.5016667 33.3333333,85.6391667 33.3333333,83.335 L33.3333333,58.3308333 C33.3333333,56.0141667 35.1916667,54.1683333 37.5208333,54.1683333 L41.6458333,54.1683333 C43.9708333,54.1683333 45.8333333,56.0266667 45.8333333,58.3308333 L45.8333333,83.335 Z"></path></g>'],clipboard:[a,"<g "+e+'><path d="M22.375,9.375 L22.375,9.375 L22.375,21.875 L78.625,21.875 L78.625,9.375 C83.803125,9.375 88,13.571875 88,18.75 L88,90.625 C88,95.803125 83.803125,100 78.625,100 L22.375,100 C17.196875,100 13,95.803125 13,90.625 L13,18.75 C13,13.571875 17.196875,9.375 22.375,9.375 Z M39.0364883,68.561679 C40.9877996,70.5161149 43.5812158,71.5925388 46.3480471,71.5956634 C49.1070669,71.5956634 51.6989208,70.5223641 53.6502321,68.5710527 L77.2028469,45.0512068 L72.77664,40.625 L49.2320508,64.1513092 C48.4618375,64.9215225 47.4385317,65.3464678 46.3449225,65.3464678 C45.2544379,65.3449055 44.2295698,64.9199602 43.4593565,64.1466223 L33.0439659,53.7123271L28.625,58.131293 L39.0364883,68.561679 Z"></path><polygon points="34.875 6.25 28.625 6.25 28.625 15.625 72.375 15.625 72.375 6.25 66.125 6.25 66.125 0 34.875 0 34.875 6.25"></polygon></g>'],close:[a,"<path "+e+' d="M100,14.29,64.28,50,100,85.7,85.7,100,50,64.28,14.3,100,0,85.7,35.72,50,0,14.29,14.3,0,50,35.71,85.7,0Z" transform="translate(-0.02 -0.01)"/>'],minimize:[a,"<rect "+e+' width="100" height="18" y="82" x="0"></rect>'],maximize:[a,"<rect "+e+' width="100" height="18" y="0" x="0"></rect>'],branding:[a,"<g "+e+'><path d="M70.6,6.1c2.5,0,4.5,2,4.5,4.5c0,2.5-2,4.5-4.5,4.5c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0c-2.3-0.1-4.1-2-4.2-4.3c-0.1-2.5,1.8-4.6,4.3-4.7C70.5,6.1,70.6,6.1,70.6,6.1 M70.6,0.2c-5.7,0-10.3,4.6-10.3,10.3c0,5.5,4.3,10,9.8,10.3c0.2,0,0.3,0,0.5,0c5.7,0,10.3-4.7,10.3-10.4C80.9,4.8,76.3,0.3,70.6,0.2L70.6,0.2z"/><path d="M63.8,72.2c5.7,0,10.4,4.7,10.4,10.4c0,5.7-4.7,10.4-10.4,10.4H52.5c-5.7,0-10.4-4.7-10.4-10.4c0-5.7,4.7-10.4,10.4-10.4L63.8,72.2 M63.8,65.4H52.5c-9.5,0-17.2,7.6-17.2,17.1c0,9.5,7.6,17.2,17.1,17.2c0,0,0.1,0,0.1,0h11.3c9.5,0,17.2-7.6,17.2-17.1c0-9.5-7.6-17.2-17.1-17.2C63.8,65.4,63.8,65.4,63.8,65.4L63.8,65.4z"/><path d="M63.8,32c5.7,0,10.4,4.7,10.4,10.4c0,5.7-4.7,10.4-10.4,10.4H37.3c-5.7,0-10.4-4.7-10.4-10.4c0-5.7,4.7-10.4,10.4-10.4l0,0H63.8 M63.8,25.2H37.3c-9.5,0-17.2,7.7-17.2,17.2s7.7,17.2,17.2,17.2h26.5c9.5,0,17.2-7.7,17.2-17.2S73.2,25.2,63.8,25.2C63.8,25.2,63.8,25.2,63.8,25.2z"/></g>'],logo:[r,"<g "+e+'><path d="M309.6,17H308v-0.6h3.8V17h-1.6v4.2h-0.7V17z"/><path d="M314.6,21.2l-1.3-4.2v4.2h-0.7v-4.8h1.1l1.2,4l1.2-4h1.1v4.8h-0.7V17l-1.3,4.2L314.6,21.2L314.6,21.2z"/><path d="M32.4,4.2c1.6,0,2.8,1.3,2.8,2.8c0,1.6-1.3,2.8-2.8,2.8c0,0,0,0,0,0c0,0-0.1,0-0.1,0c-1.5-0.1-2.6-1.2-2.7-2.7c-0.1-1.6,1.1-2.9,2.7-3C32.3,4.2,32.4,4.2,32.4,4.2 M32.4,0.5c-3.6,0-6.6,2.9-6.6,6.6c0,3.5,2.8,6.4,6.2,6.6c0.1,0,0.2,0,0.3,0c3.6,0,6.5-3,6.5-6.6C38.9,3.4,36,0.5,32.4,0.5L32.4,0.5z"/><path d="M28,46.2c3.6,0,6.6,3,6.6,6.6c0,3.6-3,6.6-6.6,6.6h-7.2c-3.6,0-6.6-3-6.6-6.6c0-3.6,3-6.6,6.6-6.6L28,46.2 M28,41.9h-7.2c-6,0-10.9,4.8-11,10.9c0,6,4.8,10.9,10.9,11c0,0,0.1,0,0.1,0H28c6,0,10.9-4.8,11-10.9C39,46.9,34.1,41.9,28,41.9C28.1,41.9,28.1,41.9,28,41.9L28,41.9z"/><path d="M28,20.7c3.6,0,6.6,3,6.6,6.6c0,3.6-3,6.6-6.6,6.6H11.2c-3.6,0-6.6-3-6.6-6.6c0-3.6,3-6.6,6.6-6.6l0,0H28 M28,16.4H11.2c-6,0-10.9,4.9-10.9,10.9s4.9,10.9,10.9,10.9H28c6,0,10.9-4.9,10.9-10.9S34.1,16.4,28,16.4C28,16.4,28,16.4,28,16.4z"/><polygon points="97.4,63.8 97.4,16.4 124.1,16.4 124.1,21 102.2,21 102.2,37.5 121.9,37.5 121.9,42.1 102.2,42.1 102.2,59.1 124.1,59.1 124.1,63.8 "/><polygon points="176,63.8 176,16.4 202.7,16.4 202.7,21 180.8,21 180.8,37.5 200.5,37.5 200.5,42.1 180.8,42.1 180.8,59.1 202.7,59.1 202.7,63.8 "/><polygon points="255.9,63.8 255.9,44.1 239.9,16.4 245.2,16.4 258.3,39.1 271.3,16.4 276.6,16.4 260.6,44.1 260.6,63.8 "/><polygon points="166.3,63.8 166.3,16.4 161.6,16.4 161.6,55.1 138.1,16.4 133.3,16.4 133.3,16.4 133.3,63.8 138.1,63.8 138.1,25 161.6,63.8 "/><path d="M72.4,43.4h11.4v3.8c0,9.3-5.9,12.6-11.4,12.6S61,56.4,61,47.2V33c0-9.3,5.9-12.6,11.4-12.6c5.7-0.2,10.6,4,11.2,9.7h4.8c-1.1-8.8-7.3-14.4-15.9-14.4c-9.6,0-16.1,6.9-16.1,17.2v14.3c0,10.3,6.5,17.2,16.1,17.2s16.1-6.9,16.1-17.2v-8.4H72.4L72.4,43.4L72.4,43.4z"/><path d="M213.3,49.4c0.4,6.4,4.6,10.3,10.6,10.3c6,0,9.3-3,9.3-8.3c0.1-3.9-2.7-7.2-6.5-7.9l-8-2.2c-5.9-1.6-9.4-6.4-9.4-12.8c0-7.7,5.5-12.9,13.6-12.9c9.3,0,13.5,6.5,14.3,13h-4.7c-1.1-5.4-4.5-8.3-9.6-8.3c-5.4,0-8.9,3.2-8.9,8.2c-0.2,3.8,2.4,7.3,6.1,8.1l8.3,2.2c5.7,1.4,9.7,6.6,9.5,12.5c0,8-5.4,13-14,13c-10.8,0-15.2-8.2-15.3-15L213.3,49.4L213.3,49.4z"/><path d="M283.4,49.4c0.4,6.4,4.6,10.3,10.6,10.3c6,0,9.3-3,9.3-8.3c0.1-3.9-2.7-7.2-6.5-7.9l-8-2.2c-5.9-1.6-9.4-6.4-9.4-12.8c0-7.7,5.5-12.9,13.6-12.9c9.3,0,13.5,6.5,14.3,13h-4.7c-1.1-5.4-4.5-8.3-9.6-8.3c-5.4,0-8.9,3.2-8.9,8.2c-0.2,3.8,2.4,7.3,6.1,8.1l8.3,2.2c5.7,1.4,9.7,6.6,9.5,12.5c0,8-5.4,13-14,13c-10.8,0-15.2-8.2-15.3-15H283.4L283.4,49.4z"/></g>'],recordings:[a,"<g "+e+'><path d="M100,47.9128479 C100,35.2816197 89.7183803,25 77.0871521,25 C64.455924,25 54.1743043,35.2816197 54.1743043,47.9128479 C54.1743043,50.0833194 54.4950842,52.1704716 55.0616564,54.1618064 L31.1948009,54.1618064 C32.5154141,52.416264 33.3277787,50.2666222 33.3277787,47.9128479 C33.3277787,42.167972 28.6577237,37.497917 22.9128479,37.497917 C17.167972,37.497917 12.497917,42.167972 12.497917,47.9128479 C12.497917,53.6577237 17.167972,58.3277787 22.9128479,58.3277787 L56.7030495,58.3277787 L61.5147475,58.3277787 C59.5150808,55.3449425 58.3402766,51.7663723 58.3402766,47.9128479 C58.3402766,37.5770705 66.7472088,29.1659723 77.0871521,29.1659723 C87.4229295,29.1659723 95.8340277,37.5770705 95.8340277,47.9128479 C95.8340277,58.2486252 87.4270955,66.6555574 77.0913181,66.6597234 L22.9628395,66.6597234 L22.9628395,66.6597234 L22.9128479,66.6597234 C12.5770705,66.6597234 4.16597234,58.2486252 4.16597234,47.9128479 C4.16597234,37.5770705 12.5770705,29.1659723 22.9128479,29.1659723 C33.2486252,29.1659723 41.6597234,37.5770705 41.6597234,47.9128479 C41.6597234,48.6210632 41.5805699,49.3084486 41.5014164,49.995834 L45.6965506,49.995834 C45.7632061,49.3084486 45.8256957,48.6168972 45.8256957,47.9128479 C45.8256957,35.2816197 35.544076,25 22.9128479,25 C10.2816197,25 0,35.2816197 0,47.9128479 C0,60.544076 10.2816197,70.8256957 22.9128479,70.8256957 C22.9295117,70.8256957 22.9461756,70.8215297 22.9628395,70.8215297 L22.9628395,70.8256957 L77.0788202,70.8256957 L77.0871521,70.8256957 L77.0954841,70.8256957 L77.1538077,70.8256957 L77.1538077,70.8215297 C89.755874,70.788202 100,60.5232461 100,47.9128479 M22.9128479,54.1618064 C19.4675887,54.1618064 16.6638894,51.358107 16.6638894,47.9128479 C16.6638894,44.4675887 19.4675887,41.6638894 22.9128479,41.6638894 C26.358107,41.6638894 29.1618064,44.4675887 29.1618064,47.9128479 C29.1618064,51.358107 26.358107,54.1618064 22.9128479,54.1618064 M77.1029828,41.6638894 C73.6577237,41.6638894 70.8540243,44.4675887 70.8540243,47.9128479 C70.8540243,51.358107 73.6577237,54.1618064 77.1029828,54.1618064 C80.548242,54.1618064 83.3519413,51.358107 83.3519413,47.9128479 C83.3519413,44.4675887 80.548242,41.6638894 77.1029828,41.6638894 M77.1029828,58.3277787 C71.358107,58.3277787 66.688052,53.6577237 66.688052,47.9128479 C66.688052,42.167972 71.358107,37.497917 77.1029828,37.497917 C82.8478587,37.497917 87.5179137,42.167972 87.5179137,47.9128479 C87.5179137,53.6577237 82.8478587,58.3277787 77.1029828,58.3277787"></path></g>'],group:[a,"<g "+e+'><path d="M72.9932533,0 C87.8843579,0 100,12.1156421 100,27.0067467 L100,45.0389437 C100,50.0954377 95.8908196,54.2046181 90.8384805,54.2046181 L72.9932533,54.2046181 L72.9932533,50.049734 L90.8384805,50.049734 C93.5973236,50.049734 95.8451159,47.8019417 95.8451159,45.0389437 L95.8451159,27.0067467 C95.8451159,14.4091381 85.5908619,4.15488411 72.9932533,4.15488411 C60.3956447,4.15488411 50.1413907,14.4091381 50.1413907,27.0067467 L50.1413907,30.3763577 L50.1413907,31.7391597 L50.1413907,36.6086839 C50.1413907,39.471399 52.4722807,41.802289 55.3349958,41.802289 C58.197711,41.802289 60.528601,39.471399 60.528601,36.6086839 L60.528601,30.3763577 C60.528601,27.9540603 58.8126338,25.8184498 56.4485048,25.2990893 L54.362753,24.8420521 L54.8405646,22.76461 C56.905542,14.4008283 64.3718688,8.56321615 72.9932533,8.56321615 C81.6229476,8.56321615 89.0934292,14.413293 91.1500969,22.7853844 L91.6653025,24.8836009 L89.5504665,25.3198638 C87.1406337,25.8101401 85.4579056,27.891737 85.4579056,30.3763577 L85.4579056,36.6086839 C85.4579056,39.1805571 87.3733072,41.3868006 89.9160963,41.7482755 L91.6403732,41.7275011 L91.6403732,45.8823852 L89.6252544,45.8823852 C84.7557302,45.2134489 81.3030215,41.2372248 81.3030215,36.6086839 L81.3030215,30.3763577 C81.3030215,26.6826657 83.3721538,23.4792501 86.5464853,21.9710272 C84.3984102,16.4408764 79.0676939,12.7181003 72.9932533,12.7181003 C66.9188127,12.7181003 61.5839415,16.4408764 59.4358665,21.9710272 C62.5644942,23.5083343 64.6834851,26.7616085 64.6834851,30.3763577 L64.6834851,36.6086839 C64.6834851,40.6098373 62.140696,44.0043776 58.5965799,45.3339405 C59.3403041,52.6590012 65.4729131,58.4218254 72.9932533,58.4218254 C75.407241,58.4218254 77.8046091,57.8069026 79.9236,56.6559997 L81.9096346,60.2998331 C79.1840306,61.7872816 76.1011066,62.5767095 72.9932533,62.5767095 C63.3663868,62.5767095 55.509501,55.2350293 54.4957093,45.8699206 C49.7425218,45.4378126 45.9865066,41.4740532 45.9865066,36.6086839 L45.9865066,31.7391597 L45.9865066,30.3763577 L45.9865066,27.0067467 C45.9865066,12.1156421 58.1021487,0 72.9932533,0 Z M27.0067467,37 C41.8978513,37 54.0134934,49.1156421 54.0134934,64.0067467 L54.0134934,82.0389437 C54.0134934,87.0954377 49.904313,91.2046181 44.8519739,91.2046181 L27.0067467,91.2046181 L27.0067467,87.049734 L44.8519739,87.049734 C47.610817,87.049734 49.8586093,84.8019417 49.8586093,82.0389437 L49.8586093,64.0067467 C49.8586093,51.4091381 39.6043553,41.1548841 27.0067467,41.1548841 C14.4091381,41.1548841 4.15488411,51.4091381 4.15488411,64.0067467 L4.15488411,67.3763577 L4.15488411,68.7391597 L4.15488411,73.6086839 C4.15488411,76.471399 6.48577409,78.802289 9.34848924,78.802289 C12.2112044,78.802289 14.5420944,76.471399 14.5420944,73.6086839 L14.5420944,67.3763577 C14.5420944,64.9540603 12.8261272,62.8184498 10.4619982,62.2990893 L8.37624636,61.8420521 L8.85405803,59.76461 C10.9190354,51.4008283 18.3853622,45.5632161 27.0067467,45.5632161 C35.636441,45.5632161 43.1069226,51.413293 45.1635903,59.7853844 L45.6787959,61.8836009 L43.5639599,62.3198638 C41.1541271,62.8101401 39.471399,64.891737 39.471399,67.3763577 L39.471399,73.6086839 C39.471399,76.1805571 41.3868006,78.3868006 43.9295897,78.7482755 L45.6538666,78.7275011 L45.6538666,82.8823852 L43.6387478,82.8823852 C38.7692236,82.2134489 35.3165149,78.2372248 35.3165149,73.6086839 L35.3165149,67.3763577 C35.3165149,63.6826657 37.3856472,60.4792501 40.5599787,58.9710272 C38.4119036,53.4408764 33.0811873,49.7181003 27.0067467,49.7181003 C20.9323061,49.7181003 15.5974349,53.4408764 13.4493599,58.9710272 C16.5779876,60.5083343 18.6969785,63.7616085 18.6969785,67.3763577 L18.6969785,73.6086839 C18.6969785,77.6098373 16.1541894,81.0043776 12.6100733,82.3339405 C13.3537975,89.6590012 19.4864065,95.4218254 27.0067467,95.4218254 C29.4207344,95.4218254 31.8181025,94.8069026 33.9370934,93.6559997 L35.923128,97.2998331 C33.197524,98.7872816 30.1146,99.5767095 27.0067467,99.5767095 C17.3798802,99.5767095 9.52299438,92.2350293 8.50920265,82.8699206 C3.75601523,82.4378126 0,78.4740532 0,73.6086839 L0,68.7391597 L0,67.3763577 L0,64.0067467 C0,49.1156421 12.1156421,37 27.0067467,37 Z"></path></g>'],videochat:[a,"<g "+e+'><path d="M62.2779167,38.5507083 C61.99875,38.9590417 61.7404167,39.3590417 61.4904167,39.7715417 C57.7904167,32.2507083 53.9195833,29.1715417 45.4820833,29.1715417 L35.34875,29.1715417 C30.1820833,29.1715417 26.0279167,33.417375 25.1820833,38.9007083 C25.0654167,39.154875 24.99875,39.4382083 24.99875,39.7340417 L24.99875,40.9507083 L24.99875,48.2215417 L24.99875,49.4340417 C24.99875,49.7340417 25.0654167,50.0132083 25.1820833,50.2715417 C26.0279167,55.7507083 30.1820833,60.0007083 35.34875,60.0007083 L45.4820833,60.0007083 C53.9195833,60.0007083 57.7904167,56.9215417 61.4904167,49.3965417 C61.7404167,49.8132083 61.99875,50.2090417 62.2779167,50.617375 C66.3570833,56.5215417 70.1497457,59.6007083 72.5997457,59.979875 C73.8622457,60.1715417 74.9997457,59.1965417 74.9997457,57.917375 L74.9997457,46.0007083 L74.9997457,43.167375 L74.9997457,31.2507083 C74.9997457,29.9757083 73.8622457,28.9965417 72.5997457,29.192375 C70.1497457,29.567375 66.3570833,32.6507083 62.2779167,38.5507083 Z M70.833079,54.0840417 C69.5872457,52.829875 67.53625,50.8965417 65.7070833,48.2507083 C65.01125,47.242375 64.4654167,46.2465417 63.69875,44.5840417 C64.4654167,42.9215417 65.01125,41.9257083 65.7070833,40.917375 C67.53625,38.2715417 69.5872457,36.342375 70.833079,35.0840417 L70.833079,43.167375 L70.833079,46.0007083 L70.833079,54.0840417 Z M58.79875,45.3465417 C55.3070833,53.3007083 52.7195833,55.8340417 45.4820833,55.8340417 L35.34875,55.8340417 C32.0154167,55.8340417 29.1654167,52.492375 29.1654167,48.2215417 L29.1654167,40.9507083 C29.1654167,36.6757083 32.0154167,33.3382083 35.34875,33.3382083 L45.4820833,33.3382083 C52.7195833,33.3382083 55.3070833,35.867375 58.79875,43.8257083 C58.91125,44.0757083 58.91125,44.0757083 59.0195833,44.3257083 C59.0654167,44.4257083 59.0945833,44.492375 59.13625,44.5840417 C59.0945833,44.679875 59.0654167,44.742375 59.0195833,44.842375 C58.91125,45.092375 58.91125,45.092375 58.79875,45.3465417 Z M42.03125,95.8333333 L37.5,95.8333333 L37.5,91.6661458 L42.03125,91.6661458 C48.721875,91.6661458 54.7375,87.9489583 57.7296875,81.9645833 L60.6359375,76.1520833 C60.9890625,75.4458333 61.7109375,75.0005208 62.5,75.0005208 L64.5828125,75.0005208 C81.8140625,75.0005208 95.8328125,60.9817708 95.8328125,43.7505208 C95.8328125,26.5192708 81.8140625,12.5005208 64.5828125,12.5005208 L35.415625,12.5005208 C18.184375,12.5005208 4.165625,26.5192708 4.165625,43.7505208 C4.165625,60.9817708 18.184375,75.0005208 35.415625,75.0005208 L37.5,75.0005208 L37.5,79.1661458 L35.415625,79.1661458 C15.8875,79.1661458 0,63.2786458 0,43.7505208 C0,24.2208333 15.8875,8.33333333 35.415625,8.33333333 L64.5828125,8.33333333 C84.1109375,8.33333333 100,24.2208333 100,43.7505208 C100,63.2786458 84.1109375,79.1661458 64.5828125,79.1661458 L63.7875,79.1661458 L61.45625,83.8286458 C57.753125,91.2333333 50.3109375,95.8333333 42.03125,95.8333333 Z"></path></g>'],loading:[a,'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g stroke="#E5EAF0"><circle cx="50" cy="50" r="48"></circle></g></g>','<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-dasharray="58,1000"><g stroke="#75A8FF" stroke-width="5"><circle cx="50" cy="50" r="48"></circle></g></g>']}})}(),__cx.define("cx-common",["jquery","cx-bus","text!./common/html/cx-common-container.html","text!./common/html/cx-common-buttons-binary.html","text!./common/html/cx-common-buttons-default.html","text!./common/html/cx-common-buttons-primary.html","text!./common/html/cx-common-buttons-window-control.html","./common/js/cx-common-icons.js","cx-iscroll"],function(s,e,t,n,i,a,r,o,c){function l(e,t){"string"==typeof t?e.append(t):"object"==typeof t&&(t.label&&e.append(t.label),t.classes&&e.addClass(t.classes),t.i18n&&""!=t.i18n&&(e.addClass("i18n"),e.attr("data-message",t.i18n)))}function d(e){var t=!1;switch(e.type){case"binary":l((t=s(C.HTML.Buttons.Binary)).find(".cx-btn-primary"),e.primary),l(t.find(".cx-btn-default"),e.secondary);break;case"default":l((t=s(C.HTML.Buttons.Default)).find(".cx-btn-default"),e.secondary),e.text&&t.find(".cx-text").append(e.text);break;case"primary":t=s(C.HTML.Buttons.Primary),e.text&&t.find(".cx-text").append(e.text),l(t.find(".cx-btn-primary"),e.primary);break;default:return""}return m(t),t}function u(e,t){var n="",e=o[t||g.iconSet][e]||!1;return e?(s.each(e,function(){n+=this}),n+"</svg>"):""}function h(e,t,n){if("object"!=typeof e||"string"!=typeof t)return!1;for(var i=t.split("."),a=0;a<i.length;a++)void 0===e[i[a]]&&(e[i[a]]={}),a+1==i.length?e[i[a]]=n:e=e[i[a]];return!0}function p(e){function t(e){var t=!1;return t=!((t=e.match(v))||(t=e.substr(1,1e5).match(v))||(t=e.substr(0,e.length-1).match(v)))?e.substr(1,e.length-2).match(v):t}var n,i=/(\,|\[|\]|\!|\?|\¿|\.\.|\;|\(|\)|\-\-|\"|\'|\:|\t|\n|\r)/g,a=[],r=[],o={},s=e,c=0,l=0,d="";if(e.match("@")){for(a=e.split(" "),c=0;c<a.length;c++)if(a[c].match("@"))if(n=t(a[c]))o[n]=!0;else if(a[c].match(i))for(r=a[c].split(i),l=0;l<r.length;l++)r[l].match("@")&&(n=t(r[l]))&&(o[n]=!0);for(d in o)d=d.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&"),s=s.replace(new RegExp(d,"gi"),"<a href='mailto:$&'>$&</a>");o={}}return s}function f(e,t){e&&e.find(".i18n").each(function(){var e=s(this);switch(e.data("message-type")){case"transcript":e.find(".cx-message-text").html(t[e.data("message")]);break;case"placeholder":e.attr("placeholder",t[e.data("message")]);break;default:e.html(t[e.data("message")])}})}function m(e){e&&e.find(".cx-icon").each(function(){var e=s(this),t=u(e.data("icon"),e.data("icon-set")||void 0);t&&e.html(t)})}var g={debug:!1,debugTimestamps:!1,iconSet:"outline"},v=/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/gi,b=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,x=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,y={product:"Genesys Widgets",version:"8.5.007.03",copyright:"Copyright © 2017 Genesys. All rights reserved."},w={},C={HTML:{Containers:{Generic:t},Buttons:{Binary:n,Default:i,Primary:a}},Generate:{Container:function(e){var t=!1;switch(e.type){case"generic":t=s(C.HTML.Containers.Generic);break;case"overlay":t=s(C.HTML.Containers.Generic).addClass("cx-overlay");break;case"toast":t=s(C.HTML.Containers.Generic).addClass("cx-toast");break;default:t=s(C.HTML.Containers.Generic)}var n=t.find(".cx-titlebar .cx-icon"),i=t.find(".cx-title"),a=t.find(".cx-subtitle"),r=t.find(".cx-body"),o=e.body;switch(e.classes&&t.addClass(e.classes),e.icon?n.html(u(e.icon)):n.hide(),e.title&&i.append(e.title),e.subtitle&&a.append(e.subtitle).show(),e.body&&r.append(o),e.i18n&&i.data({message:e.i18n}),e.controls){case"close":t.addClass("cx-close");break;case"minimize":t.addClass("cx-minimize");break;case"all":t.addClass("cx-close").addClass("cx-minimize")}return e.buttons&&t.find(".cx-button-container").append(d(e.buttons)),k.command("App.reTheme",{html:t}),m(t),t},Buttons:d,Icon:u,Scrollbar:function(e,t){return n=e,e={mouseWheel:!0,click:!0,scrollbars:"custom",momentum:!0,keyBindings:!0,interactiveScrollbars:!0,preventDefault:!1},s.extend(e,t||{}),(e=new c(n,e)).refreshOnContentResize(),e;var n}},addDialog:function(e,t,n){t=s(t);n&&t.data("dialog",n),e.find("> .cx-dialog-container").append(t||"")},showDialog:function(e,t){e.find("> .cx-dialog-container, > .cx-dialog-container > .cx-dialog[data-dialog="+t+"], > .cx-smokescreen").fadeIn()},hideDialog:function(e,t){e.find("> .cx-dialog-container, > .cx-dialog-container > .cx-dialog[data-dialog="+t+"], > .cx-smokescreen").fadeOut()},hideDialogs:function(e){e.find("> .cx-dialog-container, > .cx-dialog-container > .cx-dialog, > .cx-smokescreen").fadeOut()},checkPath:function(e,t){if("object"!=typeof e||"string"!=typeof t)return!1;for(var n=t.split("."),i=0;i<n.length;i++){if(!e[n[i]])return!1;e=e[n[i]]}return e},createPath:h,config:function(e){return"object"==typeof e&&("boolean"==typeof e.debug&&(g.debug=e.debug),"boolean"==typeof e.debugTimestamps&&(g.debugTimestamps=e.debugTimestamps),"string"==typeof e.iconSet&&(g.iconSet=e.iconSet)),g},log:function(e,t){var n,i,a;g.debug&&(console[t]||(t="log"),a="",g.debugTimestamps&&(i=function(e){return("0"+e).split("").reverse().slice(0,2).reverse().join("")},a=(n=new Date).getFullYear()+"-"+i(n.getMonth()+1)+"-"+i(n.getDate())+" "+i(n.getHours())+":"+i(n.getMinutes())+":"+i(n.getSeconds())+"."+n.getMilliseconds()+" - "),a?console[t](a,e):console[t](e))},debugIcons:function(){var e,t="<div class='cx-widget cx-icon-debug'>";for(e in o)if("svg-wrapper"!==e){for(var n in t+="<h4>"+e+"</h4>",t+="<div class='cx-icon-debug-set'>",o[e])t+="<div>"+u(n,e)+"<span>"+n+"</span></div>";t+="</div>"}return t+"</div>"},debug:function(e){C.log(e,"debug")},error:function(e){C.log(e,"error")},linkify:function(e,t){return n=e,i=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=/(^|[^\/])(www\.[\S]+(\b|$))/gim,i="object"==typeof(t=t)&&"self"==t.target?n.replace(i,'<a href="$1" target="_self">$1</a>'):n.replace(i,'<a href="$1" target="_blank">$1</a>'),p(i="object"==typeof t&&"self"==t.target?i.replace(e,"<a target='_self' href='http://$2'>$2</a>"):i.replace(e,"<a target='_blank' href='http://$2'>$2</a>"));var n,i},sanitizeHTML:function(e){return(e||"").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")},updateTemplateI18n:function(e,t){f(e,t)},populateAllPlaceholders:function(e,t){f(e,t),m(e)},populateLanguageStrings:function(e,t){f(e,t)},populateIcons:function(e){m(e)},insertIcon:function(e,t){m(e.addClass("cx-icon").data("icon",t).parent())},bytesToSize:function(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0===n?e+" "+t[n]:(e/Math.pow(1024,n)).toFixed(1)+" "+t[n]},mobileScreenScale:function(e){var t=s(window).height(),n=(s(window).width(),e.find(".cx-titlebar").outerHeight()),i=e.find(".cx-button-container").outerHeight(),a=e.find(".cx-footer").outerHeight(),r=(e.find(".cx-body").height(),t-n-e.find(".cx-message-container").outerHeight()-i-a);return e.find(".cx-body").outerHeight(r),e},getFormattedTime:function(e,t){var n=new Date(e||null),e=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),n=24==t?(n.getHours()<10?"0"+n.getHours():n.getHours())+":"+e:(12<n.getHours()?n.getHours()-12:n.getHours())+":"+e+" "+(12<=n.getHours()?"PM":"AM");return n},data:function(e){return y[e]},isMobileDevice:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!b.test(e)&&!x.test(e.substr(0,4)))},injectScript:function(e){var t;t=e,(e=document.createElement("script")).setAttribute("src",t),document.head.appendChild(e)},watch:function(t,e,n){if(e=e||1e3,"function"!=typeof t)return setTimeout(function(){i.reject("Invalid test function")},0),i;var i=s.Deferred(),a=!1,r=setInterval(function(){var e=w[r];e.limitCurrent++,t(e.limitCurrent,e.limitMax)&&!a?(a=!0,clearInterval(r),i.resolve(),delete e):e.limitMax&&e.limitCurrent>e.limitMax&&(a=!0,clearInterval(r),i.reject("Limit reached"),delete e)},e);return w[r]={id:r,limitMax:n||!1,limitCurrent:0},i},showLoading:function(e){s(e).addClass("cx-loading")},hideLoading:function(e){s(e).removeClass("cx-loading")},showWaiting:function(e){s(e).addClass("cx-waiting")},hideWaiting:function(e){s(e).removeClass("cx-waiting")}},k=e.registerPlugin("Common");return k&&(k.registerCommand("generateContainer",function(e){e.data.options?e.deferred.resolve(C.generateContainer(e.data.options)):e.deferred.reject()}),k.registerCommand("generateButtons",function(e){e.data.options?e.deferred.resolve(C.generateButtons(e.data.options)):e.deferred.reject()})),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function n(){return a.apply(this instanceof t?this:e,i.concat(Array.prototype.slice.call(arguments)))}var i=Array.prototype.slice.call(arguments,1),a=this;return this.prototype&&(t.prototype=this.prototype),n.prototype=new t,n}),h(window,"_genesys.widgets.common",C),C});var loaded_def=null,aModulesLoaded=[];__cx.define("cx-helper",["jquery"],function(t){return{lazyLoad:function(e){return-1==t.inArray(e,aModulesLoaded)&&(aModulesLoaded.push(e),loaded_def=t.Deferred(),window._loaded=function(){loaded_def.resolve()},require([e],function(){},function(){loaded_def.reject()})),loaded_def.promise()},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?!0:t}}}),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("cx-ui-plugins",["jquery"],e):e(jQuery)}(function(d){"use strict";d.fn.extend({tooltipMenu:function(){return this.each(function(){var e=d(this),t=e.find("> div"),n=e.find("> button");n.on("click.CXTooltipMenu.button",function(){t.hasClass("cx-open")?t.removeClass("cx-open"):t.addClass("cx-open")}),d(window).on("click.CXTooltipMenu.unfocus",function(e){void 0===e.originalEvent||(e=e.originalEvent.target)!=n[0]&&e!=t[0]&&0==t.find(e).length&&t.hasClass("cx-open")&&t.removeClass("cx-open")}),t.find(".cx-option").on("click.CXTooltipMenu.option",function(){t.removeClass("cx-open")})})},insertAtCaret:function(a){return this.each(function(){var e,t,n,i;document.selection?(this.focus(),document.selection.createRange().text=a,this.focus()):this.selectionStart||"0"==this.selectionStart?(e=this.selectionStart,t=this.selectionEnd,n=this.scrollTop,i=this.value,this.value=i.substring(0,e)+a+i.substring(t,i.length),this.focus(),this.selectionStart=e+a.length,this.selectionEnd=e+a.length,this.scrollTop=n):(this.value+=a,this.focus())})},textAreaAutoHeight:function(l){return l=l||{},this.each(function(){function e(){o=o||c.outerHeight(),c.outerHeight(),c.height(0);var e=c.css("padding-top"),t=c.css("padding-bottom"),n=c.css("border-width"),i=parseInt(c.css("line-height"));c.css({"padding-top":0,"padding-bottom":0,"border-width":0});var a=c[0].scrollHeight,r=Math.round(a/i);c.height(i*(r=s<r?s:r)+i),c.css({"padding-top":e,"padding-bottom":t,"border-width":n}),n=c.outerHeight(),"function"==typeof l.callback&&l.callback({scrollHeight:a,lineHeight:i,numLines:r,newHeight:n,oldHeight:n,baseHeight:o,delta:n})}var o,s=l.lineLimit,c=d(this);c.keydown(e).keyup(e).keyup()})}});function r(e,t){this.$element=d(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))}r.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},r.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},r.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},r.prototype.to=function(e){var t=this,n=this.getActiveIndex();return e>this.$items.length-1||e<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",d(this.$items[e]))},r.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},r.prototype.next=function(){return this.sliding?void 0:this.slide("next")},r.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},r.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||n[e](),a=this.interval,r="next"==e?"left":"right",t="next"==e?"first":"last",o=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[t]()}if(i.hasClass("active"))return this.sliding=!1;t=d.Event("slide.bs.carousel",{relatedTarget:i[0],direction:r});return this.$element.trigger(t),t.isDefaultPrevented()?void 0:(this.sliding=!0,a&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=d(o.$indicators.children()[o.getActiveIndex()]);e&&e.addClass("active")})),d.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one(d.support.transition.end,function(){i.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),a&&this.cycle(),this)};var e=d.fn.carousel;return d.fn.carousel=function(a){return this.each(function(){var e=d(this),t=e.data("bs.carousel"),n=d.extend({},r.DEFAULTS,e.data(),"object"==typeof a&&a),i="string"==typeof a?a:n.slide;t||e.data("bs.carousel",t=new r(this,n)),"number"==typeof a?t.to(a):i?t[i]():n.interval&&t.pause().cycle()})},d.fn.carousel.Constructor=r,d.fn.carousel.noConflict=function(){return d.fn.carousel=e,this},d(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var t,n=d(this),i=d(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"")),a=d.extend({},i.data(),n.data());(t=n.attr("data-slide-to"))&&(a.interval=!1),i.carousel(a),(t=n.attr("data-slide-to"))&&i.data("bs.carousel").to(t),e.preventDefault()}),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);e.carousel(e.data())})}),d}),function(t,n,i){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("jquery-mobile",["jquery"],function(e){return i(e,t,n),e.mobile}):i(t.jQuery,t,n)}(this,document,function(e,t,n){function l(e,t,n,i){var a=n.type;n.type=t,i?d.event.trigger(n,o,e):d.event.dispatch.call(e,n),n.type=a}var d,r,o,u,s,i,c,h,a,p;!function(d,e,u){function h(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function r(e){for(var t,n,i={};e;){for(n in t=d.data(e,y))t[n]&&(i[n]=i.hasVirtualBinding=!0);e=e.parentNode}return i}function i(){I=!0}function a(){I=!1}function o(){s(),S=setTimeout(function(){O=S=0,D.length=0,M=!1,i()},d.vmouse.resetTimerDuration)}function s(){S&&(clearTimeout(S),S=0)}function c(e,t,n){var i;return(n&&n[e]||!n&&function(e,t){for(var n;e;){if((n=d.data(e,y))&&(!t||n[t]))return e;e=e.parentNode}}(t.target,e))&&(i=function(e,t){var n,i,a,r,o,s,c,l=e.type;if((e=d.Event(e)).type=t,n=e.originalEvent,i=d.event.props,-1<l.search(/^(mouse|click)/)&&(i=_),n)for(o=i.length;o;)e[a=i[--o]]=n[a];if(-1<l.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==l.search(/^touch/)&&(l=(t=h(n)).touches,t=t.changedTouches,r=l&&l.length?l[0]:t&&t.length?t[0]:u))for(s=0,c=C.length;s<c;s++)e[a=C[s]]=r[a];return e}(t,e),d(t.target).trigger(i)),i}function l(e){var t=d.data(e.target,w);M||O&&O===t||(t=c("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function p(e){var t,n=h(e).touches;!n||1!==n.length||(n=r(t=e.target)).hasVirtualBinding&&(O=P++,d.data(t,w,O),s(),a(),A=!1,t=h(e).touches[0],E=t.pageX,L=t.pageY,c("vmouseover",e,n),c("vmousedown",e,n))}function f(e){I||(A||c("vmousecancel",e,r(e.target)),A=!0,o())}function m(e){var t,n,i,a;I||(t=h(e).touches[0],n=A,i=d.vmouse.moveDistanceThreshold,a=r(e.target),(A=A||Math.abs(t.pageX-E)>i||Math.abs(t.pageY-L)>i)&&!n&&c("vmousecancel",e,a),c("vmousemove",e,a),o())}function g(e){var t,n;I||(i(),c("vmouseup",e,n=r(e.target)),A||(t=c("vclick",e,n))&&t.isDefaultPrevented()&&(t=h(e).changedTouches[0],D.push({touchID:O,x:t.clientX,y:t.clientY}),M=!0),c("vmouseout",e,n),A=!1,o())}function v(e){var t,n=d.data(e,y);if(n)for(t in n)if(n[t])return 1}function b(){}var x,t,y="virtualMouseBindings",w="virtualTouchID",n="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),k=d.event.mouseHooks?d.event.mouseHooks.props:[],_=d.event.props.concat(k),T={},S=0,E=0,L=0,A=!1,D=[],M=!1,I=!1,j="addEventListener"in e,N=d(e),P=1,O=0;for(d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},t=0;t<n.length;t++)d.event.special[n[t]]=function(n){var i=n.substr(1);return{setup:function(){v(this)||d.data(this,y,{}),d.data(this,y)[n]=!0,T[n]=(T[n]||0)+1,1===T[n]&&N.bind(i,l),d(this).bind(i,b),j&&(T.touchstart=(T.touchstart||0)+1,1===T.touchstart&&N.bind("touchstart",p).bind("touchend",g).bind("touchmove",m).bind("scroll",f))},teardown:function(){--T[n],T[n]||N.unbind(i,l),j&&(--T.touchstart,T.touchstart||N.unbind("touchstart",p).unbind("touchmove",m).unbind("touchend",g).unbind("scroll",f));var e=d(this),t=d.data(this,y);t&&(t[n]=!1),e.unbind(i,b),v(this)||e.removeData(y)}}}(n[t]);j&&e.addEventListener("click",function(e){var t,n,i,a,r,o=D.length,s=e.target;if(o)for(t=e.clientX,n=e.clientY,x=d.vmouse.clickDistanceThreshold,i=s;i;){for(a=0;a<o;a++)if(r=D[a],i===s&&Math.abs(r.x-t)<x&&Math.abs(r.y-n)<x||d.data(i,w)===r.touchID)return e.preventDefault(),void e.stopPropagation();i=i.parentNode}},!0)}(e,n),e.mobile={},a=e,p={touch:"ontouchend"in n},a.mobile.support=a.mobile.support||{},a.extend(a.support,p),a.extend(a.mobile.support,p),r=this,u=(d=e)(n),n=d.mobile.support.touch,s="touchmove scroll",i=n?"touchstart":"mousedown",c=n?"touchend":"mouseup",h=n?"touchmove":"mousemove",d.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,t){d.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},d.attrFn&&(d.attrFn[t]=!0)}),d.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){l(a,(n=t)?"scrollstart":"scrollstop",e)}var n,i,a=this;d(a).bind(s,function(e){d.event.special.scrollstart.enabled&&(n||t(e,!0),clearTimeout(i),i=setTimeout(function(){t(e,!1)},50))})},teardown:function(){d(this).unbind(s)}},d.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var o=this,s=d(o),c=!1;s.bind("vmousedown",function(e){function t(){clearTimeout(a)}function n(){t(),s.unbind("vclick",i).unbind("vmouseup",t),u.unbind("vmousecancel",n)}function i(e){n(),c||r!==e.target?c&&e.preventDefault():l(o,"tap",e)}if(c=!1,e.which&&1!==e.which)return!1;var a,r=e.target;s.bind("vmouseup",t).bind("vclick",i),u.bind("vmousecancel",n),a=setTimeout(function(){d.event.special.tap.emitTapOnTaphold||(c=!0),l(o,"taphold",d.Event("taphold",{target:r}))},d.event.special.tap.tapholdThreshold)})},teardown:function(){d(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),u.unbind("vmousecancel")}},d.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var t=r.pageXOffset,n=r.pageYOffset,i=e.clientX,a=e.clientY;return 0===e.pageY&&Math.floor(a)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(i)>Math.floor(e.pageX)?(i-=t,a-=n):(a<e.pageY-n||i<e.pageX-t)&&(i=e.pageX-t,a=e.pageY-n),{x:i,y:a}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,t=d.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[t.x,t.y],origin:d(e.target)}},stop:function(e){e=e.originalEvent.touches?e.originalEvent.touches[0]:e,e=d.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[e.x,e.y]}},handleSwipe:function(e,t,n,i){if(t.time-e.time<d.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>d.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<d.event.special.swipe.verticalDistanceThreshold){var a=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return l(n,"swipe",d.Event("swipe",{target:i,swipestart:e,swipestop:t}),!0),l(n,a,d.Event(a,{target:i,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var r=this,e=d(r),o={},t=d.data(this,"mobile-events");t||d.data(this,"mobile-events",t={length:0}),t.length++,(t.swipe=o).start=function(e){var t,n,i,a;d.event.special.swipe.eventInProgress||(d.event.special.swipe.eventInProgress=!0,n=d.event.special.swipe.start(e),i=e.target,a=!1,o.move=function(e){n&&!e.isDefaultPrevented()&&(t=d.event.special.swipe.stop(e),a||(a=d.event.special.swipe.handleSwipe(n,t,r,i))&&(d.event.special.swipe.eventInProgress=!1),Math.abs(n.coords[0]-t.coords[0])>d.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},o.stop=function(){a=!0,d.event.special.swipe.eventInProgress=!1,u.off(h,o.move),o.move=null},u.on(h,o.move).one(c,o.stop))},e.on(i,o.start)},teardown:function(){var e,t=d.data(this,"mobile-events");t&&(e=t.swipe,delete t.swipe,t.length--,0===t.length&&d.removeData(this,"mobile-events")),e&&(e.start&&d(this).off(i,e.start),e.move&&u.off(h,e.move),e.stop&&u.off(c,e.stop))}},d.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){d.event.special[e]={setup:function(){d(this).bind(t,d.noop)},teardown:function(){d(this).unbind(t)}}})}),__cx.define("cx-app",["jquery","cx-bus","cx-common","cx-helper","cx-ui-plugins","jquery-mobile","jquery-ui"],function(a,n,r,i){"use strict";function o(e){var t=(e?console:r).log;t(T+"\n "+r.data("product")+"\n "+r.data("version")+"\n "+r.data("copyright")+"\n"+T+"\n List of Initialized Plugins\n"),a.each(h.mandatory.concat(h.optional).sort(),function(){t("  "+this)}),t(T)}function s(){++e!=h.mandatory.length||u||d.command("setLanguage",{lang:y}).always(function(){_&&a(document.body).append(_.detach()),d.republish("timeFormat",{timeFormat:w}),function(){var e=k.extensions;if("object"==typeof e)for(var t in e)"function"==typeof e[t]?(f[t]=e[t],f[t](a,n,r)):"string"==typeof e[t]&&(f[t]=e[t])}(),d.republish("ready",k),v=!0,window.sessionStorage.setItem("Widgets.ready",!0),"function"==typeof k.onReady&&k.onReady(k.bus),function(){for(var e in f)"string"==typeof f[e]&&(r.injectScript(f[e]),delete f[e])}()})}function c(){++t!=h.optional.length||u||d.republish("allReady",k)}window.sessionStorage.setItem("Widgets.ready",!1);var l=n.registerMaster(),d=n.registerPlugin("App"),e=0,t=0,u=!1,h={mandatory:["cx-overlay","cx-toaster","cx-watchman","cx-console","cx-window-manager","cx-stats-service","cx-remote","cx-calendar"],optional:["cx-search","cx-chat-deflection","cx-knowledge-center-service","cx-channel-selector","cx-webchat-service","cx-webchat","cx-call-us","cx-cobrowse","cx-send-message","cx-send-message-service","cx-gwe","cx-callback-service","cx-callback"],external:[]},p={"cx-appointment":"Appointment","cx-boiler":"Boiler","cx-buster":"Buster","cx-calendar":"Calendar","cx-call-us":"CallUs","cx-callback":"Callback","cx-callback-service":"CallbackService","cx-channel-selector":"ChannelSelector","cx-chat-deflection":"ChatDeflection","cx-cobrowse":"CoBrowse","cx-console":"Console","cx-gwe":"GWE","cx-knowledge-center":"KnowledgeCenter","cx-knowledge-center-service":"KnowledgeCenterService","cx-offers":"Offers","cx-overlay":"Overlay","cx-preferences":"Preferences","cx-search":"Search","cx-send-message":"SendMessage","cx-send-message-service":"SendMessageService","cx-sidebar":"SideBar","cx-stats-service":"StatsService","cx-survey":"Survey","cx-toaster":"Toaster","cx-watchman":"Watchman","cx-webchat":"WebChat","cx-webchat-service":"WebChatService","cx-webchat-service-tester":"WebChatServiceTester","cx-window-manager":"WindowManager","cx-remote":"Remote"},f={},m={dark:"cx-theme-dark",light:"cx-theme-light"},g="dark",v=!1,b={},x=600,y="en",w=12,C="Roboto:400,300,100",k=r.checkPath(window,"_genesys.cxwidget")||r.checkPath(window,"_genesys.widgets")||{},_=!1,T="------------------------------------------------";return function(){if(window.location.search.match(/widgets\./)){var e=window.location.search.split("&"),t="";a.each(e,function(){var e=this.replace(/^\?/,"").replace("widgets.main.","widgets.app.");e.match(/^widgets\./)&&(e=e.replace(/\=/g,'":'),t+='"'+e+",")}),t=t.replace(/\,$/,"");try{var n,i=JSON.parse("{"+decodeURIComponent(t)+"}");for(n in i)n.match(/^widgets\./g)&&r.createPath(k,n.replace(/widgets\./g,""),i[n])}catch(e){r.log("Error Parsing URL parameters")}}}(),l.config({debug:!1,nsRoot:"cx",nsPlugin:"plugin",nsStrict:!1,log:!0,logStore:!1}),k.main=a.extend(k.main||{},k.app||{},k.global||{}),k.main&&"boolean"==typeof k.main.debug&&(l.config({debug:k.main.debug}),r.config({debug:k.main.debug})),k.main&&"boolean"==typeof k.main.debugTimestamps&&r.config({debugTimestamps:k.main.debugTimestamps}),k.main&&"string"==typeof k.main.iconSet&&r.config({iconSet:k.main.iconSet}),!1===k.main.downloadGoogleFont&&(C=!1),o(),{init:function(){var e,t;d&&(d.registerEvents(["ready","closeAll","theme","i18n","mobileMode","timeFormat"]),C&&a(document.body).append('<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family='+C+'"/>'),d.registerCommand("about",function(){o(!0)}),d.registerCommand("debug",function(e){"boolean"==typeof e.data.timestamps&&(r.config({debugTimestamps:e.data.timestamps}),k.main.debugTimestamps=e.data.timestamps),"boolean"==typeof e.data.enabled&&(l.config({debug:e.data.enabled}),r.config({debug:e.data.enabled}),k.main.debug=e.data.enabled,o())}),d.registerCommand("initPlugin",function(e){var t=e.data||[];0<(t="string"==typeof t?[e.data]:t).length&&__cx.require(t),e.deferred.resolve()}),d.registerCommand("registerExtension",function(e){v?f[e.data.name]?e.deferred.reject("The Extension name: '"+e.data.name+"', is already taken. Please use another name."):"string"==typeof e.data.name&&"function"==typeof e.data.extension?(f[e.data.name]=e.data.extension,e.data.extension(a,n,r),e.deferred.resolve()):"string"==typeof e.data.name&&"string"==typeof e.data.extension?(f[e.data.name]=e.data.extension,r.injectScript(e.data.extension)):e.deferred.reject("The options 'name' must be a string and 'extension' must be a function or a URL."):e.deferred.reject("You must wait until 'App.ready' is published before registering new Extensions.")}),d.registerCommand("closeAll",function(e){d.publish("closeAll"),e.deferred.resolve()}),d.registerCommand("setTheme",function(e){m[e.data.theme]?(g=e.data.theme,d.republish("theme",{theme:m[g]}),d.command("reTheme",{html:a(".cx-widget")}),e.deferred.resolve(g)):e.deferred.reject("Invalid theme specified")}),d.registerCommand("reTheme",function(e){if(e.data.html){var t,n=a(e.data.html);for(t in m)n.removeClass(m[t]);n.addClass(m[g]),e.deferred.resolve(n)}else e.deferred.reject("No HTML provided by "+e.commander)}),d.registerCommand("themeDemo",function(e){var t=parseInt(e.data.delay)||2e3,n=g,i=0;a.each(m,function(e){setTimeout(function(){d.command("setTheme",{theme:e})},t*i++)}),setTimeout(function(){d.command("setTheme",{theme:n})},t*i++),e.deferred.resolve()}),d.registerCommand("getTheme",function(e){e.deferred.resolve(m[g])}),d.registerCommand("setLanguage",function(e){e.data.lang?b[e.data.lang]?(y=e.data.lang,d.publish("i18n",b[y]),e.deferred.resolve()):e.deferred.reject("No matching language code found in language pack"):e.deferred.reject("No language code provided")}),d.registerCommand("info",function(e){o(!0),e.deferred.resolve()}),d.registerCommand("credits",function(e){var t;t="\n",(0,(!0?console:r).log)(T+t+" Development Credits"+t+T+t+"Architecture & Core Plugins"+t+"\tBenjamin Friend"+t+t+"Widget Development"+t+"\tRanjith Manikante Sai"+t+"\tBrian Yee"+t+"\tSahana Mallya"+t+"\tBohdan Klepar"+t+"\tDmitry Zhukov"+t+"\tAnton Okhrimenko"+t+t+"QA"+t+"\tOleksii Lukianenko"+t+T),e.deferred.resolve()}),__cx.require(h.mandatory,function(){}),"object"==typeof k.main&&("number"==typeof(e=k.main).mobileModeBreakpoint&&(x=e.mobileModeBreakpoint),"auto"==e.mobileMode||void 0===e.mobileMode?(a(window).height()<=x||a(window).width()<=x)&&i.isMobile()&&d.republish("mobileMode"):!0===e.mobileMode&&d.republish("mobileMode"),"string"!=typeof e.timeFormat&&"number"!=typeof e.timeFormat||12!=(t=parseInt(e.timeFormat))&&24!=t||(w=t),"string"==typeof e.customStylesheetID&&(_=a("#"+e.customStylesheetID.replace("#",""))),e.plugins&&0<=e.plugins.length&&(h.optional=e.plugins),"object"==typeof e.themes&&a.extend(m,e.themes),e.theme&&m[e.theme]?d.command("setTheme",{theme:e.theme}):d.command("setTheme",{theme:g}),e.lang&&(y=e.lang),e.i18n&&("string"==typeof e.i18n?(u=!0,h.mandatory.length++,a.getJSON(e.i18n).done(function(e){r.log("second success"),b=e}).fail(function(){r.log("error")}).always(function(){u=!1,s()})):"object"==typeof e.i18n&&(r.log(" - - - - inline JSON - "+y),b=e.i18n,r.log(b)))),a.each(h.mandatory,function(){d.subscribe(p[this]+".ready",s)}),a.each(h.optional,function(){d.subscribe(p[this]+".ready",c)}),a.each(h.optional,function(){__cx.require.specified(this)&&__cx.require([this])}))}}}),__cx.require(["cx-app","jquery"],function(e){window.external&&window.external.isGenesysTrackerDisable||window.name&&"disableWebme"==window.name||e.init()}),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("omniwindow",["jquery"],e):e(jQuery)}(function(a){"use strict";return a.fn.extend({omniWindow:function(o){o=a.extend(!0,{animationsPriority:{show:["overlay","modal"],hide:["modal","overlay"]},overlay:{selector:".ow-overlay",hideClass:"ow-closed",animations:{show:function(e,t){return t(e)},hide:function(e,t){return t(e)},internal:{show:function(e){e.overlay.removeClass(o.overlay.hideClass)},hide:function(e){e.overlay.addClass(o.overlay.hideClass)}}}},modal:{hideClass:"ow-closed",animations:{show:function(e,t){return t(e)},hide:function(e,t){return t(e)},internal:{show:function(e){e.modal.removeClass(o.modal.hideClass)},hide:function(e){e.modal.addClass(o.modal.hideClass)}}},internal:{stateAttribute:"ow-active"}},eventsNames:{show:"show.ow",hide:"hide.ow",reposition:"reposition.ow",internal:{overlayClick:"click.ow",keyboardKeyUp:"keyup.ow"}},callbacks:{beforeShow:function(e,t){return t(e)},positioning:function(e,t){return t(e)},afterShow:function(e,t){return t(e)},beforeHide:function(e,t){return t(e)},afterHide:function(e,t){return t(e)},internal:{beforeShow:function(e){return!e.modal.data(o.modal.internal.stateAttribute)&&(e.modal.data(o.modal.internal.stateAttribute,!0),!0)},afterShow:function(t){a(document).on(o.eventsNames.internal.keyboardKeyUp,function(e){27===e.keyCode&&(t.modal.trigger(o.eventsNames.hide),t.overlay.css("display",""),t.modal.css("display",""))}),t.overlay.on(o.eventsNames.internal.overlayClick,function(){t.modal.trigger(o.eventsNames.hide),t.overlay.css("display",""),t.modal.css("display","")})},positioning:function(e){e.modal.css("margin-left",Math.round(e.modal.outerWidth()/-2))},beforeHide:function(e){return!!e.modal.data(o.modal.internal.stateAttribute)&&(e.modal.data(o.modal.internal.stateAttribute,!1),!0)},afterHide:function(e){e.overlay.off(o.eventsNames.internal.overlayClick),a(document).off(o.eventsNames.internal.keyboardKeyUp),e.overlay.css("display",""),e.modal.css("display","")}}}},o);function n(t,n,i){var a=o.animationsPriority[t][0],r=o.animationsPriority[t][1];o[a].animations[t](n,function(e){o[a].animations.internal[t](e),o[r].animations[t](n,function(e){o[r].animations.internal[t](e),o.callbacks[i](n,o.callbacks.internal[i])})})}var i=a(o.overlay.selector);return this.each(function(){var e=a(this),t={modal:e,overlay:i};e.bind(o.eventsNames.show,function(){var e;e=t,o.callbacks.beforeShow(e,o.callbacks.internal.beforeShow)&&(o.callbacks.positioning(e,o.callbacks.internal.positioning),n("show",e,"afterShow"))}).bind(o.eventsNames.hide,function(){var e;e=t,o.callbacks.beforeHide(e,o.callbacks.internal.beforeHide)&&n("hide",e,"afterHide")}).bind(o.eventsNames.reposition,function(){o.callbacks.positioning(t,o.callbacks.internal.positioning)})})}}),a}),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("jquery-resized",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(t){t.fn.resized=function(e){var n,i,a;return e?(n=t(this),i=n.height(),a=n.width(),n.on("resized",e),n.attrchange({callback:function(){var e=n.height(),t=n.width();e===i&&t===a||(i=e,a=t,n.trigger("resized"))}})):t(this).trigger("resized"),n}}),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("jquery-attrchange",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(o){var r=window.MutationObserver||window.WebKitMutationObserver;o.fn.attrchange=function(e,t){if("object"!=typeof e)return"string"==typeof e&&o.fn.attrchange.hasOwnProperty("extensions")&&o.fn.attrchange.extensions.hasOwnProperty(e)?o.fn.attrchange.extensions[e].call(this,t):void 0;var n={trackValues:!1,callback:o.noop};if("function"==typeof e?n.callback=e:o.extend(n,e),n.trackValues&&this.each(function(e,t){for(var n,i={},e=0,a=t.attributes,r=a.length;e<r;e++)i[(n=a.item(e)).nodeName]=n.value;o(this).data("attr-old-value",i)}),r){var i={subtree:!1,attributes:!0,attributeOldValue:n.trackValues},a=new r(function(e){e.forEach(function(e){var t=e.target;n.trackValues&&(e.newValue=o(t).attr(e.attributeName)),"connected"===o(t).data("attrchange-status")&&n.callback.call(t,e)})});return this.data("attrchange-method","Mutation Observer").data("attrchange-status","connected").data("attrchange-obs",a).each(function(){a.observe(this,i)})}return function(){var e=document.createElement("p"),t=!1;if(e.addEventListener)e.addEventListener("DOMAttrModified",function(){t=!0},!1);else{if(!e.attachEvent)return;e.attachEvent("onDOMAttrModified",function(){t=!0})}return e.setAttribute("id","target"),t}()?this.data("attrchange-method","DOMAttrModified").data("attrchange-status","connected").on("DOMAttrModified",function(e){(e=e.originalEvent?e.originalEvent:e).attributeName=e.attrName,e.oldValue=e.prevValue,"connected"===o(this).data("attrchange-status")&&n.callback.call(this,e)}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").data("attrchange-status","connected").on("propertychange",function(e){e.attributeName=window.event.propertyName,function(e,t){var n;e&&(n=this.data("attr-old-value"),0<=t.attributeName.indexOf("style")?(n.style||(n.style={}),e=t.attributeName.split("."),t.attributeName=e[0],t.oldValue=n.style[e[1]],t.newValue=e[1]+":"+this.prop("style")[o.camelCase(e[1])],n.style[e[1]]=t.newValue):(t.oldValue=n[t.attributeName],t.newValue=this.attr(t.attributeName),n[t.attributeName]=t.newValue),this.data("attr-old-value",n))}.call(o(this),n.trackValues,e),"connected"===o(this).data("attrchange-status")&&n.callback.call(this,e)}):this}}),__cx.define("cx-overlay",["jquery","cx-bus","cx-common","omniwindow","jquery-resized"],function(n,e){"use strict";function i(e){m[e]&&(m[e]=void 0)}function a(e,t){c=e.commander,t||(i(g),t=function(){for(var e=1;m[e+""];)e++;return m[e]=[],e+""}(),g=t),t&&!m[t]&&(i(g),m[t]=[],g=t),s&&n.contains(o[0],s[0])&&s.detach(),r&&r.remove(),o&&o.remove(),r=n("<div class='ow-overlay ow-closed'></div>"),o=n("<div class='cx-widget ow-modal ow-closed'></div>"),s=n(e.data.html),p?(o.addClass("cx-mobile"),s.addClass("cx-mobile")):(o.addClass("cx-desktop"),s.addClass("cx-desktop")),o.addClass(f),!0===e.data.overlay&&n(document.body).append(r),n(document.body).append(o),e.data.cobrowseVisible||(o.attr("data-gcb-service-node","true"),r.attr("data-gcb-service-node","true")),o.append(s).omniWindow({callbacks:{afterShow:function(e,t){return o.css({opacity:0,"-webkit-transform":"scale(0)",transform:"scale(0)"}).animate({opacity:1},{duration:250,step:function(e){n(this).css("-webkit-transform","scale("+e+")"),n(this).css("transform","scale("+e+")"),n(window).resize()}}),t(e)}}}),o.trigger("show"),!1===e.data.modal?r.hide():r.show(),h=!0===e.data.immutable,l="close."+b.parsePluginName(e.commander),d="closeAttempt."+b.parsePluginName(e.commander),u=!0,n(window).resize(),e.data.back||(m[g].push(s),v=m[g].length-1),e.deferred.resolve({html:s,group:t,events:{close:b.namespace()+"."+l,closeAttempt:b.namespace()+"."+d}})}var r,o,s,c,l,d,u,h,p,f,m,g,v,b=e.registerPlugin("Overlay");b&&(b.registerEvents(["ready"]),p=h=u=d=l=c=s=o=r=!1,m={},g=f="",v=0,n(window).resize(function(){o&&o.trigger("reposition")}),b.registerCommand("open",function(e){var t=e.data.group;h&&e.commander!==c&&"cx.plugin.App"!==e.commander?(b.publish(d),e.deferred.reject("Overlay view is currently reserved by '"+c+"'")):e.data.html?t!=g?u?b.command("close").done(function(){a(e,t)}):a(e,t):u&&t==g?a(e,t):a(e):e.deferred.reject("No HTML content was provided. Overlay has ignored your command.")}),b.registerCommand("close",function(e){u?h&&e.commander!==c&&"cx.plugin.App"!==e.commander?(b.publish(d),e.deferred.reject("Overlay view is currently reserved by '"+c+"'")):(h=!1,o.css({opacity:1,"-webkit-transform":"scale(1)",transform:"scale(1)"}).animate({opacity:0},{duration:250,step:function(e){n(this).css({"-webkit-transform":"scale("+e+")",transform:"scale("+e+")"})},complete:function(){s.detach(),r.remove(),o.remove(),e.deferred.resolve()}}),e.commander!=c&&l&&(b.publish(l),l=!1),c=u=!1):e.deferred.reject("Overlay view is already closed")}),b.registerCommand("immutable",function(e){u?e.commander===c?h?e.deferred.reject("Overlay is already in an immutable state."):(h=!0,e.deferred.resolve()):e.deferred.reject("You are not authorized to change this state. This overlay is currently reserved by '"+c+"'"):e.deferred.reject("There is no overlay to make immutable.")}),b.registerCommand("mutable",function(e){u?e.commander===c?h?(h=!1,e.deferred.resolve()):e.deferred.reject("Overlay is already in a mutable state."):e.deferred.reject("You are not authorized to change this state. This overlay is currently reserved by '"+c+"'"):e.deferred.reject("There is no overlay to make mutable.")}),b.registerCommand("mutable",function(){h=!1}),b.subscribe("App.theme",function(e){f=e.data.theme}),b.registerCommand("back",function(e){(!h||e.commander===c||"cx.plugin.App"===e.commander)&&m[g]&&0<v?(m[g].pop(),e.data.html=m[g][--v],e.data.back=!0,a(e,g)):e.deferred.reject("Overlay is immutable or you don't have permission to close the current overlay. Or there is no previous overlay in this group to go back to.")}),b.subscribe("App.ready",function(){b.command("App.getTheme").done(function(e){f=e})}),b.subscribe("App.closeAll",function(){b.command("close")}),b.subscribe("App.mobileMode",function(){p=!0}),b.republish("ready"))}),__cx.define("text!plugins/cx-toaster/html/cx-toaster.html",[],function(){return'<div class="cx-widget cx-toaster"></div>'}),__cx.define("cx-toaster",["jquery","cx-bus","cx-common","text!./plugins/cx-toaster/html/cx-toaster.html"],function(t,e,i,n){"use strict";var a=e.registerPlugin("Toaster"),r=!1,o=!1,s=(i.HTML.Containers.Generic,t(),!1),c=!1,l=!1,d=!1,u={open:function(e){var t,n=e.data;if(n.type&&"generic"!==n.type){if("custom"!==n.type||!n.body)return e.deferred.reject("No content was provided. Toaster has ignored your command."),!1;t=u.renderContent(n.body)}else t=u.renderContent(i.Generate.Container({type:"toast",title:n.title,icon:n.icon,body:n.body,controls:n.controls,buttons:n.buttons}));t?r&&(s=!0,c&&r.addClass("cx-mobile"),n.cobrowseVisible||r.attr("data-gcb-service-node","true"),a.command("WindowManager.registerDockView",{html:r}).done(function(){l=!0===e.data.immutable&&e.commander,d="close."+a.parsePluginName(e.commander)+"#"+parseInt(1e7*Math.random()),e.deferred.resolve({html:t,events:{close:a.namespace()+"."+d}})})):e.deferred.reject("No content was provided. Toaster has ignored your command.")},close:function(e){r&&(s=!1,r.animate({bottom:0-r.height()+"px"},{duration:500,done:function(){u.detachContent(),r.remove(),a.publish("closed"),e&&e.resolve()}}),d&&(a.publish(d),d=!1))},detachContent:function(){o&&t.contains(r[0],o[0])&&(o.detach(),o=!1)},renderContent:function(e){if(e){u.detachContent(),r&&r.remove(),r=t(n),a.command("App.reTheme",{html:r});e=t(e);return r.append(e),r.find(".cx-buttons-window-control .cx-button-close").click(function(){a.command("close")}),e}return!1}};a&&(a.registerEvents(["ready","closed"]),a.registerCommand("open",function(e){l&&e.commander!==l&&"cx.plugin.App"!==e.commander?e.deferred.reject("Toaster view is currently reserved"):s?a.command("close").done(function(){u.open(e)}):u.open(e)}),a.registerCommand("close",function(e){s?l&&e.commander!==l&&"cx.plugin.App"!==e.commander?e.deferred.reject("Toaster view is currently reserved"):(l=!1,e.data&&e.data.immediately?(u.close(),e.deferred.resolve()):u.close(e.deferred)):e.deferred.reject("Toaster view is already closed")}),a.registerCommand("alert",function(){alert("webchat test alert")}),a.subscribe("App.ready",function(){a.command("App.getTheme").done(function(e){0})}),a.subscribe("App.closeAll",function(){a.command("close")}),a.subscribe("App.mobileMode",function(){c=!0}),a.republish("ready"))}),__cx.define("text!plugins/cx-sidebar/html/cx-sidebar.html",[],function(){return'<div class="cx-widget cx-sidebar px32 preset-blue" data-gcb-service-node="true"></div>'}),__cx.define("text!plugins/cx-sidebar/html/cx-sidebar-button.html",[],function(){return'<div class="cx-sidebar-button" title="">\n\t<div class="cx-icon"></div>\n\t<div class="name"></div>\n</div>'}),__cx.define("cx-sidebar",["jquery","cx-bus","text!plugins/cx-sidebar/html/cx-sidebar.html","text!plugins/cx-sidebar/html/cx-sidebar-button.html","cx-common"],function(a,e,t,n,r){"use strict";function o(e,t){var n=function(e){for(var t=0;t<d.length;t++)if(d[t]===e)return t}(e),i=d.length-1;void 0===n&&(d.push(e),n=i=d.length-1),i<t&&(t=i),0<=n&&0<=t&&n!=t&&(d.splice(n,1),d.splice(t,0,e)),s.find("cx-sidebar-button").detach(),a.each(d,function(){l[this]&&s.append(l[this])})}var s,c,l,d,i,u,h,p,f,m,g,v,b=e.registerPlugin("SideBar"),x={autoOpen:!0};b&&(b.registerEvents(["ready","opened"]),s=a(t),c=a(n),l={},g=m=null,v=f=p=h=u=i=!(d=[]),b.subscribe("App.ready",function(){b.command("App.reTheme",{html:s}),x.autoOpen&&b.command("open")}),b.subscribe("App.closeAll",function(){b.command("close")}),b.subscribe("App.theme",function(){b.command("App.reTheme",{html:s})}),b.subscribe("App.mobileMode",function(){v=!0}),b.registerCommand("open",function(e){i||(a(document.body).append(s),s.css({width:-1}),s.mouseenter(function(){clearTimeout(g),g=null,h||f||(m=setTimeout(function(){f=!(p=!0),a(".cx-sidebar").animate({width:200},300,function(){p=!(h=!0)})},250))}),s.mouseleave(function(){clearTimeout(m),m=null,(h||p)&&(g=setTimeout(function(){f=!(p=!1),a(".cx-sidebar").animate({width:48},300,function(){f=h=!1})},500))}),s.addClass(v?"cx-mobile":"cx-desktop"),i=!0),u?e.deferred.reject("already open"):(s.animate({width:48}),u=!0,e.deferred.resolve()),b.publish("opened")}),b.registerCommand("close",function(e){u?(s.animate({width:0},function(){s.detach()}),u=!1,e.deferred.resolve()):e.deferred.reject("already closed")}),b.registerCommand("addButton",function(e){var t,n,i,a=b.parsePluginName(e.commander);e.data&&e.data.button&&e.data.button.name&&!l[a]?(t=c.clone(),n=e.data.button,i="click:"+a,t.attr({title:n.title}),t.addClass(n.class),t.find(".cx-icon").html(r.Generate.Icon(n.icon)),t.find(".name").text(n.name),t.click(function(){b.publish(i)}),l[a]=t,o(a,n.position),e.deferred.resolve({html:t,event:b.namespace()+"."+i})):e.deferred.reject("Incorrect or Insufficient data or use of reserved name")}),b.registerCommand("configure",function(e){var t;e||e.data?("boolean"==typeof(t=e.data||e).autoOpen&&(x.autoOpen=t.autoOpen),e.deferred&&e.deferred.resolve()):e.deferred&&e.deferred.reject("Invalid configuration")}),b.subscribe("App.ready",function(e){e.data.sidebar&&b.command("configure",e.data.sidebar)}),b.republish("ready"))}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof __cx.define&&__cx.define.amd?__cx.define("cometd/cometd",[],t):(e.org=e.org||{},e.org.cometd=t())}(this,function(){function me(){var c=[],l={};this.getTransportTypes=function(){return c.slice(0)},this.findTransportTypes=function(e,t,n){for(var i=[],a=0;a<c.length;++a){var r=c[a];!0===l[r].accept(e,t,n)&&i.push(r)}return i},this.negotiateTransport=function(e,t,n,i){for(var a=0;a<c.length;++a)for(var r=c[a],o=0;o<e.length;++o)if(r===e[o]){var s=l[r];if(!0===s.accept(t,n,i))return s}return null},this.add=function(e,t,n){for(var i=!1,a=0;a<c.length;++a)if(c[a]===e){i=!0;break}return i||("number"!=typeof n?c.push(e):c.splice(n,0,e),l[e]=t),!i},this.find=function(e){for(var t=0;t<c.length;++t)if(c[t]===e)return l[e];return null},this.remove=function(e){for(var t=0;t<c.length;++t)if(c[t]===e){c.splice(t,1);var n=l[e];return delete l[e],n}return null},this.clear=function(){c=[],l={}},this.reset=function(e){for(var t=0;t<c.length;++t)l[c[t]].reset(e)}}function b(){var n,i,t;this.registered=function(e,t){n=e,i=t},this.unregistered=function(){i=n=null},this._debug=function(){i._debug.apply(i,arguments)},this._mixin=function(){return i._mixin.apply(i,arguments)},this.getConfiguration=function(){return i.getConfiguration()},this.getAdvice=function(){return i.getAdvice()},this.setTimeout=function(e,t){return ge.setTimeout(i,e,t)},this.clearTimeout=function(e){ge.clearTimeout(e)},this.convertToMessages=function(t){if(ge.isString(t))try{return JSON.parse(t)}catch(e){throw this._debug("Could not convert to JSON the following string",'"'+t+'"'),e}if(ge.isArray(t))return t;if(null==t)return[];if(t instanceof Object)return[t];throw"Conversion Error "+t+", typeof "+typeof t},this.accept=function(){throw"Abstract"},this.getType=function(){return n},this.getURL=function(){return t},this.setURL=function(e){t=e},this.send=function(){throw"Abstract"},this.reset=function(e){this._debug("Transport",n,"reset",e?"initial":"retry")},this.abort=function(){this._debug("Transport",n,"aborted")},this.toString=function(){return this.getType()}}var ge={isString:function(e){return null!=e&&("string"==typeof e||e instanceof String)},isArray:function(e){return null!=e&&e instanceof Array},inArray:function(e,t){for(var n=0;n<t.length;++n)if(e===t[n])return n;return-1},setTimeout:function(t,n,e){return window.setTimeout(function(){try{t._debug("Invoking timed function",n),n()}catch(e){t._debug("Exception invoking timed function",n,e)}},e)},clearTimeout:function(e){window.clearTimeout(e)}};b.derive=function(e){function t(){}return t.prototype=e,new t};function n(){function i(i,a){var e,r,o;this.transportSend(i,a),a.expired=!1,i.sync||(e=this.getConfiguration().maxNetworkDelay,r=e,!0===a.metaConnect&&(r+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",r,"ms for the response, maxNetworkDelay",e),a.timeout=(o=this).setTimeout(function(){a.expired=!0;var e="Request "+a.id+" of transport "+o.getType()+" exceeded "+r+" ms max network delay",t={reason:e},n=a.xhr;t.httpCode=o.xhrStatus(n),o.abortXHR(n),o._debug(e),o.complete(a,!1,a.metaConnect),i.onFailure(n,i.messages,t)},r))}function o(e){var t=++s,n={id:t,metaConnect:!1,envelope:e};l.length<this.getConfiguration().maxConnections-1?(l.push(n),i.call(this,e,n)):(this._debug("Transport",this.getType(),"queueing request",t,"envelope",e),d.push([e,n]))}function a(e,t){var n,i,a,r=ge.inArray(e,l);0<=r&&l.splice(r,1),0<d.length&&(r=d.shift(),n=r[0],i=r[1],this._debug("Transport dequeued request",i.id),t?(this.getConfiguration().autoBatch&&function(e){for(;0<d.length;){var t=d[0],n=t[0],t=t[1];if(n.url!==e.url||n.sync!==e.sync)break;d.shift(),e.messages=e.messages.concat(n.messages),this._debug("Coalesced",n.messages.length,"messages from request",t.id)}}.call(this,n),o.call(this,n),this._debug("Transport completed request",e.id,n)):(a=this).setTimeout(function(){a.complete(i,!1,i.metaConnect);var e={reason:"Previous request failed"},t=i.xhr;e.httpCode=a.xhrStatus(t),n.onFailure(t,n.messages,e)},0))}var r=new b,e=b.derive(r),s=0,c=null,l=[],d=[];return e.complete=function(e,t,n){n?function(e){if(e=e.id,this._debug("Transport",this.getType(),"metaConnect complete, request",e),null!==c&&c.id!==e)throw"Longpoll request mismatch, completing request "+e;c=null}.call(this,e):a.call(this,e,t)},e.transportSend=function(){throw"Abstract"},e.transportSuccess=function(e,t,n){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!0,t.metaConnect),n&&0<n.length?e.onSuccess(n):e.onFailure(t.xhr,e.messages,{httpCode:204}))},e.transportFailure=function(e,t,n){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,n))},e.send=function(e,t){(t?function(e){if(null!==c)throw"Concurrent metaConnect requests not allowed, request id="+c.id+" not yet completed";var t=++s;this._debug("Transport",this.getType(),"metaConnect send, request",t,"envelope",e),i.call(this,e,t={id:t,metaConnect:!0,envelope:e}),c=t}:o).call(this,e)},e.abort=function(){r.abort();for(var e=0;e<l.length;++e){var t=l[e];t&&(this._debug("Aborting request",t),this.abortXHR(t.xhr)||this.transportFailure(t.envelope,t,{reason:"abort"}))}var n=c;n&&(this._debug("Aborting metaConnect request",n),this.abortXHR(n.xhr)||this.transportFailure(n.envelope,n,{reason:"abort"})),this.reset(!0)},e.reset=function(e){r.reset(e),c=null,l=[],d=[]},e.abortXHR=function(e){if(e)try{var t=e.readyState;return e.abort(),t!==window.XMLHttpRequest.UNSENT}catch(e){this._debug(e)}return!1},e.xhrStatus=function(e){if(e)try{return e.status}catch(e){this._debug(e)}return-1},e}function ve(){var t=new n,a=b.derive(t),s=!0;return a.accept=function(e,t){return s||!t},a.newXMLHttpRequest=function(){return new window.XMLHttpRequest},a.xhrSend=function(e){var t=a.newXMLHttpRequest();t.context=a.context,t.withCredentials=!0,t.open("POST",e.url,!0!==e.sync);var n=e.headers;if(n)for(var i in n)n.hasOwnProperty(i)&&t.setRequestHeader(i,n[i]);return t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onload=function(){200===t.status?e.onSuccess(t.responseText):e.onError(t.statusText)},t.onerror=function(){e.onError(t.statusText)},t.send(e.body),t},a.transportSend=function(i,a){this._debug("Transport",this.getType(),"sending request",a.id,"envelope",i);var r=this;try{var o=!0;a.xhr=this.xhrSend({transport:this,url:i.url,sync:i.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(i.messages),onSuccess:function(e){r._debug("Transport",r.getType(),"received response",e);var t=!1;try{var n=r.convertToMessages(e);0===n.length?(s=!1,r.transportFailure(i,a,{httpCode:204})):(t=!0,r.transportSuccess(i,a,n))}catch(e){r._debug(e),t||(s=!1,(t={exception:e}).httpCode=r.xhrStatus(a.xhr),r.transportFailure(i,a,t))}},onError:function(e,t){r._debug("Transport",r.getType(),"received error",e,t),s=!1;var n={reason:e,exception:t};n.httpCode=r.xhrStatus(a.xhr),o?r.setTimeout(function(){r.transportFailure(i,a,n)},0):r.transportFailure(i,a,n)}}),o=!1}catch(e){s=!1,this.setTimeout(function(){r.transportFailure(i,a,{exception:e})},0)}},a.reset=function(e){t.reset(e),s=!0},a}function be(){function f(e,t,n){var i=this;return function(){i.transportFailure(e,t,"error",n)}}var e=new n,e=b.derive(e),r=0;return e.accept=function(){return!0},e.jsonpSend=function(t){var n=document.getElementsByTagName("head")[0],i=document.createElement("script"),a="_cometd_jsonp_"+r++;window[a]=function(e){n.removeChild(i),delete window[a],t.onSuccess(e)};var e=t.url;e+=e.indexOf("?")<0?"?":"&",e+="jsonp="+a,e+="&message="+t.body,i.src=e,i.async=!0!==t.sync,i.type="application/javascript",i.onerror=function(e){t.onError("jsonp "+e.type)},n.appendChild(i)},e.transportSend=function(e,i){for(var a=this,t=0,n=e.messages.length,r=[];0<n;){var o=JSON.stringify(e.messages.slice(t,t+n)),s=e.url.length+encodeURI(o).length,o=this.getConfiguration().maxURILength;if(o<s){if(1===n){o="Bayeux message too big ("+s+" bytes, max is "+o+") for transport "+this.getType();return void this.setTimeout(f.call(this,e,i,o),0)}--n}else r.push(n),t+=n,n=e.messages.length-t}var c=e;if(1<r.length){var l=r[0];this._debug("Transport",this.getType(),"split",e.messages.length,"messages into",r.join(" + ")),(c=this._mixin(!1,{},e)).messages=e.messages.slice(0,l),c.onSuccess=e.onSuccess,c.onFailure=e.onFailure;for(var d=1;d<r.length;++d){var u=this._mixin(!1,{},e),h=l;l+=r[d],u.messages=e.messages.slice(h,l),u.onSuccess=e.onSuccess,u.onFailure=e.onFailure,this.send(u,i.metaConnect)}}this._debug("Transport",this.getType(),"sending request",i.id,"envelope",c);try{var p=!0;this.jsonpSend({transport:this,url:c.url,sync:c.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(c.messages),onSuccess:function(e){var t=!1;try{var n=a.convertToMessages(e);0===n.length?a.transportFailure(c,i,{httpCode:204}):(t=!0,a.transportSuccess(c,i,n))}catch(e){a._debug(e),t||a.transportFailure(c,i,{exception:e})}},onError:function(e,t){var n={reason:e,exception:t};p?a.setTimeout(function(){a.transportFailure(c,i,n)},0):a.transportFailure(c,i,n)}}),p=!1}catch(e){this.setTimeout(function(){a.transportFailure(c,i,{exception:e})},0)}},e}function xe(){function c(e,t){e&&(this.webSocketClose(e,t.code,t.reason),this.onClose(e,t))}function l(e){return e===m||e===f}function a(e,t,n){for(var i=[],a=0;a<t.messages.length;++a){var r=t.messages[a];r.id&&i.push(r.id)}e.envelopes[i.join(",")]=[t,n],this._debug("Transport",this.getType(),"stored envelope, envelopes",e.envelopes)}function r(t){if(!m){var e=d.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",e);try{var n=d.getConfiguration().protocol;t.webSocket=n?new window.WebSocket(e,n):new window.WebSocket(e),m=t}catch(e){throw u=!1,this._debug("Exception while creating WebSocket object",e),e}p=!1!==d.getConfiguration().stickyReconnect;var i=this,a=d.getConfiguration().connectTimeout;0<a&&(t.connectTimer=this.setTimeout(function(){d._debug("Transport",i.getType(),"timed out while connecting to URL",e,":",a,"ms"),c.call(i,t,{code:1e3,reason:"Connect Timeout"})},a));function r(e){d._debug("WebSocket onclose",t,e=e||{code:1e3},"connecting",m,"current",f),t.connectTimer&&i.clearTimeout(t.connectTimer),i.onClose(t,e)}t.webSocket.onopen=function(){d._debug("WebSocket onopen",t),t.connectTimer&&i.clearTimeout(t.connectTimer),l(t)?(f=t,h=!(m=null),i.onOpen(t)):(d._warn("Closing extra WebSocket connection",this,"active connection",f),c.call(i,t,{code:1e3,reason:"Extra Connection"}))},t.webSocket.onclose=r,t.webSocket.onerror=function(){r({code:1e3,reason:"Error"})},t.webSocket.onmessage=function(e){d._debug("WebSocket onmessage",e,t),i.onMessage(t,e)},this._debug("Transport",this.getType(),"configured callbacks on",t)}}function o(t,n,e){var i=JSON.stringify(n.messages);t.webSocket.send(i),this._debug("Transport",this.getType(),"sent",n,"metaConnect =",e);var i=this.getConfiguration().maxNetworkDelay,a=i;e&&(a+=this.getAdvice().timeout,g=!0);for(var r=this,o=[],s=0;s<n.messages.length;++s)!function(){var e=n.messages[s];e.id&&(o.push(e.id),t.timeouts[e.id]=r.setTimeout(function(){d._debug("Transport",r.getType(),"timing out message",e.id,"after",a,"on",t),c.call(r,t,{code:1e3,reason:"Message Timeout"})},a))}();this._debug("Transport",this.getType(),"waiting at most",a,"ms for messages",o,"maxNetworkDelay",i,", timeouts:",t.timeouts)}var d,n=new b,e=b.derive(n),u=!0,h=!1,p=!0,f=null,m=null,g=!1,v=null;return e.reset=function(e){n.reset(e),e&&(h=!1),m=f=null,g=!(p=u=!0)},e._notifySuccess=function(e,t){e.call(this,t)},e._notifyFailure=function(e,t,n,i){e.call(this,t,n,i)},e.onOpen=function(e){var t,n,i,a=e.envelopes;for(t in this._debug("Transport",this.getType(),"opened",e,"pending messages",a),a)a.hasOwnProperty(t)&&(n=(i=a[t])[0],i=i[1],v=n.onSuccess,o.call(this,e,n,i))},e.onMessage=function(e,t){this._debug("Transport",this.getType(),"received websocket message",t,e);for(var n=!1,i=this.convertToMessages(t.data),a=[],r=0;r<i.length;++r){var o,s=i[r];(/^\/meta\//.test(s.channel)||void 0===s.data)&&s.id&&(a.push(s.id),(o=e.timeouts[s.id])&&(this.clearTimeout(o),delete e.timeouts[s.id],this._debug("Transport",this.getType(),"removed timeout for message",s.id,", timeouts",e.timeouts))),"/meta/connect"===s.channel&&(g=!1),"/meta/disconnect"!==s.channel||g||(n=!0)}for(var c=!1,l=e.envelopes,d=0;d<a.length;++d){var u,h=a[d];for(u in l)if(l.hasOwnProperty(u)){var p=u.split(","),f=ge.inArray(h,p);if(0<=f){c=!0,p.splice(f,1);var m=l[u][0],f=l[u][1];delete l[u],0<p.length&&(l[p.join(",")]=[m,f]);break}}}c&&this._debug("Transport",this.getType(),"removed envelope, envelopes",l),this._notifySuccess(v,i),n&&this.webSocketClose(e,1e3,"Disconnect")},e.onClose=function(e,t){this._debug("Transport",this.getType(),"closed",e,t),l(e)&&(u=p&&h,f=m=null);var n,i=e.timeouts;for(n in e.timeouts={},i)i.hasOwnProperty(n)&&this.clearTimeout(i[n]);var a,r,o,s=e.envelopes;for(a in e.envelopes={},s)s.hasOwnProperty(a)&&(r=s[a][0],s[a][1]&&(g=!1),o={websocketCode:t.code,reason:t.reason},t.exception&&(o.exception=t.exception),this._notifyFailure(r.onFailure,e,r.messages,o))},e.registered=function(e,t){n.registered(e,t),d=t},e.accept=function(){return this._debug("Transport",this.getType(),"accept, supported:",u),u&&!!window.WebSocket&&!1!==d.websocketEnabled},e.send=function(e,t){this._debug("Transport",this.getType(),"sending",e,"metaConnect =",t),function(t,e,n){try{null===t?(a.call(this,t=m||{envelopes:{},timeouts:{}},e,n),r.call(this,t)):(a.call(this,t,e,n),o.call(this,t,e,n))}catch(e){var i=this;this.setTimeout(function(){c.call(i,t,{code:1e3,reason:"Exception",exception:e})},0)}}.call(this,f,e,t)},e.webSocketClose=function(e,t,n){try{e.webSocket&&e.webSocket.close(t,n)}catch(e){this._debug(e)}},e.abort=function(){n.abort(),c.call(this,f,{code:1e3,reason:"Abort"}),this.reset(!0)},e}var h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",".","-",":","+","=","^","!","/","*","?","&","<",">","(",")","[","]","{","}","@","%","$","#"],p=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0];return{CometD:function(e){function c(e,t){try{return e[t]}catch(e){return}}function s(e){return ge.isString(e)}function l(e){return null!=e&&"function"==typeof e}function i(e,t){for(var n="";0<--t&&!(e>=Math.pow(10,t));)n+="0";return n+e}function t(e,t){var n;!window.console||l(n=window.console[e])&&(e=new Date,[].splice.call(t,0,0,i(e.getHours(),2)+":"+i(e.getMinutes(),2)+":"+i(e.getSeconds(),2)+"."+i(e.getMilliseconds(),3)),n.apply(window.console,t))}function d(e){return/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(e)}function n(e){var t;!e||(t=ie[e.channel])&&t[e.id]&&(delete t[e.id],Y._debug("Removed",e.listener?"listener":"subscription",e))}function a(e){e&&!e.listener&&n(e)}function r(){for(var e in ie)if(ie.hasOwnProperty(e)){var t=ie[e];if(t)for(var n in t)t.hasOwnProperty(n)&&a(t[n])}}function o(e){Q!==e&&(Y._debug("Status",Q,"->",e),Q=e)}function u(){return"disconnecting"===Q||"disconnected"===Q}function h(){return""+ ++K}function p(t,e,n,i,a){try{return e.call(t,i)}catch(e){t=Y.onExtensionException;if(l(t)){Y._debug("Invoking extension exception handler",n,e);try{t.call(Y,e,n,a,i)}catch(e){Y._info("Exception during execution of extension exception handler",n,e)}}else Y._info("Exception during execution of extension",n,e);return i}}function f(e,t){var n=ie[e];if(n)for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a)try{a.callback.call(a.scope,t)}catch(e){i=Y.onListenerException;if(l(i)){Y._debug("Invoking listener exception handler",a,e);try{i.call(Y,e,a,a.listener,t)}catch(e){Y._info("Exception during execution of listener exception handler",a,e)}}else Y._info("Exception during execution of listener",a,t,e)}}}function m(e,t){f(e,t);for(var n=e.split("/"),i=n.length-1,a=i;0<a;--a){var r=n.slice(0,a).join("/")+"/*";a===i&&f(r,t),f(r+="*",t)}}function g(){null!==re&&ge.clearTimeout(re),re=null}function v(e,t){g();t=se.interval+t;Y._debug("Function scheduled in",t,"ms, interval =",se.interval,"backoff =",ae,e),re=ge.setTimeout(Y,e,t)}function b(e,t,n,i){for(var a,r=0;r<t.length;++r){var o=t[r],s=o.id;J&&(o.clientId=J),null!=(o=function(e){for(var t=oe.length-1;0<=t&&null!=e;--t){var n=oe[t],i=n.extension.outgoing;l(i)&&(e=void 0===(n=p(n.extension,i,n.name,e,!0))?e:n)}return e}(o))?(o.id=s,t[r]=o):(delete ce[s],t.splice(r--,1))}0!==t.length&&(a=Y.getURL(),fe.appendMessageTypeToURL&&(a.match(/\/$/)||(a+="/"),i&&(a+=i)),e={url:a,sync:e,messages:t,onSuccess:function(e){try{U.call(Y,e)}catch(e){Y._info("Exception during handling of messages",e)}},onFailure:function(e,t,n){try{var i=Y.getTransport();n.connectionType=i?i.getType():"unknown",X.call(Y,e,t,n)}catch(e){Y._info("Exception during handling of failure",e)}}},Y._debug("Send",e),B.send(e,n))}function x(e){0<Z||!0===te?ee.push(e):b(!1,[e],!1)}function y(){ae=0}function w(){var e=ee;ee=[],0<e.length&&b(!1,e,!1)}function C(e){o("connecting"),v(function(){var e;u()||(e={id:h(),channel:"/meta/connect",connectionType:B.getType()},ue||(e.advice={timeout:0}),o("connecting"),Y._debug("Connect sent",e),b(!1,[e],!0,"connect"),o("connected"))},e)}function k(e){e&&(se=Y._mixin(!1,{},fe.advice,e),Y._debug("New advice",se))}function _(e){g(),e&&B&&B.abort(),J=null,o("disconnected"),y(),B=null,ue=de=!1,(Z=0)<ee.length&&(e=ee,ee=[],X.call(Y,void 0,e,{reason:"Disconnected"}))}function T(e,t,n){var i=Y.onTransportException;if(l(i)){Y._debug("Invoking transport exception handler",e,t,n);try{i.call(Y,n,e,t)}catch(e){Y._info("Exception during execution of transport exception handler",e)}}}function S(e,t){l(e)&&(t=e,e=void 0),J=null,r(),u()&&$.reset(!0),k({}),te=!(Z=0),q=e,W=t;var n=Y.getURL(),i=$.findTransportTypes("1.0",G,n),e={id:h(),version:"1.0",minimumVersion:"1.0",channel:"/meta/handshake",supportedConnectionTypes:i,advice:{timeout:se.timeout,interval:se.interval}},e=Y._mixin(!1,{},q,e);if(Y._putCallback(e.id,t),!B&&!(B=$.negotiateTransport(i,"1.0",G,n))){n="Could not find initial transport among: "+$.getTransportTypes();throw Y._warn(n),n}Y._debug("Initial transport is",B.getType()),o("handshaking"),Y._debug("Handshake sent",e),b(!1,[e],!1,"handshake")}function E(t,n){try{t.call(Y,n)}catch(e){t=Y.onCallbackException;if(l(t)){Y._debug("Invoking callback exception handler",e);try{t.call(Y,e,n)}catch(e){Y._info("Exception during execution of callback exception handler",e)}}else Y._info("Exception during execution of message callback",e)}}function L(e){var t=Y._getCallback([e.id]);l(t)&&(delete ce[e.id],E(t,e))}function A(e){var t=le[e.id];if(delete le[e.id],t){Y._debug("Handling remote call response for",e,"with context",t);var n=t.timeout;n&&ge.clearTimeout(n);t=t.callback;if(l(t))return E(t,e),1}}function D(e){Y._debug("Transport failure handling",e),e.transport&&(B=e.transport),e.url&&B.setURL(e.url);var t,n=e.action,i=e.delay||0;switch(n){case"handshake":t=i,o("handshaking"),te=!0,v(function(){S(q,W)},t);break;case"retry":C(i);break;case"none":_(!0);break;default:throw"Unknown action "+n}}function M(e,t){L(e),m("/meta/handshake",e),m("/meta/unsuccessful",e),u()&&(t.action="none"),Y.onTransportFailure.call(Y,e,t,D)}function I(e,t){m("/meta/connect",e),m("/meta/unsuccessful",e),u()&&(t.action="none"),Y.onTransportFailure.call(Y,e,t,D)}function j(e){_(!0),L(e),m("/meta/disconnect",e),m("/meta/unsuccessful",e)}function N(e){var t,n=ie[e.subscription];if(n)for(var i in n)!n.hasOwnProperty(i)||(t=n[i])&&!t.listener&&(delete n[i],Y._debug("Removed failed subscription",t));L(e),m("/meta/subscribe",e),m("/meta/unsuccessful",e)}function P(e){L(e),m("/meta/unsubscribe",e),m("/meta/unsuccessful",e)}function O(e){A(e)||(L(e),m("/meta/publish",e),m("/meta/unsuccessful",e))}function z(e){var t,n;if(he=0,null!=(e=function(e){for(var t=0;t<oe.length&&null!=e;++t){var n=oe[t],i=n.extension.incoming;l(i)&&(e=void 0===(n=p(n.extension,i,n.name,e,!1))?e:n)}return e}(e)))switch(k(e.advice),e.channel){case"/meta/handshake":!function(e){var t=Y.getURL();if(e.successful){var n=Y._isCrossDomain(d(t)[2]),t=$.negotiateTransport(e.supportedConnectionTypes,e.version,n,t);if(null===t)return e.successful=!1,M(e,{cause:"negotiation",action:"none",transport:null});B!==t&&(Y._debug("Transport",B.getType(),"->",t.getType()),B=t),J=e.clientId,te=!1,w(),e.reestablish=de,de=!0,L(e),m("/meta/handshake",e),pe=e["x-messages"]||0;var i=u()?"none":se.reconnect||"retry";switch(i){case"retry":y(),0===pe?C(0):Y._debug("Processing",pe,"handshake-delivered messages");break;case"none":_(!0);break;default:throw"Unrecognized advice action "+i}}else M(e,{cause:"unsuccessful",action:se.reconnect||"handshake",transport:B})}(e);break;case"/meta/connect":!function(e){if(ue=e.successful){m("/meta/connect",e);var t=u()?"none":se.reconnect||"retry";switch(t){case"retry":y(),C(ae);break;case"none":_(!1);break;default:throw"Unrecognized advice action "+t}}else I(e,{cause:"unsuccessful",action:se.reconnect||"retry",transport:B})}(e);break;case"/meta/disconnect":(n=e).successful?(_(!1),L(n),m("/meta/disconnect",n)):j(n);break;case"/meta/subscribe":(n=e).successful?(L(n),m("/meta/subscribe",n)):N(n);break;case"/meta/unsubscribe":(t=e).successful?(L(t),m("/meta/unsubscribe",t)):P(t);break;default:void 0!==(t=e).data?A(t)||(m(t.channel,t),0<pe&&(0===--pe&&(Y._debug("Processed last handshake-delivered message"),C(0)))):void 0===t.successful?Y._warn("Unknown Bayeux Message",t):t.successful?(L(t),m("/meta/publish",t)):O(t)}}function F(e){var t=ie[e];if(t)for(var n in t)if(t.hasOwnProperty(n)&&t[n])return 1}function R(e,t){var n={scope:e,method:t};if(l(e))n.scope=void 0,n.method=e;else if(s(t)){if(!e)throw"Invalid scope "+e;if(n.method=e[t],!l(n.method))throw"Invalid callback "+t+" for scope "+e}else if(!l(t))throw"Invalid callback "+t;return n}function H(e,t,n,i){var a=R(t,n);Y._debug("Adding",i?"listener":"subscription","on",e,"with scope",a.scope,"and callback",a.method);t=++ne,n={id:t,channel:e,scope:a.scope,callback:a.method,listener:i},a=ie[e];return a||(ie[e]=a={}),a[t]=n,Y._debug("Added",i?"listener":"subscription",n),n}var B,q,W,U,X,Y=this,V=e||"default",G=!1,$=new me,Q="disconnected",K=0,J=null,Z=0,ee=[],te=!1,ne=0,ie={},ae=0,re=null,oe=[],se={},ce={},le={},de=!1,ue=!1,he=0,pe=0,fe={protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,urls:{},maxURILength:2e3,advice:{timeout:6e4,interval:0,reconnect:void 0,maxInterval:0}};this._mixin=function(e,t){for(var n=t||{},i=2;i<arguments.length;++i){var a=arguments[i];if(null!=a)for(var r in a)if(a.hasOwnProperty(r)){var o=c(a,r),s=c(n,r);if(o===t)continue;if(void 0===o)continue;e&&"object"==typeof o&&null!==o?o instanceof Array?n[r]=this._mixin(e,s instanceof Array?s:[],o):(s="object"!=typeof s||s instanceof Array?{}:s,n[r]=this._mixin(e,s,o)):n[r]=o}}return n},this._warn=function(){t("warn",arguments)},this._info=function(){"warn"!==fe.logLevel&&t("info",arguments)},this._debug=function(){"debug"===fe.logLevel&&t("debug",arguments)},this._isCrossDomain=function(e){return!!(window.location&&window.location.host&&e)&&e!==window.location.host},this.send=x,this._getCallback=function(e){return ce[e]},this._putCallback=function(e,t){var n=this._getCallback(e);return l(t)&&(ce[e]=t),n},this.onTransportFailure=function(e,t,n){this._debug("Transport failure",t,"for",e);var i,a=this.getTransportRegistry(),r=this.getURL(),o=this._isCrossDomain(d(r)[2]),s=a.findTransportTypes("1.0",o,r);"none"===t.action?"/meta/handshake"!==e.channel||t.transport||(i="Could not negotiate transport, client=["+s+"], server=["+e.supportedConnectionTypes+"]",this._warn(i),T(B.getType(),null,{reason:i,connectionType:B.getType(),transport:B})):(t.delay=this.getBackoffPeriod(),"/meta/handshake"===e.channel?(t.transport||((r=a.negotiateTransport(s,"1.0",o,r))?(this._debug("Transport",B.getType(),"->",r.getType()),T(B.getType(),r.getType(),e.failure),t.action="handshake",t.transport=r):(this._warn("Could not negotiate transport, client=["+s+"]"),T(B.getType(),null,e.failure),t.action="none")),"none"!==t.action&&this.increaseBackoffPeriod()):(s=(new Date).getTime(),0===he&&(he=s),"retry"===t.action&&(t.delay=this.increaseBackoffPeriod(),0<(e=se.maxInterval)&&se.timeout+se.interval+e<s-he+ae&&(t.action="handshake")),"handshake"===t.action&&(t.delay=0,a.reset(!1),this.resetBackoffPeriod()))),n.call(Y,t)},this.receive=z,U=function(e){Y._debug("Received",e);for(var t=0;t<e.length;++t)z(e[t])},X=function(e,t,n){Y._debug("handleFailure",e,t,n),n.transport=e;for(var i=0;i<t.length;++i){var a=t[i],r={id:a.id,successful:!1,channel:a.channel,failure:n};switch((n.message=a).channel){case"/meta/handshake":M(r,{cause:"failure",action:"handshake",transport:null});break;case"/meta/connect":ue=!1,I(r,{cause:"failure",action:"retry",transport:null});break;case"/meta/disconnect":j(r);break;case"/meta/subscribe":r.subscription=a.subscription,N(r);break;case"/meta/unsubscribe":r.subscription=a.subscription,P(r);break;default:O(r)}}},this.registerTransport=function(e,t,n){n=$.add(e,t,n);return n&&(this._debug("Registered transport",e),l(t.registered)&&t.registered(e,this)),n},this.unregisterTransport=function(e){var t=$.remove(e);return null!==t&&(this._debug("Unregistered transport",e),l(t.unregistered)&&t.unregistered()),t},this.unregisterTransports=function(){$.clear()},this.getTransportTypes=function(){return $.getTransportTypes()},this.findTransport=function(e){return $.find(e)},this.getTransportRegistry=function(){return $},this.configure=function(e){!function(e){if(Y._debug("Configuring cometd object with",e),s(e)&&(e={url:e}),fe=Y._mixin(!1,fe,e=e||{}),!(t=Y.getURL()))throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var e=(n=d(t))[2],t=n[8],n=n[9];G=Y._isCrossDomain(e),fe.appendMessageTypeToURL&&(void 0!==n&&0<n.length?(Y._info("Appending message type to URI "+t+n+" is not supported, disabling 'appendMessageTypeToURL' configuration"),fe.appendMessageTypeToURL=!1):(n=(e=t.split("/")).length-1,t.match(/\/$/)&&--n,0<=e[n].indexOf(".")&&(Y._info("Appending message type to URI "+t+" is not supported, disabling 'appendMessageTypeToURL' configuration"),fe.appendMessageTypeToURL=!1)))}.call(this,e)},this.init=function(e,t){this.configure(e),this.handshake(t)},this.handshake=function(e,t){if("disconnected"!==Q)throw"Illegal state: handshaken";S(e,t)},this.disconnect=function(e,t,n){var i;u()||("boolean"!=typeof e&&(n=t,t=e,e=!1),l(t)&&(n=t,t=void 0),i={id:h(),channel:"/meta/disconnect"},i=this._mixin(!1,{},t,i),Y._putCallback(i.id,n),o("disconnecting"),b(!0===e,[i],!1,"disconnect"))},this.startBatch=function(){++Z,Y._debug("Starting batch, depth",Z)},this.endBatch=function(){!function(){if(--Z,Y._debug("Ending batch, depth",Z),Z<0)throw"Calls to startBatch() and endBatch() are not paired";0!==Z||u()||te||w()}()},this.batch=function(e,t){t=R(e,t);this.startBatch();try{t.method.call(t.scope),this.endBatch()}catch(e){throw this._info("Exception during execution of batch",e),this.endBatch(),e}},this.addListener=function(e,t,n){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!s(e))throw"Illegal argument type: channel must be a string";return H(e,t,n,!0)},this.removeListener=function(e){if(!(e&&e.channel&&"id"in e))throw"Invalid argument: expected subscription, not "+e;n(e)},this.clearListeners=function(){ie={}},this.subscribe=function(e,t,n,i,a){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!s(e))throw"Illegal argument type: channel must be a string";if(u())throw"Illegal state: disconnected";l(t)&&(a=i,i=n,n=t,t=void 0),l(i)&&(a=i,i=void 0);var r=!F(e),o=H(e,t,n,!1);return r&&(r={id:h(),channel:"/meta/subscribe",subscription:e},r=this._mixin(!1,{},i,r),Y._putCallback(r.id,a),x(r)),o},this.unsubscribe=function(e,t,n){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(u())throw"Illegal state: disconnected";l(t)&&(n=t,t=void 0),this.removeListener(e);var i=e.channel;F(i)||(i={id:h(),channel:"/meta/unsubscribe",subscription:i},i=this._mixin(!1,{},t,i),Y._putCallback(i.id,n),x(i))},this.resubscribe=function(e,t){return a(e),e?this.subscribe(e.channel,e.scope,e.callback,t):void 0},this.clearSubscriptions=function(){r()},this.publish=function(e,t,n,i){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!s(e))throw"Illegal argument type: channel must be a string";if(/^\/meta\//.test(e))throw"Illegal argument: cannot publish to meta channels";if(u())throw"Illegal state: disconnected";l(t)?(i=t,t={},n=void 0):l(n)&&(i=n,n=void 0);var a={id:h(),channel:e,data:t},a=this._mixin(!1,{},n,a);Y._putCallback(a.id,i),x(a)},this.publishBinary=function(e,t,n,i,a){l(t)?(a=t,t=new ArrayBuffer(0),n=!0,i=void 0):l(n)?(a=n,n=!0,i=void 0):l(i)&&(a=i,i=void 0);this.publish(e,{meta:i,data:t,last:n},{ext:{binary:{}}},a)},this.remoteCall=function(e,t,n,i,a){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!s(e))throw"Illegal argument type: target must be a string";if(u())throw"Illegal state: disconnected";if(l(t)?(a=t,t={},n=fe.maxNetworkDelay,i=void 0):l(n)?(a=n,n=fe.maxNetworkDelay,i=void 0):l(i)&&(a=i,i=void 0),"number"!=typeof n)throw"Illegal argument type: timeout must be a number";e.match(/^\//)||(e="/"+e);var r={id:h(),channel:"/service"+e,data:t},o=this._mixin(!1,{},i,r),r={callback:a};0<n&&(r.timeout=ge.setTimeout(Y,function(){Y._debug("Timing out remote call",o,"after",n,"ms"),O({id:o.id,error:"406::timeout",successful:!1,failure:{message:o,reason:"Remote Call Timeout"}})},n),Y._debug("Scheduled remote call timeout",o,"in",n,"ms")),le[o.id]=r,x(o)},this.remoteCallBinary=function(e,t,n,i,a,r){l(t)?(r=t,t=new ArrayBuffer(0),n=!0,i=void 0,a=fe.maxNetworkDelay):l(n)?(r=n,n=!0,i=void 0,a=fe.maxNetworkDelay):l(i)?(r=i,i=void 0,a=fe.maxNetworkDelay):l(a)&&(r=a,a=fe.maxNetworkDelay);this.remoteCall(e,{meta:i,data:t,last:n},a,{ext:{binary:{}}},r)},this.getStatus=function(){return Q},this.isDisconnected=u,this.setBackoffIncrement=function(e){fe.backoffIncrement=e},this.getBackoffIncrement=function(){return fe.backoffIncrement},this.getBackoffPeriod=function(){return ae},this.increaseBackoffPeriod=function(){return ae<fe.maxBackoff&&(ae+=fe.backoffIncrement),ae},this.resetBackoffPeriod=function(){y()},this.setLogLevel=function(e){fe.logLevel=e},this.registerExtension=function(e,t){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!s(e))throw"Illegal argument type: extension name must be a string";for(var n=!1,i=0;i<oe.length;++i)if(oe[i].name===e){n=!0;break}return n?(this._info("Could not register extension with name",e,"since another extension with the same name already exists"),!1):(oe.push({name:e,extension:t}),this._debug("Registered extension",e),l(t.registered)&&t.registered(e,this),!0)},this.unregisterExtension=function(e){if(!s(e))throw"Illegal argument type: extension name must be a string";for(var t=!1,n=0;n<oe.length;++n){var i=oe[n];if(i.name===e){oe.splice(n,1),t=!0,this._debug("Unregistered extension",e);i=i.extension;l(i.unregistered)&&i.unregistered();break}}return t},this.getExtension=function(e){for(var t=0;t<oe.length;++t){var n=oe[t];if(n.name===e)return n.extension}return null},this.getName=function(){return V},this.getClientId=function(){return J},this.getURL=function(){if(B){var e=B.getURL();if(e)return e;if(e=fe.urls[B.getType()])return e}return fe.url},this.getTransport=function(){return B},this.getConfiguration=function(){return this._mixin(!0,{},fe)},this.getAdvice=function(){return this._mixin(!0,{},se)},window.WebSocket&&this.registerTransport("websocket",new xe),this.registerTransport("long-polling",new ve),this.registerTransport("callback-polling",new be)},Transport:b,RequestTransport:n,LongPollingTransport:ve,CallbackPollingTransport:be,WebSocketTransport:xe,Utils:ge,Z85:{encode:function(e){var t=null;if(e instanceof ArrayBuffer?t=e:e.buffer instanceof ArrayBuffer?t=e.buffer:Array.isArray(e)&&(t=new Uint8Array(e).buffer),null==t)throw"Cannot Z85 encode "+e;for(var n=t.byteLength,e=n%4,i=4-(0==e?4:e),a=new DataView(t),r="",o=0,s=0;s<n+i;++s){var c=n<=s,o=256*o+(c?0:a.getUint8(s));if((s+1)%4==0){for(var l,d=52200625,u=5;0<u;--u)(!c||i<u)&&(l=Math.floor(o/d)%85,r+=h[l]),d/=85;o=0}}return r},decode:function(e){for(var t=e.length%5,n=5-(0==t?5:t),i=0;i<n;++i)e+=h[h.length-1];for(var a=e.length,t=new ArrayBuffer(4*a/5-n),r=new DataView(t),o=0,s=0,c=0,l=0;l<a;++l){var d=e.charCodeAt(s++)-32,o=85*o+p[d];if(s%5==0){for(var u=16777216;1<=u;)c<r.byteLength&&r.setUint8(c++,Math.floor(o/u)%256),u/=256;o=0}}return t}}}}),function(e,t){"object"==typeof exports?module.exports=t(require("jquery"),require("cometd/cometd")):"function"==typeof __cx.define&&__cx.define.amd?__cx.define("jquery-cometd",["jquery","cometd/cometd"],t):t(jQuery,e.org.cometd)}(this,function(t,n){function a(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){if("content-type"===n.toLowerCase())continue;e.setRequestHeader(n,t[n])}}function i(){var e=new n.LongPollingTransport,e=n.Transport.derive(e);return e.xhrSend=function(i){return t.ajax({url:i.url,async:!0!==i.sync,type:"POST",contentType:"application/json;charset=UTF-8",data:i.body,global:!1,xhrFields:{withCredentials:!0},beforeSend:function(e){return e.withCredentials=!0,a(e,i.headers),!0},success:i.onSuccess,error:function(e,t,n){i.onError(t,n)}})},e}function r(){var e=new n.CallbackPollingTransport,e=n.Transport.derive(e);return e.jsonpSend=function(i){t.ajax({url:i.url,async:!0!==i.sync,type:"GET",dataType:"jsonp",jsonp:"jsonp",data:{message:i.body},beforeSend:function(e){return a(e,i.headers),!0},success:i.onSuccess,error:function(e,t,n){i.onError(t,n)}})},e}return t.CometD=function(e){e=new n.CometD(e);return e.unregisterTransports(),window.WebSocket&&e.registerTransport("websocket",new n.WebSocketTransport),e.registerTransport("long-polling",new i),e.registerTransport("callback-polling",new r),e},t.cometd=new t.CometD,t.cometd}),function(e){var t,n;"function"==typeof __cx.define&&__cx.define.amd?__cx.define("cookie",e):"object"==typeof exports?module.exports=e():(t=window.Cookies,(n=window.Cookies=e()).noConflict=function(){return window.Cookies=t,n})}(function(){function h(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}return function e(d){function u(e,t,n){var i,a;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(n=h({path:"/"},u.defaults,n)).expires&&((a=new Date).setMilliseconds(a.getMilliseconds()+864e5*n.expires),n.expires=a);try{i=JSON.stringify(t),/^[\{\[]/.test(i)&&(t=i)}catch(e){}return t=d.write?d.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,n.expires&&"; expires="+n.expires.toUTCString(),n.path&&"; path="+n.path,n.domain&&"; domain="+n.domain,n.secure?"; secure":""].join("")}e||(i={});for(var r=document.cookie?document.cookie.split("; "):[],o=/(%[0-9A-Z]{2})+/g,s=0;s<r.length;s++){var c=r[s].split("="),l=c[0].replace(o,decodeURIComponent);'"'===(c=c.slice(1).join("=")).charAt(0)&&(c=c.slice(1,-1));try{if(c=d.read?d.read(c,l):d(c,l)||c.replace(o,decodeURIComponent),this.json)try{c=JSON.parse(c)}catch(e){}if(e===l){i=c;break}e||(i[l]=c)}catch(e){}}return i}}return(u.set=u).get=function(e){return u(e)},u.getJSON=function(){return u.apply({json:!0},[].slice.call(arguments))},u.defaults={},u.remove=function(e,t){u(e,"",h(t,{expires:-1}))},u.withConverter=e,u}(function(){})}),__cx.define("sld",[],function(){var e={},t=e&&e.SecondLevelDomains,a={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||t-1<=n)return!1;var i=a.list[e.slice(t+1)];return!!i&&0<=i.indexOf(" "+e.slice(n+1,t)+" ")},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(0<=e.lastIndexOf(".",t-1))return!1;var n=a.list[e.slice(t+1)];return!!n&&0<=n.indexOf(" "+e.slice(0,t)+" ")},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||t-1<=n)return null;var i=a.list[e.slice(t+1)];return!i||i.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1)},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return a}),__cx.define("uri",["sld"],function(l){function d(e,t){var n=1<=arguments.length;if(!(this instanceof d))return n?2<=arguments.length?new d(e,t):new d(e):new d;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===s(e)}function c(e,t){var n,i,a={};if("RegExp"===s(t))a=null;else if(u(t))for(n=0,i=t.length;n<i;n++)a[t[n]]=!0;else a[t]=!0;for(n=0,i=e.length;n<i;n++)(a&&void 0!==a[e[n]]||!a&&t.test(e[n]))&&(e.splice(n,1),i--,n--);return e}function r(e,t){if(u(t)){for(i=0,a=t.length;i<a;i++)if(!r(e,t[i]))return!1;return!0}for(var n=s(t),i=0,a=e.length;i<a;i++)if("RegExp"===n){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function h(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function t(e){return escape(e)}function n(e){return encodeURIComponent(e).replace(/[!'()*]/g,t).replace(/\*/g,"%2A")}function e(n){return function(e,t){return void 0===e?this._parts[n]||"":(this._parts[n]=e||null,this.build(!t),this)}}function i(n,i){return function(e,t){return void 0===e?this._parts[n]||"":(null!==e&&((e+="").charAt(0)===i&&(e=e.substring(1))),this._parts[n]=e,this.build(!t),this)}}var a={},f=a&&a.URI;d.version="1.17.0";var m=d.prototype,g=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}},d.duplicateQueryParameters=!1,d.escapeQuerySpace=!0,d.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,d.idn_expression=/[^a-z0-9\.-]/i,d.punycode_expression=/(xn--)/i,d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},d.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},d.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return d.domAttributes[t]}},d.encode=n,d.decode=decodeURIComponent,d.iso8859=function(){d.encode=escape,d.decode=unescape},d.unicode=function(){d.encode=n,d.decode=decodeURIComponent},d.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},d.encodeQuery=function(e,t){e=d.encode(e+"");return(t=void 0===t?d.escapeQuerySpace:t)?e.replace(/%20/g,"+"):e},d.decodeQuery=function(t,e){t+="",void 0===e&&(e=d.escapeQuerySpace);try{return d.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};function v(n,i){return function(t){try{return d[i](t+"").replace(d.characters[n][i].expression,function(e){return d.characters[n][i].map[e]})}catch(e){return t}}}var b,x={encode:"encode",decode:"decode"};for(b in x)d[b+"PathSegment"]=v("pathname",x[b]),d[b+"UrnPathSegment"]=v("urnpath",x[b]);function y(r,o,s){return function(e){for(var t=s?function(e){return d[o](d[s](e))}:d[o],n=(e+"").split(r),i=0,a=n.length;i<a;i++)n[i]=t(n[i]);return n.join(r)}}d.decodePath=y("/","decodePathSegment"),d.decodeUrnPath=y(":","decodeUrnPathSegment"),d.recodePath=y("/","encodePathSegment","decode"),d.recodeUrnPath=y(":","encodeUrnPathSegment","decode"),d.encodeReserved=v("reserved","encode"),d.parse=function(e,t){var n;return t=t||{},-1<(n=e.indexOf("#"))&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),-1<(n=e.indexOf("?"))&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=d.parseAuthority(e,t)):-1<(n=e.indexOf(":"))&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(d.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=d.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},d.parseHost=function(e,t){var n,i,a=(e=e.replace(/\\/g,"/")).indexOf("/");return-1===a&&(a=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,a)||null,"/"===t.port&&(t.port=null)):(i=e.indexOf(":"),n=e.indexOf("/"),-1!==(i=e.indexOf(":",i+1))&&(-1===n||i<n)?(t.hostname=e.substring(0,a)||null,t.port=null):(n=e.substring(0,a).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)),t.hostname&&"/"!==e.substring(a).charAt(0)&&(a++,e="/"+e),e.substring(a)||"/"},d.parseAuthority=function(e,t){return e=d.parseUserinfo(e,t),d.parseHost(e,t)},d.parseUserinfo=function(e,t){var n=e.indexOf("/"),i=e.lastIndexOf("@",-1<n?n:e.length-1);return-1<i&&(-1===n||i<n)?(n=e.substring(0,i).split(":"),t.username=n[0]?d.decode(n[0]):null,n.shift(),t.password=n[0]?d.decode(n.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},d.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,a={},r=e.split("&"),o=r.length,s=0;s<o;s++)i=r[s].split("="),n=d.decodeQuery(i.shift(),t),i=i.length?d.decodeQuery(i.join("="),t):null,g.call(a,n)?("string"!=typeof a[n]&&null!==a[n]||(a[n]=[a[n]]),a[n].push(i)):a[n]=i;return a},d.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=d.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},d.buildHost=function(e){var t="";return e.hostname?(t+=d.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},d.buildAuthority=function(e){return d.buildUserinfo(e)+d.buildHost(e)},d.buildUserinfo=function(e){var t="";return e.username&&(t+=d.encode(e.username),e.password&&(t+=":"+d.encode(e.password)),t+="@"),t},d.buildQuery=function(e,t,n){var i,a,r,o,s="";for(a in e)if(g.call(e,a)&&a)if(u(e[a]))for(i={},r=0,o=e[a].length;r<o;r++)void 0!==e[a][r]&&void 0===i[e[a][r]+""]&&(s+="&"+d.buildQueryParameter(a,e[a][r],n),!0!==t&&(i[e[a][r]+""]=!0));else void 0!==e[a]&&(s+="&"+d.buildQueryParameter(a,e[a],n));return s.substring(1)},d.buildQueryParameter=function(e,t,n){return d.encodeQuery(e,n)+(null!==t?"="+d.encodeQuery(t,n):"")},d.addQuery=function(e,t,n){if("object"==typeof t)for(var i in t)g.call(t,i)&&d.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0!==e[t]?("string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)):e[t]=n}},d.removeQuery=function(e,t,n){var i,a,r;if(u(t))for(i=0,a=t.length;i<a;i++)e[t[i]]=void 0;else if("RegExp"===s(t))for(r in e)t.test(r)&&(e[r]=void 0);else if("object"==typeof t)for(r in t)g.call(t,r)&&d.removeQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===s(n)?e[t]=!u(e[t])&&n.test(e[t])?void 0:c(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=c(e[t],n)):e[t]=void 0:e[t]=void 0}},d.hasQuery=function(e,t,n,i){if("object"==typeof t){for(var a in t)if(g.call(t,a)&&!d.hasQuery(e,a,t[a]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return u(e[t])?(i?r:h)(e[t],n):!1;case"RegExp":return u(e[t])?!!i&&r(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!i&&r(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},d.commonPath=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},d.withinString=function(e,t,n){var i=(n=n||{}).start||d.findUri.start,a=n.end||d.findUri.end,r=n.trim||d.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var s=i.exec(e);if(!s)break;var c=s.index;if(n.ignoreHtml){var l=e.slice(Math.max(c-3,0),c);if(l&&o.test(l))continue}s=c+e.slice(c).search(a),l=e.slice(c,s).replace(r,"");n.ignore&&n.ignore.test(l)||(l=t(l,c,s=c+l.length,e),e=e.slice(0,c)+l+e.slice(s),i.lastIndex=c+l.length)}return i.lastIndex=0,e},d.ensureValidHostname=function(e){if(e.match(d.invalid_hostname_characters)){if(!punycode)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(punycode.toASCII(e).match(d.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},d.noConflict=function(e){if(e){e={URI:this.noConflict()};return a.URITemplate&&"function"==typeof a.URITemplate.noConflict&&(e.URITemplate=a.URITemplate.noConflict()),a.IPv6&&"function"==typeof a.IPv6.noConflict&&(e.IPv6=a.IPv6.noConflict()),a.SecondLevelDomains&&"function"==typeof a.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=a.SecondLevelDomains.noConflict()),e}return a.URI===this&&(a.URI=f),this},m.build=function(e){return!0===e?this._deferred_build=!0:void 0!==e&&!this._deferred_build||(this._string=d.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new d(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},m.protocol=e("protocol"),m.username=e("username"),m.password=e("password"),m.hostname=e("hostname"),m.port=e("port"),m.query=i("query","?"),m.fragment=i("fragment","#"),m.search=function(e,t){t=this.query(e,t);return"string"==typeof t&&t.length?"?"+t:t},m.hash=function(e,t){t=this.fragment(e,t);return"string"==typeof t&&t.length?"#"+t:t},m.pathname=function(e,t){if(void 0!==e&&!0!==e)return this._parts.path=this._parts.urn?e?d.recodeUrnPath(e):"":e?d.recodePath(e):"/",this.build(!t),this;t=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?d.decodeUrnPath:d.decodePath)(t):t},m.path=m.pathname,m.href=function(e,t){if(void 0===e)return this.toString();this._string="",this._parts=d._parts();var n=e instanceof d,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[d.getDomAttribute(e)]||"",i=!1),"string"==typeof(e=!n&&i&&void 0!==e.pathname?e.toString():e)||e instanceof String)this._parts=d.parse(String(e),this._parts);else{if(!n&&!i)throw new TypeError("invalid input");var a=n?e._parts:e;for(var r in a)g.call(this._parts,r)&&(this._parts[r]=a[r])}return this.build(!t),this},m.is=function(e){var t=!1,n=!1,i=!1,a=!1,r=!1,o=!1,s=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,n=d.ip4_expression.test(this._parts.hostname),i=d.ip6_expression.test(this._parts.hostname),r=(a=!(t=n||i))&&l&&l.has(this._parts.hostname),o=a&&d.idn_expression.test(this._parts.hostname),s=a&&d.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return r;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return o;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return s}return null};var w=m.protocol,C=m.port,k=m.hostname;m.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(d.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,e,t)},m.scheme=m.protocol,m.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&((e=0===e?null:e)&&(e=":"===(e+="").charAt(0)?e.substring(1):e).match(/[^0-9]/)))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return C.call(this,e,t)},m.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};if("/"!==d.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname}return k.call(this,e,t)},m.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}e=d(e);return this.protocol(e.protocol()).authority(e.authority()).build(!t),this},m.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?d.buildHost(this._parts):"";if("/"!==d.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},m.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?d.buildAuthority(this._parts):"";if("/"!==d.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},m.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return"@"!==e[e.length-1]&&(e+="@"),d.parseUserinfo(e,this._parts),this.build(!t),this;if(!this._parts.username)return"";t=d.buildUserinfo(this._parts);return t.substring(0,t.length-1)},m.resource=function(e,t){return void 0===e?this.path()+this.search()+this.hash():(e=d.parse(e),this._parts.path=e.path,this._parts.query=e.query,this._parts.fragment=e.fragment,this.build(!t),this)},m.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}n=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,n),n=new RegExp("^"+o(n));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&d.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(n,e),this.build(!t),this},m.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;n=this._parts.hostname.length-this.tld(t).length-1,n=this._parts.hostname.lastIndexOf(".",n-1)+1;return this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");return d.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(n=new RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)),this.build(!t),this},m.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(n+1);return!0!==t&&l&&l.list[n.toLowerCase()]&&l.get(this._parts.hostname)||n}var i;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!l||!l.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},m.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?d.decodePath(n):n}n=this._parts.path.length-this.filename().length,n=this._parts.path.substring(0,n),n=new RegExp("^"+o(n));return this.is("relative")||"/"!==(e=e||"/").charAt(0)&&(e="/"+e),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e),this.build(!t),this},m.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(n+1);return e?d.decodePathSegment(i):i}n=!1;(e="/"===e.charAt(0)?e.substring(1):e).match(/\.?\//)&&(n=!0);i=new RegExp(o(this.filename())+"$");return e=d.recodePath(e),this._parts.path=this._parts.path.replace(i,e),n?this.normalizePath(t):this.build(!t),this},m.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),i=n.lastIndexOf(".");return-1===i?"":(r=n.substring(i+1),r=/^[a-z0-9%]+$/i.test(r)?r:"",e?d.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var a,r=this.suffix();if(r)a=new RegExp(e?o(r)+"$":o("."+r)+"$");else{if(!e)return this;this._parts.path+="."+d.recodePath(e)}return a&&(e=d.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},m.segment=function(e,t,n){var i=this._parts.urn?":":"/",a=this.path(),r="/"===a.substring(0,1),o=a.split(i);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(u(t))for(var o=[],s=0,c=t.length;s<c;s++)(t[s].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(p(t[s])));else!t&&"string"!=typeof t||(t=p(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=p(t):o.splice(e,1);return r&&o.unshift(""),this.path(o.join(i),n)},m.segmentCoded=function(e,t,n){var i,a,r;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(i=this.segment(e,t,n)))for(a=0,r=i.length;a<r;a++)i[a]=d.decode(i[a]);else i=void 0!==i?d.decode(i):void 0;return i}if(u(t))for(a=0,r=t.length;a<r;a++)t[a]=d.encode(t[a]);else t="string"==typeof t||t instanceof String?d.encode(t):t;return this.segment(e,t,n)};var _=m.query;return m.query=function(e,t){if(!0===e)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"!=typeof e)return void 0!==e&&"string"!=typeof e?(this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):_.call(this,e,t);var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace),e=e.call(this,n);return this._parts.query=d.buildQuery(e||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this},m.setQuery=function(e,t,n){var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var a in e)g.call(e,a)&&(i[a]=e[a])}return this._parts.query=d.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!(n="string"!=typeof e?t:n)),this},m.addQuery=function(e,t,n){var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.addQuery(i,e,void 0===t?null:t),this._parts.query=d.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!(n="string"!=typeof e?t:n)),this},m.removeQuery=function(e,t,n){var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.removeQuery(i,e,t),this._parts.query=d.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!(n="string"!=typeof e?t:n)),this},m.hasQuery=function(e,t,n){var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.hasQuery(i,e,t,n)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return(this._parts.urn?this.normalizeProtocol(!1):this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1)).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},m.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&punycode?this._parts.hostname=punycode.toASCII(this._parts.hostname):this.is("IPv6")&&IPv6&&(this._parts.hostname=IPv6.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},m.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},m.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=d.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,i,a,r="";for("/"!==(t=d.recodePath(t)).charAt(0)&&(n=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(r=(r=t.substring(1).match(/^(\.\.\/)+/)||"")&&r[0]);-1!==(i=t.search(/\/\.\.(\/|$)/));)t=0!==i?(a=t.substring(0,i).lastIndexOf("/"),t.substring(0,a=-1===a?i:a)+t.substring(i+3)):t.substring(3);return n&&this.is("relative")&&(t=r+t.substring(1)),this._parts.path=t,this.build(!e),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},m.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var e=d.encode,t=d.decode;d.encode=escape,d.decode=decodeURIComponent;try{this.normalize()}finally{d.encode=e,d.decode=t}return this},m.unicode=function(){var e=d.encode,t=d.decode;d.encode=n,d.decode=unescape;try{this.normalize()}finally{d.encode=e,d.decode=t}return this},m.readable=function(){var e=this.clone();e.username("").password("").normalize();var t="";if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&punycode?(t+=punycode.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var n="",i=0,a=e._parts.query.split("&"),r=a.length;i<r;i++){var o=(a[i]||"").split("=");n+="&"+d.decodeQuery(o[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==o[1]&&(n+="="+d.decodeQuery(o[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+n.substring(1)}return t+d.decodeQuery(e.hash(),!0)},m.absoluteTo=function(e){var t,n,i,a=this.clone(),r=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof d||(e=new d(e)),a._parts.protocol||(a._parts.protocol=e._parts.protocol),this._parts.hostname)return a;for(n=0;i=r[n];n++)a._parts[i]=e._parts[i];return a._parts.path?".."===a._parts.path.substring(-2)&&(a._parts.path+="/"):(a._parts.path=e._parts.path,a._parts.query||(a._parts.query=e._parts.query)),"/"!==a.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),a._parts.path=(t?t+"/":"")+a._parts.path,a.normalizePath()),a.build(),a},m.relativeTo=function(e){var t,n,i=this.clone().normalize();if(i._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new d(e).normalize(),t=i._parts,a=e._parts,n=i.path(),e=e.path(),"/"!==n.charAt(0))throw new Error("URI is already relative");if("/"!==e.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===a.protocol&&(t.protocol=null),t.username!==a.username||t.password!==a.password)return i.build();if(null!==t.protocol||null!==t.username||null!==t.password)return i.build();if(t.hostname!==a.hostname||t.port!==a.port)return i.build();if(t.hostname=null,t.port=null,n===e)return t.path="",i.build();if(!(e=d.commonPath(n,e)))return i.build();var a=a.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=a+t.path.substring(e.length)||"./",i.build()},m.equals=function(e){var t,n,i,a,r=this.clone(),o=new d(e),s={};if(r.normalize(),o.normalize(),r.toString()===o.toString())return!0;if(t=r.query(),e=o.query(),r.query(""),o.query(""),r.toString()!==o.toString())return!1;if(t.length!==e.length)return!1;for(n in i=d.parseQuery(t,this._parts.escapeQuerySpace),a=d.parseQuery(e,this._parts.escapeQuerySpace),i)if(g.call(i,n)){if(u(i[n])){if(!h(i[n],a[n]))return!1}else if(i[n]!==a[n])return!1;s[n]=!0}for(n in a)if(g.call(a,n)&&!s[n])return!1;return!0},m.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},m.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},d}),__cx.define("cx-webchat-service",["jquery","cx-bus","cx-common","cookie","uri","cometd/cometd","jquery-cometd"],function(o,t,r,a,n){"use strict";var i,s,c,l,d,u,h,p,f,m,g,v,b,x,y,w,C,k,_,T,S,E,L,A,D,M,I,j,N,P,O,z,F,R,H,B,q,W,U,X,Y,V,G,$,Q,K,J,Z,ee,te,ne,ie,ae,re,oe,se,ce,le,de,ue,he,pe,fe,me,ge,ve,be,xe,ye,we,Ce,ke=t.registerPlugin("WebChatService");ke&&(ke.registerEvents(["ready","restored","restoreTimeout","restoreFailed","messageReceived","error","started","ended","agentTypingStarted","agentTypingStopped","pollingStarted","pollingStopped","clientConnected","clientDisconnected","agentConnected","agentDisconnected","supervisorConnected","supervisorDisconnected","clientTypingStarted","clientTypingStopped","ajaxResponse","disconnected","reconnected","chatServerWentOffline","chatServerBackOnline"]),i=setInterval,s=!1,l=!(c=!3e3),u={withCredentials:!(d=3e3)},g=m=f=p=h="",v={domain:"."+n(window.location.href).domain(),path:"/"},b=(n="_genesys.widgets.webchat.state")+".session",x=n+".keys",y=n+".ping",w=n+".index",C=n+".filters",L=E=S=T=_=!(k=1),A=6e4,I={},j={},N=[],P=[],O={},z={},U=!(W={enabled:q=B=H=!(R=5),cometURL:M=D="",channel:"/service/chatV2/customer-support",apiURL:"",websocketEnabled:!(F=0),logLevel:"info"}),G={Timer:X=0,Timeout:2e3,TimeInterval:100,Interval:V=Y=!5,Text:""},$={standard:[/\{start\:[0-9]{9}\}/],custom:[]},J=K=!(Q=[]),Z=function(i,e,t){var a=o.Deferred();return t=o.extend({alias:m,secureKey:f,userId:p},t=t||{}),B?B&&(""==i?(i="requestChat",K=a):T&&(K=a),U?ee(i,e,t,a):(ge(),r.watch(function(){return U},250).done(function(){ee(i,e,t)}))):("disconnect"==i&&(J=a),o.ajax({url:D+h+(i?"/"+i:""),type:e,crossDomain:!0,data:t,timeout:d,headers:{"Content-Type":"application/x-www-form-urlencoded"},xhrFields:u,success:function(e){e.id&&(e.sessionId=e.id),he(e),a.resolve(e||{}),E&&(E=!1,ke.publish("reconnected")),ke.publishDirect("ajaxResponse",e)},error:function(e){0===e.status&&(E=!0,ke.publish("disconnected"));var t=e.responseJSON||{};if("refresh"==i&&t.errors&&0<t.errors.length)for(var n=0;n<t.errors.length;n++)204==t.errors[n].code&&t.errors.splice(n,1);t.errors&&0<t.errors.length&&ke.publish("error",e),a.reject(e||{})},beforeSend:function(e){g&&e.setRequestHeader("apikey",g)}})),a.promise()},ee=function(e,t,n,i){B&&q&&U?(n=o.extend({operation:e="send"==e?"sendMessage":e,chatId:h},n),q.publish(W.channel,n),i&&i.resolve({statusCode:0})):i&&i.reject("CometD is not configured or there is a connection issue")},te=function(t,n){var i,a=o.Deferred(),r=n.file;return pe()?(i=new FormData,n=D+h+(t||""),r&&i.append("file",r),B?(n=W.apiURL,i.append("operation",t)):(i.append("alias",m),i.append("userId",p)),i.append("secureKey",f),o.ajax({type:"POST",url:n,mimeType:"multipart/form-data",contentType:!1,crossDomain:!0,timeout:d,processData:!1,data:i,beforeSend:function(e){g&&e.setRequestHeader("apikey",g)},success:function(e){e.id&&(e.sessionId=e.id),he(e),a.resolve(e||{}),E&&(E=!1,ke.publish("disconnected")),ke.publishDirect("ajaxResponse",e)},error:function(e){var t;o.isEmptyObject(r)?ke.publish("error",e):400===e.status?(t=JSON.parse(e.responseText),o.each(t.errors,function(){this.filename=r.name}),e.responseText=JSON.stringify(t),ke.publish("error",e),a.reject(e||{})):0===e.status&&(e.errorReason="FileUploadError",e.filename=r.name,e.file=r,ke.publish("error",e)),a.reject(e||{})}})):e.deferred.reject("No HTMl5 formData support on your browser"),a.promise()},ne=function(e){var n=[];o.each(e.messages||[],function(){if(oe(this.index)&&("Message"!=this.type||ce(this.text))){for(var e=this,t=0;t<Q.length;t++)e=Q[t](e)||e;e=ie(this),ae(e),n.push(e),N.push(e),P.push(this)}}),0<n.length&&ke.publish("messageReceived",{originalMessages:e.messages,messages:n,restoring:T}),!0===e.chatEnded&&!0===_&&(L=!0,ke.command("stopPoll"),re(),ue(),_=!1,Ce(),ke.publish("ended"))},ie=function(e){var t={};return"TypingStarted"==e.type?t.isTyping=!0:"TypingStopped"==e.type&&(t.isTyping=!1),"FileUploaded"==e.type&&(t.fileDetails=e.userData),t.text=e.text,t.type=e.type,t.index=e.index,t.timestamp=e.utcTime,t.html=e.html,t.bubble=e.bubble,t.from={id:e.from?parseInt(e.from.participantId):"",type:e.from?e.from.type:"",name:e.from?e.from.nickname:""},T&&(t.restoring=!0),0<=e.index&&e.index>=k&&(k=e.index+1,a.set(w,k,v)),t},ae=function(e){var t=e.type,n=e.from.type,i=e.from.id,a={};if("Message"!=t&&"PushUrl"!=t&&"Notice"!=t||"Agent"!=n&&"Supervisor"!=n||ke.publish("agentTypingStopped"),"ParticipantJoined"==t)switch("Agent"!=n&&"Supervisor"!=n||(O[i]={name:e.from.name,connected:!0,supervisor:"Supervisor"==n,connectedTime:e.timestamp,disconnectedTime:!1}),a={message:e,agents:O,numAgentsConnected:se()},n){case"Client":ke.publish("clientConnected",a);break;case"Agent":ke.publish("agentConnected",a);break;case"Supervisor":ke.publish("supervisorConnected",a)}else if("ParticipantLeft"==t)switch(O[i]&&(O[i].connected=!1,O[i].disconnectedTime=e.timestamp),a={message:e,agents:O,numAgentsConnected:se()},n){case"Client":ke.publish("clientDisconnected",a);break;case"Agent":ke.publish("agentDisconnected",a),ke.publish("agentTypingStopped");break;case"Supervisor":ke.publish("supervisorDisconnected",a),ke.publish("agentTypingStopped")}"Agent"!=n&&"Supervisor"!=n||("TypingStarted"==t&&ke.publish("agentTypingStarted",e),"TypingStopped"==t&&ke.publish("agentTypingStopped",e))},re=function(){a.remove(b,v),a.remove(x,v),a.remove(y,v),a.remove(w,v),a.remove(C,v)},oe=function(e){return!z[e]&&(z[e]=!0)},se=function(){var e,t=0;for(e in O)!0===O[e].connected&&t++;return t},ce=function(e){for(var t=0;t<$.standard.length;t++)if((e+"").match($.standard[t]))return!1;for(t=0;t<$.custom.length;t++)if((e+"").match($.custom[t]))return!1;return!0},le=function(e){if(e instanceof RegExp){e.length||(e=[e]);for(var t=0;t<e.length;t++)$.custom.push(e[t]);de()}},de=function(){for(var e,t={custom:[]},n=0;n<$.custom.length;n++)e=$.custom[n],t.custom.push({source:e.source,flags:e.flags});a.set(C,JSON.stringify(t),v)},ue=function(){$.custom=[],a.remove(C,v)},he=function(e){L||(e.chatId&&(h=e.chatId),e.secureKey&&(f=e.secureKey),e.alias&&(m=e.alias),e.userId&&(p=e.userId),a.set(x,JSON.stringify({secureKey:f,alias:m,userId:p}),v),a.set(b,h,v))},pe=function(){return!!window.FormData},fe=function(e){(e=B?e.data:e).chatEnded||e.errors||he(e),K&&(K.resolve(e),K=!1,0!=e.statusCode&&Ce()),0==e.statusCode?(S&&(ke.publish("chatServerBackOnline"),ke.publish("reconnected")),S=Y=!1,F=0):1==e.statusCode&&(++F>R&&(ke.publish("chatServerWentOffline"),F=0),S=!0),ne(e),T=l=!1},me=function(e){B&&e&&(e=e.data);var t={numAgentsConnected:0};_=!1,Ce(),re(),ke.publish("supervisorDisconnected",t),ke.publish("agentDisconnected",t),ke.publish("clientDisconnected",t),ke.publish("ended"),q=!1,J&&(J.resolve(e),J=!1)},ge=function(){B&&((q=new o.CometD).websocketEnabled=W.websocketEnabled,q.configure({url:W.cometURL,logLevel:W.logLevel}),q.addListener("/meta/handshake",be),q.addListener("/meta/connect",ve),q.addListener("/meta/disconnect",xe),q.addListener("/meta/publish",ye),q.addListener(W.channel,fe),q.handshake())},ve=function(e){var t;q&&!q.isDisconnected()?(U=!0===e.successful,E&&U?(E=!1,S||(ke.publish("reconnected"),t=a.get(x),Z("requestNotifications","POST",{userId:t.userId,secureKey:t.secureKey,alias:t.alias,transcriptPosition:k,message:""}))):!E&&U?a.set(y,(new Date).getTime(),v):E||U||"402::Unknown client"!=e.error&&(E=!0,ke.publish("disconnected"))):U=!1},be=function(e){!1===e.successful?K&&5==++X&&(Ce(),K.reject({statusCode:1}),K=!1,X=0):!0===e.successful&&(U=!0,X=0)},xe=function(){q&&(q.handshake(),ke.publish("disconnected"),S=E=!0,we())},ye=function(){},we=function(){var e;!Y&&_&&(e=a.get(x),Y=!0,r.watch(function(){return Y&&Z("requestNotifications","POST",{userId:e.userId,secureKey:e.secureKey,alias:e.alias,transcriptPosition:k,message:""}),!Y},3e3,30).fail(function(){R=0,ke.publish("chatServerTimeout")}))},Ce=function(){B&&q&&(q.disconnect(),U=q=!1)},ke.registerCommand("configure",function(e){var t,n,i;e.data?(i="number",typeof(t=e.data).id!=(n="string")&&t.id!=i||t.id,typeof t.apikey!=n&&typeof t.apikey!=i||(g=t.apikey),typeof t.endpoint==n&&(M=t.endpoint),"object"==typeof t.userData&&o.extend(I,t.userData),typeof t.serverURL==n&&(D=t.serverURL),typeof t.ajaxTimeout==i&&(d=parseInt(t.ajaxTimeout)),"object"==typeof t.xhrFields&&o.extend(u,t.xhrFields),"object"==typeof t.cometD&&(!0===t.cometD.enabled&&(B=!0),o.extend(W,t.cometD)),typeof t.dataURL!=n||B||(D=t.dataURL.replace(/\/*$/,""),B||(D+="/")),typeof t.pollExceptionLimit==i&&(R=parseInt(t.pollExceptionLimit)),typeof t.restoreTimeout==i&&(A=parseInt(t.restoreTimeout)),typeof t.maxMessageLength==i&&(H=t.maxMessageLength),a.get(b)&&ke.command("restore"),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),ke.registerCommand("startChat",function(t){if(_)return t.deferred.reject("There is already an active chat session"),!1;var e={};if("string"==typeof t.data.userData&&""!=t.data.userData.trim()){try{e=JSON.parse(t.data.userData.trim())}catch(e){return t.deferred.reject("malformed JSON provided in userData property"),!1}"object"==typeof e&&(e=o.extend({},I,e))}else"object"==typeof t.data.userData&&(e=o.extend({},I,t.data.userData));if(j){var n="",i="";try{n=j.getBrowser().name,i=j.getOS().name}catch(e){r.log(e),i=n=""}i={_genesys_source:r.isMobileDevice()?"mobile":"web",_genesys_referrer:document.referrer,_genesys_url:document.location.href,_genesys_pageTitle:document.title,_genesys_browser:n,_genesys_OS:i}}e=o.extend({},I,i,e||{}),re(),L=!(l=!(c=T=_=!1)),m=f=p=h="",k=1,N=[],P=[],O={},X=F=0,E=S=!(z={});e={nickname:t.data.nickname||"",firstName:t.data.firstname||"",lastName:t.data.lastname||"",emailAddress:t.data.email||"",subject:t.data.subject||"",text:"",userData:e};t.da&&(e.endpoint=M),Z("","POST",e).done(function(e){0==e.statusCode?(_=!0,he(e),ke.publish("started"),ke.command("startPoll"),t.deferred.resolve(e)):(t.deferred.reject(e),e.errors&&0<e.errors.length&&ke.publish("error",e))}).fail(function(e){ke.publish("error",e),t.deferred.reject(e)})}),ke.registerCommand("getFileLimits",function(t){te(B?"fileGetLimits":"/file/limits",{}).done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)})}),ke.registerCommand("endChat",function(t){return _?(ke.command("stopPoll"),void Z("disconnect","POST",{alias:m,secureKey:f,userId:p}).fail(function(e){t.deferred.reject(e)}).always(me)):(t.deferred.reject("There is no active chat session"),!1)}),ke.registerCommand("restore",function(n){if("cx.plugin.WebChatService"!=n.commander)return n.deferred.reject("Access Denied to private command. Only WebChatService is allowed to invoke this command"),!1;var e=a.get(b),t=a.get(x);"string"==typeof t&&0<t.length&&(t=JSON.parse(t)),!e||!t||l&&a.get(y)&&(new Date).getTime()-parseInt(a.get(y))>=A&&(re(),ke.publish("restoreTimeout"),1)||(re(),T=!0,h=e,Z(B?"requestNotifications":"refresh","POST",{userId:t.userId,secureKey:t.secureKey,alias:t.alias,transcriptPosition:k,message:""}).done(function(e){var t;!0===(he(t=e),!0===t.chatEnded||void 0===t.chatEnded?(re(),T=!(L=!0),p=m=f=h="",ke.publish("restoreTimeout"),Ce(),!1):!1===t.chatEnded?(ke.publish("restored"),ne(t),_=!(T=!1),ke.command("startPoll"),a.set(b,h,v),1==t.statusCode&&(ke.publish("restoredOffline"),S=!0),!0):void 0)?n.deferred.resolve(e):n.deferred.reject(e)}).fail(function(){T=!1,p=m=f=h="",ke.publish("restoreFailed"),n.deferred.reject()}))}),ke.registerCommand("sendMessage",function(t){return E?(t.deferred.resolve({statusCode:1}),!1):_?"string"!=typeof t.data.message||""==(t.data.message+"").trim()?(t.deferred.reject("No message text provided"),!1):H&&t.data.message.length>H?(t.deferred.reject("Message length exceeds configured threshold of ("+H+") characters"),!1):(G.Interval&&ke.publish("clientTypingStopped"),clearInterval(G.Interval),G.Interval=!1,G.Timer=0,G.text="",void Z("send","POST",{message:t.data.message,messageType:t.data.type||"text",userId:p,secureKey:f,alias:m}).done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)})):(t.deferred.reject("There is no active chat session"),!1)}),ke.registerCommand("sendFile",function(n){if(!_)return n.deferred.reject("There is no active chat session"),!1;var i=n.data.files.files[0],a=i.name,e={},t=B?"fileUpload":"/file";e.file=i,te(t,e).done(function(t){var e;0==(t=JSON.parse(t)).statusCode?(e=new FileReader,o(e).on(function(e){e={from:{type:"Client"},source:e.target.result,type:"FileUploaded",timestamp:(new Date).getTime(),filename:a};[].push(e),n.deferred.resolve(t)}),e.readAsDataURL(i)):n.deferred.reject(t)}).fail(function(e){n.deferred.reject(e)})}),ke.registerCommand("downloadFile",function(e){var t,n;B&&W.apiURL?(n=o("<form method='POST' enctype='multipart/form-data' target='_blank' action="+W.apiURL+"><input name='secureKey' value="+f+" type='hidden'><input name='fileId' value="+e.data.fileId+" type='hidden'><input name='operation' value='fileDownload' type='hidden'></form>").appendTo(document.body).submit(),e.deferred.resolve()):B?e.deferred.reject("Could not download file. Please ensure WebChat is configured properly."):(t=D+h+"/file/"+e.data.fileId+"/download",n=o("<form method='POST' enctype='multipart/form-data' target='_blank' action="+t+"><input name='alias' value="+m+" type='hidden'><input name='secureKey' value="+f+" type='hidden'><input name='userId' value="+p+" type='hidden'></form>").appendTo(document.body).submit(),e.deferred.resolve()),n&&n.submit()}),ke.registerCommand("sendFilteredMessage",function(e){var t,n;_?(t=e.data.message,n=e.data.regex,"string"==typeof t&&n instanceof RegExp&&(le(n),ke.command("sendMessage",{message:t})),e.deferred.resolve()):e.deferred.reject("No active chat session.")}),ke.registerCommand("addPrefilter",function(e){if(e.data.filters&&e.data.filters instanceof RegExp)le(e.data.filters),e.deferred.resolve(o.extend({},$.custom));else if(0<e.data.filters.length&&e.data.filters[0]instanceof RegExp){for(var t=0;t<e.data.filters.length;t++)le(e.data.filters[t]);e.deferred.resolve(o.extend({},$.custom))}else e.deferred.reject("Missing or invalid filters provided. Please provide a regular expression or an array of regular expressions")}),ke.registerCommand("startPoll",function(e){return B?(e.deferred.reject("Polling is not supported when using CometD"),!1):_?(!1===s&&(s=i(function(){ke.command("poll")},3e3),ke.command("poll"),ke.publish("pollingStarted")),void e.deferred.resolve()):(e.deferred.reject("There is no active chat session"),!1)}),ke.registerCommand("stopPoll",function(e){return 0==s?(e.deferred.reject("Not currently polling. Ignoring command."),!1):(0!=s&&(clearInterval(s),s=!1,ke.publish("pollingStopped")),void e.deferred.resolve())}),ke.registerCommand("poll",function(t){t.commander!=ke.namespace()&&t.deferred.reject("Access Denied to private command. Only WebChatService is allowed to invoke this command"),c?t.deferred.reject("previous poll has not finished"):(c=!0,a.set(y,(new Date).getTime(),v),Z("refresh","POST",{userId:p,secureKey:f,alias:m,transcriptPosition:k,message:V?V.val():""}).done(function(e){fe(e),t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)}).always(function(){c=!1}))}),ke.registerCommand("resetPollExceptions",function(e){S=!1,F=0,e.deferred.resolve()}),ke.registerCommand("sendCustomNotice",function(t){Z("customNotice","POST",{alias:m,secureKey:f,userId:p,message:t.data.message||""}).done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)})}),ke.registerCommand("updateUserData",function(t){_?Z("updateData","POST",{alias:m,secureKey:f,userId:p,userData:t.data||{}}).done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)}):(o.extend(I,t.data||{}),t.deferred.resolve(I))}),ke.registerCommand("sendTyping",function(t){if(!_)return t.deferred.reject("There is no active chat session"),!1;var e=t.data||{},n=!1,i=G;if("boolean"!=typeof e.isTyping&&(e.isTyping=!0),B)i.Interval=setInterval(function(){V&&V.val()!=i.text&&(n=Z("startTyping","POST",{alias:m,secureKey:f,userId:p,message:V.val()||""}),i.text=V.val())},5e3);else{if(i.Interval)return i.Timer=0,t.deferred.resolve(),!1;n=Z("startTyping","POST",{alias:m,secureKey:f,userId:p,message:e.message||""}),ke.publish("clientTypingStarted"),i.Interval=setInterval(function(){i.Timer+=i.TimeInterval,i.Timer>=i.Timeout&&(clearInterval(i.Interval),i.Interval=!1,i.Timer=0,n=Z("stopTyping","POST",{alias:m,secureKey:f,userId:p,message:e.message||""}),ke.publish("clientTypingStopped"))},i.TimeInterval),n.done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)})}}),ke.registerCommand("getAgents",function(e){e.deferred.resolve({agents:o.extend(O,{})})}),ke.registerCommand("getTranscript",function(e){e.deferred.resolve({messages:N,originalMessages:P})}),ke.registerCommand("getStats",function(e){var t={agents:o.extend(O,{}),startTime:N[0].timestamp,endTime:!1,duration:!1};t.duration=N.reverse()[0].timestamp-t.startTime,e.deferred.resolve(t)}),ke.registerCommand("registerTypingPreviewInput",function(e){var t=o(e.data.input);!t||"text"!=t[0].type&&"textarea"!=t[0].type?e.deferred.reject("Invalid value provided for the 'input' property. An HTML element reference to a textarea or text input is required."):(V=t,e.deferred.resolve())}),ke.registerCommand("registerPreProcessor",function(e){"function"==typeof e.data.preprocessor?(Q.push(e.data.preprocessor),e.deferred.resolve(e.data.preprocessor)):e.deferred.reject("No preprocessor function provided. Type provided was '"+typeof e.data.preprocessor+"'.")}),ke.subscribe("GWE.ready",function(){ke.command("GWE.getIDs").done(function(e){o.extend(I,e)})}),ke.subscribe("StatsService.ready",function(){ke.command("StatsService.getUserAgent").done(function(e){j=e})}),ke.subscribe("App.ready",function(e){e.data.webchat&&ke.command("configure",e.data.webchat)}),function(){if(a.get(C)){var e=JSON.parse(a.set(C));return o.each(e.custom,function(){$.custom.push(new RegExp(this.source,this.flags))})}}(),ke.republish("ready"))}),__cx.define("text!plugins/cx-webchat/html/cx-webchat.html",[],function(){return'<div>\n\n\t<div role="alertdialog" aria-describedby="cx_chat_information" class="cx-container cx-overlay"></div>\n\n\t<div role="alertdialog" aria-describedby="cx_chat_end_question" class="cx-alert cx-chat-end">\n\t\t<div class="cx-wrapper">\n\t\t\t<p id="cx_chat_end_question" class="i18n" data-message="ChatEndQuestion" tabindex="0"></p>\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-end-cancel cx-btn cx-btn-default i18n" data-message="ChatEndCancel" tabindex="0"></button>\n\t\t\t\t<button class="cx-end-confirm cx-btn cx-btn-primary i18n" data-message="ChatEndConfirm" tabindex="0"></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div role="alertdialog" aria-describedby="cx_chat_confirm_close" class="cx-alert cx-chat-close">\n\t\t<div class="cx-wrapper">\n\t\t\t<p class="i18n" data-message="ConfirmCloseWindow" tabindex="0"></p>\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-close-cancel cx-btn cx-btn-default i18n" data-message="ConfirmCloseCancel" tabindex="0"></button>\n\t\t\t\t<button class="cx-close-confirm cx-btn cx-btn-primary i18n" data-message="ConfirmCloseConfirm" tabindex="0"></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="cx-webchat-smokescreen"></div>\n\n\t<div class="cx-form cx-form-horizontal" role="form">\n\t\n\t\t<table>\n\t\t\t<tr>\n\t\t\t\t<th><label class="cx-control-label i18n" for="cx_webchat_form_firstname" data-message="ChatFormFirstName"></label></th>\n\t\t\t\t<td><input class="cx-form-control i18n" id="cx_webchat_form_firstname" maxlength="100" name="firstname" type="text" data-message="ChatFormPlaceholderFirstName" data-message-type="placeholder"/></td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th><label class="cx-control-label i18n" for="cx_webchat_form_lastname" data-message="ChatFormLastName"></label></th>\n\t\t\t\t<td><input class="cx-form-control i18n" id="cx_webchat_form_lastname" maxlength="100" name="lastname" type="text" data-message="ChatFormPlaceholderLastName" data-message-type="placeholder"/></td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th><label class="cx-control-label i18n" for="cx_webchat_form_email" data-message="ChatFormEmail"></label></th>\n\t\t\t\t<td><input class="cx-form-control i18n" id="cx_webchat_form_email" maxlength="100" name="email" type="email" data-message="ChatFormPlaceholderEmail" data-message-type="placeholder"/></td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th><label class="cx-control-label i18n" for="cx_webchat_form_subject" data-message="ChatFormSubject"></label></th>\n\t\t\t\t<td><input class="cx-form-control i18n" id="cx_webchat_form_subject" maxlength="100" name="subject" type="text" data-message="ChatFormPlaceholderSubject" data-message-type="placeholder"/></td>\n\t\t\t</tr>\n\t\t</table>\n\n\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t<button class="cx-btn cx-btn-default i18n" data-message="ChatFormCancel" tabindex="0"></button>\n\t\t\t<button class="cx-submit cx-btn cx-btn-primary i18n" data-message="ChatFormSubmit" tabindex="0"></button>\n\t\t</div>\n\n\t</div>\n\n\t<div class="cx-transcript-wrapper" tabindex="0">\n\t\t<div aria-live="polite" class="cx-transcript"></div>\n\t</div>\n\t\n\t<div class="cx-input-container">\n\n\t\t<table width="100%" cellspacing="0" cellspadding="0">\n\t\t\t<tr>\n\t\t\t\t<td class="cx-textarea-cell">\n\n\t\t\t\t\t<textarea class="cx-input i18n cx-form-control" maxlength="5000" data-message="ChatInputPlaceholder" data-message-type="placeholder" tabindex="0"></textarea>\n\t\t\t\t\t\n\t\t\t\t\t<div class="cx-tooltip-menu cx-emoji">\n\t\t\t\t\t\t <button tabindex="0">&#128515;</button>\n                         <div>\n\t\t\t\t\t\t\t<span class="cx-option cx-smile" data-unicode="&#128515;" data-ascii=":)" tabindex="0">&#128515;</span>\n                            <span class="cx-option cx-thumbsup" data-unicode="&#128077;" data-ascii="" tabindex="0">&#128077;</span>\n                            <span class="cx-option cx-sad" data-unicode="&#128542;" data-ascii=":(" tabindex="0">&#128542;</span>\n                         </div>\n              \t\t</div>\n\n\t\t\t\t</td>\n\t\t\t\t<td valign="top" class="cx-actions-menu-cell">\n\n\t\t\t\t\t<div class="cx-tooltip-menu cx-actions">\n\t\t\t\t\t\t<button tabindex="0">&#8942;</button>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<form class="cx-form-horizontal cx-send-message-form" data-async enctype="multipart/form-data" role="form" novalidate>\n\t\t\t\t\t\t\t\t<input type="file" class="cx-browseFile" style="display: none;" />\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li class="cx-option cx-cobrowse cx-disabled i18n" data-option="3" data-message="ActionsCobrowseStart" tabindex="0"></li>\n\t\t\t\t\t\t\t\t<li class="cx-option cx-sendFile  i18n" data-option="7" data-message="ActionsSendFile" tabindex="1"></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\n\t\t<button class="cx-send i18n" data-message="ChatSend"></button>\n\t</div>\n\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-toaster.html",[],function(){return'<div class="cx-webchat-toaster">\n\t<div class="cx-message"><%= message %></div>\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-spinner.html",[],function(){return'<div class="cx-spinner" >\r\n    <div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n        <div class="cx-spin-circle"></div>\r\n        <div class="cx-spin-inner-circle"></div>\r\n    </div>\r\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-message-agent.html",[],function(){return'<div class="cx-message">\n\t\n\t<div class="cx-avatar-wrapper">\n\t\t<div class="cx-avatar"></div>\n\t</div>\t\n\n\t<div class="cx-bubble-arrow">\n\t\t<svg height="7" width="7">\n\t\t  <polygon class="cx-left" points="0,0 7,0 7,7" />\n\t\t  <polygon class="cx-right" points="0,0 0,7 7,0" />\n\t\t</svg>\n\t</div>\n\n\t<p aria-atomic="false" class="cx-bubble" >\n\t\t<span aria-hidden="true" class="cx-name"></span>\n\t\t<span class="aria-name" data-message="AriaTheySaid"></span>\n\t\t<span class="cx-message-text"></span>\n\t\t<span class="cx-time"></span>\n\t</p>\n\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-message-customer.html",[],function(){return'<div class="cx-message">\n\t\n\t<p class="cx-bubble" aria-atomic="false">\t\n\t\t<span aria-hidden="true" class="cx-name"></span>\n\t\t<span class="aria-name" data-message="AriaYouSaid"></span>\n\t\t<span class="cx-message-text"></span>\n\t\t<span class="cx-time"></span>\n\t</p>\n\n\t<div class="cx-bubble-arrow">\n\t\t<svg height="7" width="7">\n\t\t  <polygon class="cx-left" points="0,0 7,0 7,7" />\n\t\t  <polygon class="cx-right" points="0,0 0,7 7,0" />\n\t\t</svg>\n\t</div>\n\n\t<div class="cx-avatar-wrapper">\n\t\t<div class="cx-avatar"></div>\n\t</div>\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-chat-button.html",[],function(){return'<div class="cx-widget cx-webchat-chat-button cx-side-button" data-message="ChatButton" data-gcb-service-node="true">\n\t<span class="cx-icon"></span>\n\t<span class="i18n cx-chat-button-label" data-message="ChatButton" tabindex="0"></span>\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-file-transfer-customer.html",[],function(){return'<div class="cx-message cx-you cx-NewTextBubble">\r\n\r\n\t<p class="cx-bubble cx-file-transfer-block">\r\n\t\t<span class="cx-user-detail">\r\n\t\t\t<span aria-hidden="true" class="cx-user-detail cx-name" data-message="name"></span>\r\n\t\t\t<span class="cx-message-text cx-filesentmsg i18n " data-message="FileSent"></span>\r\n\t\t\t<span class="cx-filename" data-message="filename"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-lastrow">\r\n\t\t\t<button class="cx-btn cx-btn-primary cx-download-btn i18n cx-submit" tabindex="0" data-message="DownloadButton"></button>\r\n\t\t\t<span class="cx-filesize"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-time"></span>  \r\n\t</p>\r\n\r\n\t<div class="cx-bubble-arrow">\r\n\t\t<svg height="7" width="7">\r\n\t\t\t<polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n\t\t\t<polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n\t\t</svg>\r\n\t</div>\r\n\r\n\t<div class="cx-avatar-wrapper">\r\n\t\t<div class="cx-avatar cx-avatar-customer"></div>\r\n\t</div>\r\n\r\n</div>\r\n'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-file-transfer-agent.html",[],function(){return'<div class="cx-message cx-them cx-NewTextBubble">\r\n\r\n\t<div class="cx-avatar-wrapper">\r\n\t\t<div class="cx-avatar cx-avatar-customer"></div>\r\n\t</div>\r\n\t\r\n\t<div class="cx-bubble-arrow">\r\n\t\t<svg height="7" width="7">\r\n\t\t\t<polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n\t\t\t<polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n\t\t</svg>\r\n\t</div>\r\n\r\n\t<p class="cx-bubble cx-file-transfer-block">\r\n\t\t<span class="cx-user-detail">\r\n\t\t\t<span aria-hidden="true" class="cx-user-detail cx-name" data-message="name"></span>\r\n\t\t\t<span class="cx-message-text cx-filesentmsg i18n " data-message="FileSent"></span>\r\n\t\t\t<span class="cx-filename" data-message="filename"></span>\r\n\t\t</span>\r\n\t\t<span class="lastrow">\r\n\t\t\t<button class="cx-btn cx-btn-primary cx-download-btn i18n cx-submit" tabindex="0" data-message="DownloadButton"></button>\r\n\t\t\t<span class="filesize"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-time"></span>  \r\n\t</p>\r\n\t\r\n</div>\r\n\r\n'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-upload-failed-alert.html",[],function(){return'<div role="alertdialog" aria-describedby="cx_unsupported_file_upload_message" class="cx-alert">\r\n\t\t<div class="cx-wrapper">\r\n\t\t\t<div class="cx-warning">\r\n\t\t\t\t<span class="cx-icon" data-icon="alert-triangle" ></span>\r\n\t\t\t\t<p class="cx-reason" tabindex="0">\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="cx-button-group cx-buttons-single">\r\n\t\t\t\t<button class="cx-btn cx-btn-primary i18n cx-upload-cancel" data-message="FileTransferError" tabindex="0"></button>\r\n\t\t\t</div>\r\n\t\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t\t<button class="cx-btn cx-btn-default i18n cx-upload-cancel" data-message="FileTransferError" tabindex="0"></button>\r\n\t\t\t\t<button class="cx-btn cx-btn-primary i18n cx-upload-confirm" data-message="FileTransferRetry" tabindex="0"></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>'}),__cx.define("text!plugins/cx-webchat/html/cx-webchat-alert.html",[],function(){return'<div role="alertdialog" aria-describedby="cx_chat_error_desc" class="cx-alert cx-general">\n\t<div class="cx-wrapper">\n\t\t<p id="cx_chat_error_desc" class="i18n"></p>\n\t\t<div class="cx-button-group cx-buttons-single">\n\t\t\t<button class="cx-error-button cx-btn cx-btn-primary i18n" data-message="ChatErrorButton" tabindex="0"></button>\n\t\t</div>\n\t</div>\n</div>'}),__cx.define("plugins/cx-webchat/nls/string.js",{ChatButton:"Chat",ChatStarted:"Chat Started",ChatEnded:"Chat Ended",AgentNameDefault:"Agent",AgentConnected:"<%Agent%> Connected",AgentDisconnected:"<%Agent%> Disconnected",SupervisorNameDefault:"Supervisor",SupervisorConnected:"<%Agent%> Connected",SupervisorDisconnected:"<%Agent%> Disconnected",AgentTyping:"...",AgentUnavailable:"Sorry. There are no agents available. Please try later",ChatTitle:"Live Chat",ChatEnd:"X",ChatClose:"X",ChatMinimize:"Min",ChatFormFirstName:"First Name",ChatFormLastName:"Last Name",ChatFormNickname:"Nickname",ChatFormEmail:"Email",ChatFormSubject:"Subject",ChatFormPlaceholderFirstName:"Required",ChatFormPlaceholderLastName:"Required",ChatFormPlaceholderNickname:"Optional",ChatFormPlaceholderEmail:"Optional",ChatFormPlaceholderSubject:"Optional",ChatFormSubmit:"Start Chat",ChatFormCancel:"Cancel",ChatFormClose:"Close",ChatInputPlaceholder:"Type your message here",ChatInputSend:"SEND",ChatEndQuestion:"Are you sure you want to end this chat session?",ChatEndCancel:"Cancel",ChatEndConfirm:"End chat",ConfirmCloseWindow:"Are you sure you want to close chat?",ConfirmCloseCancel:"Cancel",ConfirmCloseConfirm:"Close",ActionsDownload:"Download transcript",ActionsEmail:"Email transcript",ActionsPrint:"Print transcript",ActionsCobrowseStart:"Start Co-browse",ActionsSendFile:"Send File",ActionsCobrowseStop:"Exit Co-browse",ActionsVideo:"Invite to Video Chat",ActionsTransfer:"Transfer",ActionsInvite:"Invite",InstructionsTransfer:"Open this link on another device to transfer your chat session</br></br><%link%>",InstructionsInvite:"Share this link with another person to add them to this chat session</br></br><%link%>",InviteTitle:"Need help?",InviteBody:"Let us know if we can help out.",InviteReject:"No thanks",InviteAccept:"Start chat",ChatError:"There was a problem starting the chat session. Please Retry.",ChatErrorButton:"OK",DownloadButton:"Download",FileSent:"has sent:",FileTransferRetry:"Retry",FileTransferError:"OK",FileTransferCancel:"Cancel",RestoreTimeoutTitle:"Chat ended",RestoreTimeoutBody:"Your previous chat session has timed out. Would you like to start a new one?",RestoreTimeoutReject:"No thanks",RestoreTimeoutAccept:"Start chat",EndConfirmBody:"Would you really like to end your chat session?",EndConfirmAccept:"End chat",EndConfirmReject:"Cancel",SurveyOfferQuestion:"Would you like to participate in a survey?",ShowSurveyAccept:"Yes",ShowSurveyReject:"No",UnreadMessagesTitle:"unread",AriaYouSaid:"You said",AriaSaid:"said",AriaSystemSaid:"System said",AriaMinimize:"Live Chat minimize",AriaMaximize:"Live Chat Maximize",AriaClose:"Live chat close",Errors:{ChatUnavailable:"We're sorry but we cannot start a new chat at this time. Please try again later",CriticalFault:"Your chat session has ended unexpectedly due to an unknown issue. We apologize for the inconvenience",StartFailed:"There was an issue starting your chat session. Please verify your connection and that you submitted all required information properly, then try again",MessageFailed:"Your message was not received successfully. Please try again",RestoreFailed:"We're sorry but we were unable to restore your chat session due to an unknown error",TransferFailed:"Unable to transfer chat at this time. Please try again later",FileTransferSizeError:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='advice'>File size is larger than the allowed size (<%MaxSizePerFile%>)</p>",InviteFailed:"Unable to generate invite at this time. Please try again later",ChatServerWentOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay",RestoredOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay",Disconnected:"<div style='text-align:center'>Connection lost</div>",Reconnected:"<div style='text-align:center'>Connection restored</div>",FileSendFailed:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'><%FilenameTruncated%></p></strong><p class='advice'>There was an unexpected disconnection. Try again?</p>",Generic:"<div style='text-align:center'>An unexpected error occurred</div>",102:"First name is required",103:"Last name is required",161:"Please enter your name",201:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='advice'>The maximum number of attached files would be exceeded (<%MaxFilesAllowed%>)</p>",202:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='advice'>Upload limit and/or maximum number of attachments would be exceeded (<%MaxAttachmentsSize%>)</p>",203:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='advice'>File type is not allowed.</p>",204:"We're sorry but your message is too long. Please write a shorter message",240:"We're sorry but we cannot start a new chat at this time. Please try again later",364:"Invalid email address"}}),__cx.define("cx-webchat",["jquery","cx-bus","text!./plugins/cx-webchat/html/cx-webchat.html","text!./plugins/cx-webchat/html/cx-webchat-toaster.html","text!./plugins/cx-webchat/html/cx-webchat-spinner.html","text!./plugins/cx-webchat/html/cx-webchat-message-agent.html","text!./plugins/cx-webchat/html/cx-webchat-message-customer.html","text!./plugins/cx-webchat/html/cx-webchat-chat-button.html","text!./plugins/cx-webchat/html/cx-webchat-file-transfer-customer.html","text!./plugins/cx-webchat/html/cx-webchat-file-transfer-agent.html","text!./plugins/cx-webchat/html/cx-webchat-upload-failed-alert.html","text!./plugins/cx-webchat/html/cx-webchat-alert.html","./plugins/cx-webchat/nls/string.js","cx-common","cookie","uri","cx-iscroll"],function(c,e,t,n,l,d,u,i,h,p,a,r,f,m,o,s){"use strict";var g,v,b,x,y,w,C,k,_,T,S,E,L,A,D,M,I,j,N,P,O,z,F,R,H,B,q,W,U,X,Y,V,G,$,Q,K,J,Z,ee,te,ne,ie,ae,re,oe,se,ce,le,de,ue,he,pe,fe,me,ge,ve,be,xe,ye,we,Ce,ke,_e,Te,Se,Ee,Le,Ae,De,Me,Ie,je,Ne,Pe,Oe,ze,Fe,Re=e.registerPlugin("WebChat");Re&&(Re.registerEvents(["ready","opened","closed","minimized","unminimized"]),g={cookieOptions:{domain:"."+s(window.location.href).domain(),path:"/"},chatButton:{enabled:!1,template:i,openDelay:1e3,effect:"fade",effectDuration:300,hideDuringInvite:!0},proactive:{enabled:!1,idleTimer:5,cancelTimer:30},avatars:{agent:"agent",customer:"user"},actionsMenu:!0,emojis:!1,inviteOnRestoreTimeout:!0,groupMessages:!0,userData:{},i18n_messages:f,template:t},v=c(),w=y=x=b=!1,C=c(g.chatButton.template),k=c(),U=W=q=!(B=!(H=R=F=z=O=P=N=j=I=M=D=A=L=E=S=T=!1)),X=g.iMessageGroupingThreshold||1e5,Y=0,V={},Q=$=G="",J=!(K=12),Z=[46,8,37,38,39,40],ee=(i="_genesys.widgets.webchat.state")+".minimized",te=i+".unreadMessages",ne=i+".lastMessageCountRead",ie="_genesys.widgets.webchat.autoInvite.disabled",ae={proactiveIdle:_=null},re=[{id:"did_you_find",type:"radio",label:"Did you find everything you wanted today in Chat today?",options:["Yes","No"]},{id:"rate_your_exp",type:"rating",label:"How would you rate your chat experiance?"},{id:"rate_agent",type:"range",label:"Rate your chat agent out of ten:"}],oe=function(e){return v.find(e)},se=function(){ae.proactiveIdle&&Re.unsubscribe(ae.proactiveIdle),o.get(ie)||(ae.proactiveIdle=Re.subscribe("Watchman.idle:"+g.proactive.idleTimer,function(){y||!0!==g.proactive.enabled||Re.command("invite").done(function(){Re.command("Watchman.countdown",{time:g.proactive.cancelTimer}).done(function(e){Re.subscribe(e,function(){y&&(Re.command("Toaster.close"),Re.command("showChatButton"))})})})}))},ce=function(){x&&H&&Re.command("WebChatService.getFileLimits").done(function(e){var t,n=JSON.parse(e),i=null,e="";n.chatEnded?x.hide():(c.each(n.messages,function(){this.userData&&(i=this.userData)}),i?(e="."+i["upload-file-types"].split(":").join(",."),t="true"===i["upload-need-agent"],G=i["upload-max-file-size"],oe(".cx-browseFile").attr("accept",e),!t||I?x.show():x.hide()):(m.error("(WebChatService.getFileLimits) did not receive the following properties: upload-file-types, upload-need-agent, upload-max-file-size"),m.debug(n)))}).fail(function(){x.hide()})},le=function(e){!0===T&&v?(v.animate({bottom:0-v.height()+"px"},{duration:500,done:function(){v.remove(),v=c(),e.deferred.resolve(),Re.publish("closed"),Re.command("showChatButton"),M&&Re.command("Survey.open",{questions:re})}}),T=!1):e.deferred.reject("already closed"),J=J&&!1},de=function(){b&&(z?(b.addClass("cx-disabled"),b.html(f.ActionsCobrowseStart)):(P&&I?b.removeClass("cx-disabled"):b.addClass("cx-disabled"),b.html(O?f.ActionsCobrowseStop:f.ActionsCobrowseStart))),L?oe("textarea.cx-input").removeClass("cx-disabled").attr("disabled",!1):oe("textarea.cx-input").addClass("cx-disabled").attr("disabled",!0).val("")},ue=function(){var e=o.get(ne)||Y,e=Y-e;0<e?w.css({display:""}).text(e)[0].title=e+" "+f.UnreadMessagesTitle:w.css({display:"none"})},he=function(){var e,t,n,i,a;F&&(a=c(window).height(),i=c(window).width(),v.removeClass("cx-portrait cx-landscape"),v.addClass(i<a?"cx-portrait":"cx-landscape"),e=a,t=oe(".cx-titlebar").outerHeight(),n=oe(".cx-form").outerHeight(),i=oe(".cx-input-container").outerHeight(),a=oe(".cx-footer").outerHeight(),oe(".cx-transcript-wrapper").height(e-t-i),q||(e<t+n+a?oe(".cx-footer").hide():oe(".cx-footer").show()),Fe(),be())},pe=function(){v=m.Generate.Container({type:"generic",classes:"cx-webchat",title:f.ChatTitle,body:!1,icon:"chat",controls:"all",buttons:!1});var i;return v.addClass("cx-webchat"),v.attr({"data-gcb-service-node":!0}),oe(".cx-button-minimize").attr("aria-label",f.AriaMinimize),oe(".cx-button-close").attr("aria-label",f.AriaClose),(w=c("<div class='cx-webchat-counter'></div>")).click(function(e){e.stopImmediatePropagation(),N&&Re.command("minimize")}),oe(".cx-title").text(f.ChatTitle).append(w),oe(".cx-titlebar").click(function(){v.hasClass("minimized")&&Re.command("minimize")}),oe(".cx-button-close").click(function(){L?(N&&Re.command("minimize"),Se()):Re.command("close")}),oe(".cx-button-minimize").click(function(){Re.command("minimize")}),oe(".cx-body").append(c(t)),oe(".cx-form .cx-form-control").keydown(function(e){return 13==e.which?(Te(e),!0):void 0}),oe(".cx-browseFile").change(function(){var e,t,n;this.value&&(ye(),this.files[0].size>parseInt(G)?(e={},t=f.Errors.FileTransferSizeError,n=Ne(this.files[0].name),i=m.bytesToSize(parseInt(G)),t=(t=t.replace("<%FilenameFull%>",this.files[0].name).replace("<%FilenameTruncated%>",n)).replace("<%MaxSizePerFile%>",i),e.sErrors=t,Ce(e),fe(),we()):Re.command("WebChatService.sendFile",{files:this}).done(function(){fe()}).fail(function(){fe()}).always(function(){we()}))}),oe(".cx-tooltip-menu").tooltipMenu(),b=oe(".cx-actions .cx-option.cx-cobrowse"),x=oe(".cx-actions .cx-option.cx-sendFile"),oe(".cx-tooltip-menu.cx-actions li").click(function(){if(!c(this).hasClass("cx-disabled"))switch(c(this).data("option")){case 0:case 1:case 2:return!1;case 3:z||(O?Re.command("CoBrowse.stop"):I&&Re.command("CoBrowse.start"));break;case 4:return!1;case 7:oe(".cx-browseFile").trigger("click")}}),oe(".cx-tooltip-menu.cx-emoji").click(function(e){e.preventDefault(),oe("textarea.cx-input").focus()}),oe(".cx-tooltip-menu.cx-emoji span").click(function(){oe("textarea.cx-input").insertAtCaret(c(this).data("unicode")),oe("textarea.cx-input").focus()}),oe("textarea.cx-input").textAreaAutoHeight({lineLimit:3,callback:function(){he()}}),oe(".cx-form .cx-btn-default").click(function(e){e.preventDefault(),Re.command("close")}),oe(".cx-form .cx-btn-primary").click(function(e){e.preventDefault(),Te(e)}),oe(".cx-alert.cx-chat-end button.cx-end-confirm").click(function(){Ee(),Oe()}),oe(".cx-alert.cx-chat-end button.cx-end-cancel").click(function(){Ee()}),oe(".cx-alert.cx-chat-error button.cx-error-button").click(function(){ke()}),oe(".cx-close-confirm").click(function(){J&&(le(J),Le())}),oe(".cx-close-cancel").click(function(){Le()}),oe("textarea.cx-input").keydown(function(e){return 13!=e.which||e.ctrlKey?!(g.maxLengthMessage&&-1===Z.indexOf(e.which)&&e.currentTarget.value.length>=g.maxLengthMessage)&&void Re.command("WebChatService.sendTyping",{isTyping:!0}):(Me(),e.preventDefault(),e.stopPropagation(),oe("textarea.cx-input").keyup(),!0)}),de(),m.populateAllPlaceholders(v,f),v},fe=function(){oe(".cx-browseFile")[0].value=null},me=function(){oe("form[data-async]").addClass("cx-parentDisable"),oe(".cx-form-control, .cx-submit").attr("disabled",!0),oe(".cx-form-control, .cx-option").addClass("cx-disabled"),oe(".cx-emoji").hide()},ge=function(){oe("form[data-async]").removeClass("cx-parentDisable"),oe(".cx-form-control, .cx-submit").attr("disabled",!1),oe(".cx-form-control, .cx-option").removeClass("cx-disabled"),oe(".cx-emoji").show()},ve=function(){oe(".cx-form").hide(),oe(".cx-transcript-wrapper").show(),oe(".cx-input-container").show(),v.addClass("cx-transcript-view"),q=!0,de(),oe("textarea.cx-input").keyup().focus()},be=function(e){e=e?0:oe(".cx-footer").outerHeight();oe(".cx-overlay").outerHeight(v.outerHeight()-e-oe(".cx-titlebar").outerHeight())},i=function(){Re.command("showChatButton"),Re.command("reInvite"),o.remove(ee,g.cookieOptions),o.remove(te,g.cookieOptions)},xe=function(e,t){var n=c(r);return oe(".cx-alert.cx-general").remove(),n.find("p.i18n").html(e||f.ChatError||""),n.find(".i18n.cx-error-button").html(t||f.ChatErrorButton||"").click(function(){ke(n)}),n.show(),oe(".cx-webchat-smokescreen").show(),n.insertBefore(oe(".cx-webchat-smokescreen")),n.find(".cx-error-button").focus(),n},ye=function(){Ie({action:"FileTransfer",loading:!0,type:"Client"}),m.showWaiting(v),me()},we=function(){Ie({action:"FileTransfer",loading:!1,type:"Client",transferFailed:!0}),m.hideWaiting(v),ge()},Ce=function(e){var t=c(a);return oe(".cx-alert.general").remove(),t.find(".cx-buttons-binary").hide(),e.isRetryAllowed&&(t.find(".cx-buttons-binary").show(),t.find(".cx-buttons-single").hide()),m.populateAllPlaceholders(t,f),t.find(".cx-reason").html(e.sErrors||""),t.find(".cx-upload-cancel").html(f.FileTransferError||"").click(function(){ke(t),oe("div.cx-spinner").remove(),ge(),fe()}),t.find(".cx-upload-confirm").html(f.FileTransferRetry||"").click(function(){ke(t),ye(),Re.command("WebChatService.sendFile",{files:e.file}).done(function(){fe()}).fail(function(){fe(),oe("div.cx-spinner").remove(),ge()}).always(function(){we()})}),e.isRetryAllowed&&(t.find(".cx-buttons-single").hide(),t.find(".cx-buttons-double").show(),t.find(".cx-upload-cancel").html(f.FileTransferCancel||"")),t.show(),oe(".cx-webchat-smokescreen").show(),t.insertBefore(oe(".cx-webchat-smokescreen")),t.find(".cx-error-button").focus(),t},ke=function(e){(e||oe(".cx-alert.cx-general")).remove(),oe(".cx-webchat-smokescreen").hide()},_e=function(e){var t=oe(".cx-form");switch(e+""){case"102":t.find("input[name=firstname]").addClass("cx-error");break;case"103":t.find("input[name=lastname]").addClass("cx-error");break;case"161":t.find("input[name=firstname], input[name=lastname]").addClass("cx-error");break;case"364":t.find("input[name=email]").addClass("cx-error")}},Te=function(t){var e,n=c(this).data("userData")||t.userData||{},n=c.extend(n,V);oe(".cx-form input").removeClass("cx-error"),m.showLoading(v),Re.command("WebChatService.startChat",c.extend((e={},oe(".cx-form input").each(function(){e[this.name]=this.value}),e),{userData:n})).fail(function(e){1==e.statusCode?xe(f.Errors.ChatUnavailable):"retry"==e.statusCode&&Te(t)}).always(function(){m.hideLoading(v)})},Se=function(){oe(".cx-alert.cx-chat-end").show(),oe(".cx-end-confirm").focus(),oe(".cx-webchat-smokescreen").show()},Ee=function(){oe(".cx-alert.cx-chat-end").hide(),oe(".cx-webchat-smokescreen").hide()},Le=function(){oe(".cx-alert.cx-chat-close").hide(),oe(".cx-webchat-smokescreen").hide()},Ae=function(){oe(".cx-alert.cx-survey-offer").show(),oe(".cx-survey-confirm").focus(),oe(".cx-webchat-smokescreen").show()},De=function(){oe(".cx-alert.cx-survey-offer").hide(),oe(".cx-webchat-smokescreen").hide()},Me=function(e){var t=e||oe("textarea.cx-input").val()||"";""!=(t=t.trim())&&(Re.command("WebChatService.sendMessage",{message:t,type:"text"}).done(function(e){1==e.statusCode&&(xe(f.Errors.MessageFailed),oe("textarea.cx-input").val(t))}),e||oe("textarea.cx-input").val(""))},Ie=function(e){var t,n=k,i="",a=e.type||"",r=e.text,o=e.action,s=e.bHTML;return s?e.text=e.text:r!=m.linkify(m.sanitizeHTML(e.text))&&(e.text=m.linkify(m.sanitizeHTML(e.text)),s=!0),"FileTransfer"==o&&(g.groupMessages=!1),g.groupMessages&&!e.bCustom&&!1!==e.bubble&&"External"!=a&&n&&e.name==n.data("name")&&(n.hasClass("cx-them")&&Pe(a)||n.hasClass("cx-you")&&"Client"===a)&&e.timestamp&&n.data("time")&&e.timestamp-n.data("time")<=X?n.find(".cx-message-text").append(s?c("<p>").html(e.text):c("<p>").text(e.text)):("injected"==a&&!0===e.bCustom||"injected"!=a&&!1===e.bubble?n=c("<div></div>"):"object"==typeof e.bubble?(n=c(u),e.bubble.fill&&(n.find(".cx-bubble").css({"background-color":e.bubble.fill}),n.find(".cx-bubble-arrow svg").css({fill:e.bubble.fill})),e.bubble.radius&&n.find(".cx-bubble").css({"border-radius":e.bubble.radius}),!1===e.bubble.time&&n.find(".cx-time").hide(),!1===e.bubble.name&&n.find(".cx-name").hide(),!1===e.bubble.avatar&&(n.find(".cx-avatar-wrapper, .cx-bubble-arrow").hide(),n.find(".cx-bubble").css({"margin-left":0,"margin-right":0}))):"Agent"==a||"External"==a||"Supervisor"==a?(n=c(d),"Agent"==a&&"FileTransfer"==o&&(n=c(p),je(n,e),s=!1)):"Client"==a?(n=c(u),"FileTransfer"!=o||e.loading||(oe("div.cx-spinner").remove(),n=c(h),je(n,e),s=!1)):n=c("<div><span class='cx-avatar'></span><span class='cx-name'></span><span class='cx-message'></span></div>"),"injected"==a?n.addClass("cx-injected"):"External"==a?(f[e.text]?(i=e.text,e.text=f[e.text]):e.text=e.text,n.addClass("cx-system"),n.attr({"data-message":i,"data-message-type":"transcript"}),n.find(".aria-name").attr("aria-label",f.AriaSystemSaid),n.addClass("i18n")):(Pe(a)?(n.addClass("cx-them").addClass("cx-"+a).addClass("cx-"+a.toLowerCase()),n.find(".aria-name").attr("aria-label",a+" "+e.name+" "+f.AriaSaid)):(n.addClass("cx-you"),n.find(".aria-name").attr("aria-label",f.AriaYouSaid)),g.avatars&&(Pe(a)&&g.avatars.agent?n.find(".cx-avatar").html(m.Generate.Icon(g.avatars.agent)).addClass(g.avatars.agent):"Client"==a&&g.avatars.customer&&n.find(".cx-avatar").html(m.Generate.Icon(g.avatars.customer)).addClass(g.avatars.customer))),"object"==typeof e.bubble&&("object"==typeof e.bubble.avatar&&(e.bubble.avatar.custom&&n.find(".cx-avatar-wrapper").html(e.bubble.avatar.custom),e.bubble.avatar.icon&&(n.find(".cx-avatar").removeClass(g.avatars.agent+" "+g.avatars.customer),n.find(".cx-avatar").html(m.Generate.Icon(e.bubble.avatar.icon)).addClass(e.bubble.avatar.icon))),"left"==e.bubble.direction?n.removeClass("cx-them cx-you cx-system").addClass("cx-them"):"right"==e.bubble.direction?n.removeClass("cx-them cx-you cx-system").addClass("cx-you"):"none"==e.bubble.direction&&n.removeClass("cx-them cx-you cx-system")),n.find(".cx-name").text(e.name),!0===e.bCustom||!1===e.bubble?n.html(e.text):s?n.find(".cx-message-text").html(e.text):n.find(".cx-message-text").text(e.text),oe(".cx-transcript .cx-NewTextBubble").removeClass("cx-NewTextBubble"),n.addClass("cx-NewTextBubble"),"FileTransfer"==o&&(e.loading?n=c(l):e.transferFailed&&(n=c("<div></div>"))),oe(".cx-transcript").append(n),(k=n).hide().fadeIn()),Fe(!0),N&&v.addClass("cx-NewMessage"),e.timestamp&&(t=m.getFormattedTime(e.timestamp,K),n.find(".cx-time").text(t),n.data("time",e.timestamp)),n.data("name",e.name),n&&(ze(),Y++,N&&ue()),Fe(),g.groupMessages||"FileTransfer"==o||(g.groupMessages=!0),Re.publish("messageAdded",{data:e,html:n}),n},je=function(e,t){var n,i;t.transferFailed||(n=0!==(i=parseInt(t.size))?m.bytesToSize(i):"",i=e.find(".cx-download-btn"),e.find(".cx-name").text(t.name),e.find(".cx-filesentmsg").text(f.FileSent),e.find(".cx-filename").text(Ne(t.filename)),e.find(".cx-filename").attr("title",t.filename),e.find(".cx-filesize").text(n),i.html(f.DownloadButton),i.attr("fileId",t.fileId),i.click(function(){Re.command("WebChatService.downloadFile",{fileId:this.getAttribute("fileId")})}),ge())},Ne=function(e){return e=36<(e=e||"").length?e.substr(0,16)+"..."+e.substr(e.length-5,e.length):e},Pe=function(e){return"Agent"==e||"Supervisor"==e},Oe=function(){Re.command("WebChatService.endChat"),m.hideWaiting(v),m.hideLoading(v)},ze=function(){v&&oe(".cx-transcript").append(oe(".cx-agent-typing").detach())},Fe=function(e){_&&(_.refresh(),e&&_.scrollTo(0,_.maxScrollY,0))},Re.subscribe("WebChatService.error",function(e){if(e=e.data||e,T){switch(e.status+""){case"400":e.status+""=="400"&&e.responseJSON&&e.responseJSON.error?xe(f.Errors.StartFailed):e.responseJSON&&e.responseJSON.errors?(a="",c.each(e.responseJSON.errors||[],function(e){0<e&&(a+="<br/><br/>"),a+=f.Errors[this.code+""]||f.Errors.Generic,_e(this.code),m.log(this)}),a&&xe(a)):(a="",e.responseText&&"string"==typeof e.responseText&&(e.responseText=JSON.parse(e.responseText)||[]),c.each(e.responseText.errors||[],function(e){0<e&&(a+="<br/><br/>");var e=Ne(this.filename),t={},t={sErrors:a=(a+=f.Errors[this.code+""]||f.Errors.Generic).replace("<%FilenameFull%>",this.filename).replace("<%FilenameTruncated%>",e)};switch(this.code+""){case"201":a=a.replace("<%MaxFilesAllowed%>",this.advice),t.sErrors=a,Ce(t);break;case"202":var n=m.bytesToSize(parseInt(this.advice));a=a.replace("<%MaxAttachmentsSize%>",n),t.sErrors=a,Ce(t);break;case"203":Ce(t)}m.log(this)}));break;case"0":var t,n,i;L?"FileUploadError"==e.errorReason&&(t=Ne(e.filename),n={},i=[],a=(a=f.Errors.FileSendFailed).replace("<%FilenameFull%>",e.filename).replace("<%FilenameTruncated%>",t),i[0]=e.file,n.files=i,Ce({sErrors:a,isRetryAllowed:!0,file:n})):xe(f.Errors.StartFailed)}var a;e.errors&&(a="",c.each(e.errors||[],function(e){0<e&&(a+="<br/><br/>"),a+=f.Errors[this.code+""]||f.Errors.Generic,m.log(this)}),a&&xe(a))}}),Re.subscribe("WebChatService.started",function(){E=S=M=!(L=!0),F&&oe(".cx-footer").hide(),ve(),ce()}),Re.subscribe("Survey.onSubmit",function(){}),Re.subscribe("CoBrowse.online",function(){P=!0,de()}),Re.subscribe("CoBrowse.started",function(e){"cx.plugin.WebChat"==e.data.widgetOrigin&&e.data&&e.data.token?(W=e.data.token,Re.command("WebChatService.sendMessage",{message:"{start:"+W+"}"})):"cx.plugin.WebChat"!=e.data.widgetOrigin&&(z=!0),O=!0,de()}),Re.subscribe("CoBrowse.stopped",function(){z=O=W=!1,de()}),Re.subscribe("WebChatService.messageReceived",function(e){c.each(e.data.messages||[],function(){var e=this,t=e.from.type,n=e.type,i=!1;if("Message"==n||"PushUrl"==n)Ie({restoring:e.restoring,index:e.index,name:e.from.name,text:e.text,type:t,timestamp:e.timestamp,originalMessage:e,bHTML:e.html||!1,bCustom:e.custom||!1,bubble:e.bubble||!0});else if("ParticipantJoined"==n||"ParticipantLeft"==n){if("ParticipantJoined"==n)switch(t){case"Client":S||(i="ChatStarted",E=!(S=!0),oe(".cx-form input").val(""));break;case"Agent":i="AgentConnected";break;case"Supervisor":i="SupervisorConnected"}else if("ParticipantLeft"==n){switch(t){case"Agent":i="AgentDisconnected";break;case"Supervisor":i="SupervisorDisconnected"}"Agent"==t&&(i="AgentDisconnected"),"Supervisor"==t&&(i="SupervisorDisconnected")}i&&Ie({restoring:e.restoring,index:e.index,name:e.from.name,text:f[i].replace("<%Agent%>",e.from.name||f.AgentNameDefault),type:"External",timestamp:e.timestamp,bHTML:e.html||!1,originalMessage:e})}else"NicknameUpdated"==n||"IdleAlert"==n||"IdleClose"==n||("FileUploaded"==n?Ie({type:t,timestamp:(new Date).getTime(),filename:e.fileDetails["file-name"],name:e.from.name,size:e.fileDetails["file-size"],fileId:e.fileDetails["file-id"],text:f.FileSent,action:"FileTransfer",bHTML:e.html||!1,originalMessage:e}):"FileDeleted"==n||"CustomNotice"==n&&"_GCTI_GSS"==e.from.name&&($=JSON.parse(e.text).Survey_URL||"",Q=JSON.parse(e.text).Cancel_URL||"",I&&(j=!0)))})}),Re.subscribe("WebChatService.restoreTimeout",i),Re.subscribe("WebChatService.restoreFailed",i),Re.subscribe("WebChatService.agentConnected",function(){I=M=!0,""!=$&&(j=!0),de(),ce()}),Re.subscribe("WebChatService.agentDisconnected",function(e){I=0!==e.data.numAgentsConnected,de()}),Re.subscribe("WebChatService.restored",function(e){L=!0,F&&oe(".cx-footer").hide();var t=o.get(ee);ue(),e.pending,Re.command("open",{restoring:!0,form:!1,minimized:"true"==t}),_&&Fe(_),de()}),Re.subscribe("WebChatService.ended",function(){var e;L=!1,Ie({index:Y+1,name:"",text:f.ChatEnded,type:"External",timestamp:0}),E=!0,j&&(e=oe(".cx-survey-offer"),Ae(),e.find(".cx-survey-question-body").html(f.SurveyOfferQuestion),e.find(".cx-survey-confirm").html(f.ShowSurveyAccept).click(function(){window.open($),De()}),e.find(".cx-survey-cancel").html(f.ShowSurveyReject).click(function(){c.ajax({url:Q,type:"POST",crossDomain:!0}),De()}),j=!1),de()}),Re.subscribe("WebChatService.agentTypingStarted",function(e){var t;0==oe(".cx-transcript .cx-agent-typing").length&&((t=c(d)).addClass("cx-agent-typing cx-them"),t.attr("data-id",e.data.from.id||"test"),t.find(".cx-name").text(e.data.from.name||f.AgentNameDefault),t.find(".cx-message-text").text(f.AgentTyping.replace("<%Agent%>",e.data.from.name||f.AgentNameDefault)),t.find(".cx-avatar").html(m.Generate.Icon(g.avatars.agent)),oe(".cx-transcript").append(t),t.find(".cx-avatar").hide().fadeIn(),t.find("> p").hide().slideDown(),Fe(!0))}),Re.subscribe("WebChatService.agentTypingStopped",function(e){v&&((e.data.from?oe(".cx-transcript .cx-agent-typing[data-id="+e.data.from.id+"]"):oe(".cx-transcript .cx-agent-typing")).remove(),Fe(!0),v.removeClass("cx-agentTyping"))}),Re.subscribe("WebChatService.restoredOffline",function(){xe(f.Errors.RestoredOffline).find(".cx-btn-primary").click(function(){Re.command("WebChatService.resetPollExceptions")})}),Re.subscribe("WebChatService.chatServerWentOffline",function(){xe(f.Errors.ChatServerWentOffline).find(".cx-btn-primary").click(function(){Re.command("WebChatService.resetPollExceptions")})}),Re.subscribe("WebChatService.chatServerBackOnline",function(){ke()}),Re.subscribe("WebChatService.disconnected",function(){R||(xe(f.Errors.Disconnected),R=!0,m.showWaiting(v),me())}),Re.subscribe("WebChatService.reconnected",function(){var e;R&&(e=xe(f.Errors.Reconnected),R=!1,setTimeout(function(){ke(e)},2e3),m.hideWaiting(v),ge())}),Re.registerCommand("open",function(t){T?t.deferred.reject("already opened"):(t.data.restoring||(o.remove(te,g.cookieOptions),E=S=L=!1),Re.command("Toaster.close"),v&&v[0]||(v=pe()),g.maxMessageLength&&oe("textarea.cx-input").attr("maxlength",g.maxMessageLength),!1===t.data.form?ve():(oe(".cx-form").show(),oe(".cx-transcript-wrapper").hide(),oe(".cx-input-container").hide(),oe(".cx-footer").show(),q=!1),!1===g.emojis?oe(".cx-tooltip-menu.cx-emoji").hide():!0===g.emojis&&oe(".cx-tooltip-menu.cx-emoji").show(),oe(".cx-actions .cx-option.cx-sendFile").show(),!1===H?oe(".cx-actions .cx-option.cx-sendFile").hide():!0===H&&v.find(".cx-actions .cx-option.cx-sendFile").show(),!1===g.actionsMenu?oe(".cx-tooltip-menu.cx-actions").hide():!0===g.actionsMenu&&oe(".cx-tooltip-menu.cx-actions").show(),Re.command("WindowManager.registerDockView",{html:v,draggable:!0}).done(function(){var e;!0===t.data.minimized&&Re.command("minimize",{minimized:!0}),T=!0,V=t.data.attachedData||t.data.userData||{},Re.publish("opened",V),Re.command("hideChatButton"),v.addClass(F?"cx-mobile":"cx-desktop"),m.populateAllPlaceholders(v,f),de(),Re.command("WebChatService.registerTypingPreviewInput",{input:oe("textarea.cx-form-control")}),t.data&&"object"==typeof t.data.form&&(e=t.data.form,c("#cx_webchat_form_firstname").val(e.firstname||""),c("#cx_webchat_form_lastname").val(e.lastname||""),c("#cx_webchat_form_email").val(e.email||""),c("#cx_webchat_form_subject").val(e.subject||""),!0===e.autoSubmit&&Te({userData:V||{}})),F&&he(),oe("textarea.cx-input").keyup(),_=m.Generate.Scrollbar(v.find(".cx-transcript-wrapper")[0]),Fe(!0),c("#cx_webchat_form_firstname").focus(),t.deferred.resolve()}).fail(function(){t.deferred.reject("WindowManager.registerDockView failed")}))}),Re.registerCommand("close",function(e){var t;B&&!S&&!E&&(t=!1,oe(".cx-form input").each(function(){return this.value?!(t=!0):void 0}),t)?(J=e,oe(".cx-alert.cx-chat-close").show(),oe(".cx-close-confirm").focus(),oe(".cx-webchat-smokescreen").show()):le(e)}),Re.registerCommand("configure",function(e){var t,n,i,a,r;e.data?(t=e.data,n=g,"boolean"==typeof t.inviteOnRestoreTimeout&&(n.inviteOnRestoreTimeout=t.inviteOnRestoreTimeout),"object"==typeof t.chatButton&&("boolean"==typeof(i=t.chatButton).enabled&&(n.chatButton.enabled=i.enabled),"number"==typeof i.openDelay&&(n.chatButton.openDelay=parseInt(i.openDelay)),"string"==typeof i.template&&(n.chatButton.template=i.template),"string"==typeof i.effect&&(n.chatButton.effect=i.effect),"number"==typeof i.effectDuration&&(n.chatButton.effectDuration=parseInt(i.effectDuration)),"boolean"==typeof i.hideDuringInvite&&(n.chatButton.hideDuringInvite=i.hideDuringInvite),(C=c(n.chatButton.template)).click(function(){Re.command("open")}),C.find(".cx-icon").html(m.Generate.Icon("chat")),n.chatButton.enabled&&Re.command("showChatButton")),"object"==typeof t.proactive&&("boolean"==typeof(a=t.proactive).enabled&&(n.proactive.enabled=a.enabled),"number"==typeof a.idleTimer&&(n.proactive.idleTimer=a.idleTimer),"number"==typeof a.cancelTimer&&(n.proactive.cancelTimer=a.cancelTimer),se()),"boolean"==typeof t.emojis&&(n.emojis=t.emojis),"boolean"==typeof t.actionsMenu&&(n.actionsMenu=t.actionsMenu),"boolean"==typeof t.uploadsEnabled&&(H=t.uploadsEnabled),"boolean"==typeof t.confirmFormCloseEnabled&&(B=t.confirmFormCloseEnabled),"object"==typeof t.autoInvite&&("boolean"==typeof(a=t.autoInvite).enabled&&(n.proactive.enabled=a.enabled),"number"==typeof a.timeToInviteSeconds&&(n.proactive.idleTimer=a.timeToInviteSeconds),"number"==typeof a.inviteTimeoutSeconds&&(n.proactive.cancelTimer=a.inviteTimeoutSeconds),se()),t.transferLink,t.inviteLink,"string"!=typeof t.timeFormat&&"number"!=typeof t.timeFormat||12!=(r=parseInt(t.timeFormat))&&24!=r||(K=r),"number"==typeof t.maxMessageLength&&(n.maxMessageLength=parseInt(t.maxMessageLength)),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),Re.registerCommand("minimize",function(e){var t=e.data.minimized;v.hasClass("cx-dragged-off")?(v.attr("style",""),Re.command("WindowManager.registerDockView",{html:v,draggable:!0})):N&&!0!==t?!N&&!1!==t||(v.hasClass("cx-minimized")&&v.removeClass("cx-minimized").find(".cx-button-minimize.cx-icon-full-screen").removeClass("cx-icon-full-screen").addClass("cx-icon-minimize").attr("aria-label",f.AriaMinimize),N=!1,o.remove(ne,g.cookieOptions),Re.publish("unminimized"),L&&Fe(!0),F&&he(),oe("textarea.cx-input").keyup()):(v.addClass("cx-minimized").find(".cx-button-minimize.cx-icon-minimize").removeClass("cx-icon-minimize").addClass("cx-icon-full-screen").attr("aria-label",f.AriaMaximize),N=!0,o.get(ne)||o.set(ne,Y,g.cookieOptions),Re.publish("minimized")),ue(),L&&o.set(ee,N,g.cookieOptions),e.deferred.resolve()}),Re.registerCommand("endChat",function(e){L?(Oe(),e.deferred.resolve()):e.deferred.reject("there is no active chat session to end")}),Re.registerCommand("invite",function(t){T?t.deferred.reject("Chat is already open. Ignoring invite command."):(g.chatButton.hideDuringInvite&&Re.command("hideChatButton"),Re.command("Toaster.open",{type:"generic",title:f.InviteTitle,body:f.InviteBody,icon:"chat",controls:"",buttons:{type:"binary",primary:f.InviteAccept,secondary:f.InviteReject}}).done(function(e){e.html&&(t.deferred.resolve(),(y=c(e.html)).find(".cx-btn.cx-btn-primary").click(function(){o.set(ie,!0,g.cookieOptions),Re.command("Toaster.close").done(function(){Re.command("open")})}),y.find(".cx-btn.cx-btn-default").click(function(){o.set(ie,!0,g.cookieOptions),Re.command("Toaster.close"),Re.command("showChatButton")}))}).fail(function(){}))}),Re.registerCommand("reInvite",function(t){!T&&g.inviteOnRestoreTimeout?(g.chatButton.hideDuringInvite&&Re.command("hideChatButton"),Re.command("Toaster.open",{type:"generic",title:f.RestoreTimeoutTitle,body:f.RestoreTimeoutBody,icon:"chat",controls:"close",buttons:{type:"binary",primary:f.RestoreTimeoutAccept,secondary:f.RestoreTimeoutReject}}).done(function(e){e.html&&(t.deferred.resolve(),(e=c(e.html)).find(".cx-btn.cx-btn-primary").click(function(){Re.command("Toaster.close").done(function(){Re.command("open")})}),e.find(".cx-btn.cx-btn-default").click(function(){Re.command("Toaster.close"),Re.command("showChatButton")}))}).fail(function(){})):t.deferred.reject("Chat is already open. Ignoring invite command.")}),Re.registerCommand("injectMessage",function(e){T&&(S||E)?e.deferred.resolve(function(e,t,n,i,a){var r,o="";switch(e=(e+"").toLowerCase()||"text"){case"text":if("object"==typeof n&&n[0]&&n[0].outerHTML)o=n[0].outerHTML;else{if("string"!=typeof n)return!1;o=n}break;case"html":o=n;break;default:return!1}return r=Ie({name:t,text:o,type:"injected",timestamp:(new Date).getTime(),bHTML:"html"==e,bCustom:!!i,bubble:a||{direction:"none",radius:10,avatar:!1}}),Fe(!0),r}(e.data.type,e.data.name,e.data.text,e.data.custom,e.data.bubble)):e.deferred.reject("No chat session to inject into.")}),Re.registerCommand("showOverlay",function(e){var t;T?(oe(".cx-overlay").html(e.data.html),t=e.data.hideFooter||!1,be(t),oe(".cx-overlay").show(),e.deferred.resolve()):e.deferred.reject("WebChat is not currently open. Ignoring command.")}),Re.registerCommand("hideOverlay",function(e){T?(oe(".cx-overlay").html(e.data.html),oe(".cx-overlay").hide(),e.deferred.resolve()):e.deferred.reject("WebChat is not currently open. Ignoring command.")}),Re.subscribe("SideBar.ready",function(){A=!0,Re.command("hideChatButton",{duration:0})}),Re.registerCommand("showChatButton",function(t){var e,n;g.chatButton.enabled?A?t.deferred.reject("SideBar is active and overrides the default chat button"):D?t.deferred.reject("Chat button is already visible. Ignoring command."):(e=t.data&&"number"==typeof t.data.openDelay?parseInt(t.data.openDelay):g.chatButton.openDelay,n=t.data&&"number"==typeof t.data.duration?parseInt(t.data.duration):g.chatButton.effectDuration,C.find(".i18n").each(function(){c(this).data("message")&&c(this).html(f[c(this).data("message")])}),U=setTimeout(function(){U=!1,Re.command("WindowManager.registerSideButton",{template:C.hide()}).done(function(){if(0==n)C.show(),C.show().css({width:"auto"});else switch(g.chatButton.effect){case"slide":C.show().css({width:"auto"});var e=C.width()+"px";C.show().css({width:0}),C.animate({width:e},n,function(){D=!0,t.deferred.resolve()});break;case"fade":C.fadeIn(n,function(){D=!0,t.deferred.resolve()});break;default:C.show(),t.deferred.resolve()}Re.publish("chatButtonDisplayed")})},e)):t.deferred.reject("The chat button has been disabled in the configuration. Ignoring command.")}),Re.registerCommand("hideChatButton",function(e){if(D||U)if(U&&clearTimeout(U),0==t)C.hide(),C.detach();else{var t=e.data&&"number"==typeof e.data.duration?parseInt(e.data.duration):g.chatButton.effectDuration;switch(g.chatButton.effect){case"slide":C.animate({width:0},t,function(){D=!1,C.detach(),e.deferred.resolve()});break;case"fade":C.fadeOut(t,function(){C.detach(),D=!1,e.deferred.resolve()});break;default:C.hide(),C.detach(),e.deferred.resolve()}}else e.deferred.reject("Chat button is already hidden. Ignoring command.")}),Re.subscribe("App.closeAll",function(){Re.command("close")}),Re.subscribe("App.theme",function(){Re.command("App.reTheme",{html:v})}),Re.subscribe("App.timeFormat",function(e){K=e.data.timeFormat}),Re.subscribe("App.i18n",function(e){"object"==typeof e.data.webchat&&(c.extend(f,e.data.webchat),oe(".cx-title").text(f.ChatTitle),oe(".cx-button-minimize").attr("aria-label",f.AriaMinimize),oe(".cx-button-close").attr("aria-label",f.AriaClose))}),Re.subscribe("App.ready",function(e){e.data.webchat&&Re.command("configure",e.data.webchat)}),Re.subscribe("App.mobileMode",function(){c(window).on("orientationchange",he),c(window).on("resize",he),he(),F=!0}),v=pe(),Re.republish("ready"))}),__cx.define("text!plugins/cx-channel-selector/html/cx-channel-selector.html",[],function(){return'<div class="cx-channel-selector">\n\n\t<div class="cx-wrapper">\n\t\t<div class="cx-channels"></div>\n\t</div>\n\t\n</div>'}),__cx.define("text!plugins/cx-channel-selector/html/cx-channel.html",[],function(){return'<div class="cx-channel">\r\n\t<div class="cx-icon"></div>\r\n\t<div class="cx-channel-details">\r\n\t\t<div class="cx-name i18n"></div>\r\n\t\t<div class="cx-availability">\r\n\t\t\t<div class="cx-message i18n"></div>\r\n\t\t\t<div class="cx-status">\r\n\t\t\t\t<span class="cx-status-icon"></span>\r\n\t\t\t\t<span class="cx-status-time i18n"></span>\r\n\t\t\t\t<span class="cx-status-message"></span>\r\n\t\t\t\t<span class="cx-subtitle i18n"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'}),__cx.define("plugins/cx-channel-selector/nls/string.js",{Title:"Live Assistance",SubTitle:"How would you like to get in touch?",WaitTimeTitle:"Wait Time",AvailableTitle:"Available",UnavailableTitle:"Unavailable",CobrowseButtonText:"CobrowseSubTitle",CallbackTitle:"Receive a Call",CobrowseSubTitle:"Agent connection is required for this."}),__cx.define("cx-channel-selector",["jquery","cx-bus","text!./plugins/cx-channel-selector/html/cx-channel-selector.html","text!./plugins/cx-channel-selector/html/cx-channel.html","cx-common","cx-iscroll","./plugins/cx-channel-selector/nls/string.js"],function(a,e,n,i,r,t,o){"use strict";var s,c,l,d,u,h,p,f,m,g,v,b,x,y,w=e.registerPlugin("ChannelSelector");w&&(w.registerEvents(["ready","opened","closed"]),m={},g="click",x={display:!(b=f=!(p=h=u=d=l=c=!(v={ewtRefreshInterval:10,channels:[],i18n_messages:o}))),availabilityThresholdMin:300,availabilityThresholdMax:480,hideChannelWhenThresholdMax:!0},y={convertSeconds:function(e){return{mins:Math.floor(e/60),sec:e%60}},displayAvailable:function(e){var t=e.find(".cx-status-icon").addClass("cx-theme-icon-positive control-icon");r.insertIcon(t,"alert-checkmark"),e.find(".cx-status-time").text(o.AvailableTitle),p&&e.find(".cx-channel-details").addClass("cx-channel-with-stats")},displayWarning:function(e,t){var n=e.find(".cx-status-icon").addClass("cx-theme-icon-negative control-icon");r.insertIcon(n,"alert-triangle"),e.find(".cx-message").text(o.WaitTimeTitle),e.find(".cx-status-message").text(o.WaitTimeTitle),e.find(".cx-status-time").text(t.mins+" Mins")},displayAlert:function(e,t){var n=e.find(".cx-status-icon").addClass("cx-theme-icon-warning control-icon");r.insertIcon(n,"alert-circle"),e.find(".cx-message").text(o.WaitTimeTitle),e.find(".cx-status-message").text(o.WaitTimeTitle),e.find(".cx-status-time").text(t.mins+" Mins")},removeStats:function(e){e.find(".cx-status-icon").removeClass().addClass("cx-status-icon"),e.find(".cx-status-time").text(""),p&&e.find(".cx-channel-details").removeClass("cx-channel-with-stats")},renderStats:function(e,t){var n;e&&(n=e.find(".cx-channel-details"),e.removeClass("cx-channel-disable"),n.find(".cx-status-icon").removeClass().addClass("cx-status-icon"),n.find(".cx-message, .cx-status-time").empty(),p&&n.addClass("cx-channel-with-stats"),0==m.mins?y.displayAvailable(n):0<m.mins&&m.mins<=t.availabilityThresholdMin.mins?y.displayWarning(n,m):m.mins>t.availabilityThresholdMin.mins&&m.mins<t.availabilityThresholdMax.mins?y.displayAlert(n,m):1==t.hideChannelWhenThresholdMax?e.hide():(n.find(".cx-status-time").text(o.UnavailableTitle),e.addClass("cx-channel-disable")))},setRefreshTimer:function(){"number"==typeof v.ewtRefreshInterval&&f&&d&&setTimeout(function(){w.command("displayStats")},1e3*parseInt(v.ewtRefreshInterval))},disableChannel:function(e){e.addClass("cx-channel-disable"),e.find(".cx-availability .cx-status-time").text(o.UnavailableTitle)},enableChannel:function(e){e.removeClass("cx-channel-disable"),e.show(),e.find(".cx-availability .cx-status-icon").removeClass().addClass("cx-status-icon"),e.find(".cx-availability .cx-message").text(""),e.find(".cx-availability .cx-status-time").text("")},initChannel:function(e,t){t?y.enableChannel(e):y.disableChannel(e),y.updateCoBrowse()},updateTemplateI18n:function(){c&&c.find(".i18n").each(function(){var e=a(this);e.text(o[e.data("message")])})},mobileScreenScale:function(){var e,t;p&&c&&(e=a(window).height(),t=a(window).width(),c.removeClass("cx-portrait cx-landscape"),c.addClass(t<e?"cx-portrait":"cx-landscape"),c=r.mobileScreenScale(c),s&&s.refresh())},generateChannel:function(e,t){var n;return t.name&&e.addClass(t.name),t.icon&&e.find(".cx-icon").html(r.Generate.Icon(t.icon)),t.html&&((n=a(t.html)).addClass("cx-img-map"),e.find(".cx-icon").removeClass().addClass("cx-icon px96"),e.find(".cx-icon").append(n)),t.displayName&&e.find(".cx-name").text(t.displayName),t.i18n&&e.find(".cx-name").attr("data-message",t.i18n),t.subtitle&&(e.find(".cx-subtitle").attr("data-message",t.subtitle),e.find(".cx-channel-details").addClass("cx-channel-with-stats")),t.ewt&&1==t.ewt.display&&(h=!0),"string"==typeof t.readyEvent?(y.disableChannel(e),t.bPluginReady=!1,w.subscribe(t.readyEvent,function(){t.bPluginReady=!0,y.initChannel(e,t.enable)})):(t.bPluginReady=!0,y.initChannel(e,t.enable)),e.bind(g,function(){w.command("close").done(function(){w.command(t.clickCommand)})}),e},initIscroll:function(){var t,n;s=p?r.Generate.Scrollbar(c.find(".cx-wrapper")[0]):(n=t=0,c.find(".cx-channel").each(function(){var e=a(this);t+=e.outerWidth(!0),n=e.outerWidth(!0)-e.outerWidth()}),c.find(".cx-wrapper").width(t-n),r.Generate.Scrollbar(c.find(".cx-wrapper")[0],{mouseWheel:!0,click:!0,scrollX:!0,scrollY:!1,scrollbars:"custom"}))},updateCoBrowse:function(){c&&(!0===u||!1===l?y.disableChannel(c.find(".cx-CoBrowse")):y.enableChannel(c.find(".cx-CoBrowse")))}},w.registerCommand("open",function(t){d?t.deferred.reject("Already open"):(c&&c.remove(),c=r.Generate.Container({type:"overlay",classes:"cx-channel-selector",title:o.Title,subtitle:o.TitleDescription,body:n,icon:!1,controls:"close",buttons:!1}),a.each(v.channels,function(e,t){c.find(".cx-channels").append(y.generateChannel(a(i),t))}),c.find(".cx-button-close").bind(g,function(){w.command("close")}),w.command("Overlay.open",{html:c,immutable:!1}).done(function(e){d=!0,y.updateTemplateI18n(),e.events.close&&w.subscribe(e.events.close,function(){d=!1,w.publish("closed")}),h&&w.command("displayStats"),c.addClass("cx-control-cx-channel-selector"),y.initIscroll(),p&&y.mobileScreenScale(),w.publish("opened"),t.deferred.resolve()}).fail(function(){t.deferred.reject("Could not open")}))}),w.registerCommand("displayStats",function(e){w.command("StatsService.getStats",{group:"EWT"}).done(function(){y.setRefreshTimer()}).fail(function(){y.setRefreshTimer(),e.deferred.reject("Unable to display EWT Stats in Live Assist")})}),w.registerCommand("enableStats",function(e){d?(a.each(v.channels,function(e,t){t.ewt&&!t.ewt.display&&(t.ewt.display=!0)}),f=!0,w.command("displayStats"),e.deferred.resolve()):e.deferred.reject("Live Assist not opened to enable stats details")}),w.registerCommand("disableStats",function(e){d?(a.each(v.channels,function(e,t){y.removeStats(c.find(".cx-channel."+t.name)),t.ewt&&t.ewt.display&&(t.ewt.display=!1)}),f=!1,e.deferred.resolve()):e.deferred.reject("Live Assist not opened to disable stats details")}),w.registerCommand("close",function(e){d?w.command("Overlay.close").done(function(){d=!1,w.publish("closed"),e.deferred.resolve()}):e.deferred.reject("Already closed")}),w.registerCommand("configure",function(e){var t,i;e.data&&0<e.data.channels.length?(t=e.data,(i=v).channels=[],"number"==typeof t.ewtRefreshInterval&&(i.ewtRefreshInterval=t.ewtRefreshInterval),a.each(t.channels,function(e,t){var n={};n.name="string"==typeof t.name?t.name:"Channel0"+e,n.enable="boolean"==typeof t.enable?t.enable:b,n.clickCommand="string"==typeof t.clickCommand?t.clickCommand:"",n.readyEvent="string"==typeof t.readyEvent?t.readyEvent:null,n.displayName="string"==typeof t.displayName?t.displayName:"",n.icon="string"==typeof t.icon?t.icon:"",n.html="string"==typeof t.html?t.html:"","object"==typeof t.ewt&&(n.ewt={},n.ewt.display=("boolean"==typeof t.ewt.display?t.ewt:x).display,n.ewt.queue="string"==typeof t.ewt.queue?t.ewt.queue:"",n.ewt.availabilityThresholdMin=y.convertSeconds(("number"==typeof t.ewt.availabilityThresholdMin?t.ewt:x).availabilityThresholdMin),n.ewt.availabilityThresholdMax=y.convertSeconds(("number"==typeof t.ewt.availabilityThresholdMax?t.ewt:x).availabilityThresholdMax),n.ewt.hideChannelWhenThresholdMax=("boolean"==typeof t.ewt.hideChannelWhenThresholdMax?t.ewt:x).hideChannelWhenThresholdMax),n.i18n="string"==typeof t.i18n?t.i18n:"",n.subtitle="string"==typeof t.subtitle?t.subtitle:"",i.channels.push(n)}),e.deferred.resolve()):e.deferred.reject("Invalid configuration. Please ensure atleast one channel is configured.")}),w.subscribe("SideBar.ready",function(){w.command("SideBar.addButton",{button:{name:"Live Assistance",title:"Get assistance from one of our agents right away",icon:"agent",class:"cx-channel-selector"}}).done(function(e){w.subscribe(e.event,function(){w.command("open")})}).fail(function(){})}),w.subscribe("StatsService.updated",function(e){var i=e.data.ewt||{};d&&!a.isEmptyObject(i)&&a.each(v.channels,function(e,t){var n=c.find(".cx-channel."+t.name);t.bPluginReady&&t.enable&&t.ewt&&i[t.ewt.queue]&&1==t.ewt.display&&(m=y.convertSeconds(i[t.ewt.queue].ewt),y.renderStats(n,t.ewt)),t.enable&&t.bPluginReady&&"SendMessage.open"==t.clickCommand&&y.displayAvailable(c.find(".cx-channel."+t.name))})}),w.subscribe("CoBrowse.started",function(){u=!0,y.updateCoBrowse()}),w.subscribe("CoBrowse.online",function(){l=!0,y.updateCoBrowse()}),w.subscribe("CoBrowse.stopped",function(){u=!1,y.updateCoBrowse()}),w.subscribe("App.ready",function(e){e.data.channelselector&&w.command("configure",e.data.channelselector)}),w.subscribe("App.i18n",function(e){"object"==typeof e.data.channelselector&&(a.extend(o,e.data.channelselector),c&&c.find(".cx-title").text(o.Title))}),w.subscribe("App.mobileMode",function(){a(window).on("orientationchange",y.mobileScreenScale),a(window).on("resize",y.mobileScreenScale),p=!0,g="tap",y.mobileScreenScale()}),w.subscribe("App.closeAll",function(){w.command("close")}),w.subscribe("App.theme",function(){w.command("App.reTheme",{html:c})}),w.republish("ready"))}),__cx.define("template",[],function(){function r(e,t){var n,i,a,r,o,s=arguments.callee;return s.cache[e]||(s.cache[e]=(i=/^[\w\-]+$/.test(n=e)?s.get(e):(n="template(string)",e),a=1,n=("try { "+(s.variable?"var "+s.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+i.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++a+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(s.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+n+"' + ' line ' + this.line + ')'; } //@ sourceURL="+n+"\n").replace(/this\.ret \+= '';/g,""),r=new Function(n),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},function(e){return r.call(s.context={escapeHTML:c,line:1,ret:"",stash:e})})),t?s.cache[e](t):s.cache[e];function c(e){return(""+e).replace(/[&<>\'\"]/g,function(e){return o[e]})}}function n(t,e){function n(e){return e.include=function(e,t){var n={};for(i in r.context.stash)r.context.stash.hasOwnProperty(i)&&(n[i]=r.context.stash[i]);if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);var a=r.context;a.ret+=r(e,n),r.context=a},e.wrapper=function(e,t){var n=r.context.ret;r.context.ret="",t.apply(r.context);var i=r.context.ret,t=r.context.stash.content;r.context.stash.content=i,r.context.ret=n+r(e,r.context.stash),r.context.stash.content=t},r(t,e)}return e?n(e):n}return r.cache={},r.get=function(e){return document.getElementById(e).innerHTML},r.get=function(e){var t=n.get;return t?t(e):document.getElementById(e).innerHTML},this.template=r,this.extended=n,r}),__cx.define("plugins/cx-search/nls/string",{SidebarButton:"Search",SearchButton:"Search",Title:"Ask a Question",Ask:"Ask",Close:"Close",Categories:"Categories",NoResults:"No Results",NoResultsTextUnder:"We're sorry but we could not find a suitable answer for you.",NoResultsTextRephrase:"Could you please try rephrasing the question?",WasThisHelpful:"Was this helpful?",Yes:"Yes",No:"No",ArticleHelpfulnessYes:'Article Helpfulness - "Yes"',ArticleHelpfulnessYesDesc:"Great! We're very pleased to hear that the article assisted you in your search. Have a great day!",ArticleHelpfulnessNo:'Article Helpfulness - "No"',ArticleHelpfulnessNoDesc:"We're sorry that the article wasn't a good match for your search. We thank you for your feedback!",TypeYourQuestion:"Type your question",Back:"Back",More:"More",Error:"Error!",GKCIsUnavailable:"Knowledge Center Server is currently not available"}),__cx.define("plugins/cx-search/js/search-model",["jquery"],function(r){"use strict";return function(i){var a=this;a.ready=!1,a.query="",a.categories=[],a.apiClientMediaType="selfservice",a.cutAnswer=function(e){return e?250<e.length?e.substring(0,250)+"...":e:void 0},a.findCategory=function(t,n){return r.grep(a.categories,function(e){return e.id===t&&e.kbId===n})[0]},a.search=function(e){function t(e){a.documents=e.documents}return a.query=e||"",(a.query?i.command("KnowledgeCenterService.search",{query:a.query,apiClientMediaType:a.apiClientMediaType}):i.command("KnowledgeCenterService.getTrending")).done(t)},a.fullContent=function(e,t){return i.command("KnowledgeCenterService.getFullContent",{docId:e,kbId:t}).done(function(e){a.document=e})},a.getSuggestions=function(e){return i.command("KnowledgeCenterService.getSuggestions",{query:e}).done(function(e){a.suggestions=e.suggestions})},a.vote=function(e){return this.commentDeferred=new r.Deferred,i.command("KnowledgeCenterService.vote",{docId:a.document.id,kbId:a.document.kbId,query:a.query,relevant:e}).done(function(e){this.commentDeferred.resolve(e.recordId)}.bind(this))},a.handleRating=function(t,n){return a.query&&this.commentDeferred?this.commentDeferred.done(function(e){i.command("KnowledgeCenterService.addRating",{voteId:e,comment:t,rating:n})}):(this.commentDeferred=null,i.command("KnowledgeCenterService.rating",{kbId:a.document.kbId,docId:a.document.id,comment:t,rating:n}))},i.command("KnowledgeCenterService.getCategories").done(function(e){a.categories=e.categories})}}),__cx.define("text!plugins/cx-search/html/cx-search.html",[],function(){return'<div>\r\n\r\n\t<form class="cx-input-group cx-search-form" onsubmit="return false;">\r\n\t\t<table>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<input type="text" class="cx-form-control cx-input-question" placeholder="<%= i18n.TypeYourQuestion %>">\r\n\t\t\t\t</td>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<span class="cx-input-group-btn">\r\n\t\t\t\t\t\t<button class="cx-btn cx-btn-primary cx-button-ask" type="button"><%= i18n.Ask %></button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t\t\r\n\t\t<span class="cx-input-icon-overlay cx-button-clear cx-icon" data-icon="close"></span>\r\n\t\t\r\n\t</form>\r\n\r\n\t\x3c!-- <div class="cx-spinner-container cx-loading">\r\n\t\t<div class="cx-spin-circle"></div>\r\n\t\t<div class="cx-spin-inner-circle"></div>\r\n\t</div> --\x3e\r\n\r\n\t<div class="cx-container-result-wrapper">\r\n\t\t<div class="cx-container-result"></div>\r\n\t</div>\r\n\r\n</div>\r\n\r\n<div class="cx-button-group cx-search-button-group cx-buttons-binary">\r\n\t<button class="cx-btn cx-btn-primary cx-btn-back i18n" type="button"><%= i18n.Back %></button>\r\n\t<button id="close" class="cx-btn cx-btn-default i18n"><%= i18n.Close %></button>\r\n</div>'}),__cx.define("text!plugins/cx-search/html/cx-search-result.html",[],function(){return'<% if(documents && documents.length) { %>\r\n<div class="cx-results">\r\n\t<% documents.forEach(function (document) { %>\r\n\t<div class="cx-document cx-short" data-id="<%= document.id %>" data-kbid="<%= document.kbId %>">\r\n\r\n\t\t<div class="cx-title cx-short">\r\n\t\t\t<span><%= document.question || document.title %></span>\r\n\t\t</div>\r\n\r\n\t\t<div class="cx-description">\r\n\t\t\t<%= cutAnswer(document.answer || document.description) %>\r\n\t\t\t<a class="cx-detail i18n"><%= i18n.More %></a>\r\n\t\t</div>\r\n\r\n\t\t<% if(document.categories && document.categories.length > 0) { %>\r\n\t\t<div class="cx-categories"><%= i18n.Categories %>:\r\n\t\t\t<% document.categories.forEach(function (catId) { %>\r\n\t\t\t<span class="cx-category"><%= findCategory(catId, document.kbId).name %></span>\r\n\t\t\t<% }.bind(this)) %>\r\n\t\t</div>\r\n\t\t<% } %>\r\n\r\n\t</div>\r\n\t<% }.bind(this)) %>\r\n</div>\r\n<% } else { %>\r\n<div class="cx-no-results">\r\n\t<span class="cx-title"><%= i18n.NoResults %></span>\r\n\t<span class="cx-no-results-description"><%= i18n.NoResultsTextUnder %></span>\r\n\t<span class="cx-no-results-rephrase"><%= i18n.NoResultsTextRephrase %></span>\r\n</div>\r\n<% }  %>'}),__cx.define("text!plugins/cx-search/html/cx-search-document.html",[],function(){return'<div class="cx-title cx-full">\n    <span>\n        <%= document.question || document.title %>\n    </span>\n</div>\n\n<div class="cx-description">\n    <%=raw document.answerContent || document.descriptionContent %>\n</div>\n\n<% if(document.categories && document.categories.length > 0) { %>\n<div class="cx-categories"><%= i18n.Categories %>:\n    <% document.categories.forEach(function (catId) { %>\n    <span class="cx-category"><%= findCategory(catId, document.kbId).name %></span>\n    <% }.bind(this)) %>\n</div>\n<% } %>\n\n<% if (document.attachments && document.attachments.length > 0) { %>\n<div class="cx-attachments">\n    <% document.attachments.forEach(function(item) { %>\n    <div>\n        <a href="<%= item.url %>" target="_blank"><%= item.fileName %></a>\n    </div>\n    <% }.bind(this)) %>\n</div>\n<% } %>\n\n<% if (document.feedbackType !== \'NONE\') { %>\n<div class="cx-feedback">\n\n    <% if (query && (document.feedbackType === \'EITHER\' || document.feedbackType === \'VOTE\')) { %>\n    <div class="cx-vote-question">\n        <%= i18n.WasThisHelpful %>\n        <a href="javascript:;" data-relevant="false"><button class="cx-btn cx-btn-default i18n" type="button" id="irrelevant"><%= i18n.No %></button></a>\n        <a href="javascript:;" data-relevant="true"><button class="cx-btn cx-btn-primary i18n" type="button" id="relevant"><%= i18n.Yes %></button></a>\n    </div>\n    <% } %>\n\n    <div class="cx-helpful"></div>\n</div>\n<% } %>'}),__cx.define("text!plugins/cx-search/html/cx-search-error.html",[],function(){return"<h1><%= i18n.Error %></h1>\r\n\r\n<p><%= i18n.GKCIsUnavailable %></p>"}),__cx.define("text!plugins/cx-search/html/cx-search-button.html",[],function(){return'<div class="cx-widget cx-search-button cx-side-button" data-message="SearchButton" data-gcb-service-node="true">\r\n\t<span class="cx-icon"></span>\r\n\t<span class="i18n cx-search-button-label" data-message="SearchButton"></span>\r\n</div>'}),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("cx-autocomplete",["jquery"],e):e(jQuery)}(function(s){"use strict";s.fn.autocomplete=function(e){var a=s.extend({},{minLength:2,maxSize:5,onType:function(){},onSelect:function(){}},e),r=this,e=s("<div>").addClass("cx-ac-wrapper"),o=s("<div>").addClass("cx-ac-dropdown-menu cx-drop-shadow");r.wrap(e).after(o),r.keyup(function(e){if(13==e.which){var t=o.find(".cx-active");return t.length?a.onSelect(t.text()):a.onSkip(s(this).val()),o.hide(),void e.preventDefault()}if(38===e.which||40===e.which){var n,i=o.children(),t=o.find(".cx-active").removeClass("cx-active").index();return 38===e.which?n=t<=0?i.length-1:t-1:40===e.which&&(n=t===i.length-1?0:t+1),s(i.get(n)).addClass("cx-active"),void e.preventDefault()}e=new s.Deferred;a.onType.call(this,r.val(),e),e.done(function(e){o.empty(),o.hide(),e.forEach(function(e,t){var n;t<a.maxSize&&((n=s("<div>").addClass("cx-ac-suggestion").text(e)).click(function(e){a.onSelect(n.text()),o.hide(),e.preventDefault()}),o.append(n))}),0<e.length&&r.val().length>=a.minLength&&o.show()})}),r.focusout(function(){o.find(".cx-ac-suggestion:hover").length||(o.hide(),o.children().removeClass("cx-active"))})}}),__cx.define("cx-search",["jquery","template","cx-bus","./plugins/cx-search/nls/string","./plugins/cx-search/js/search-model","text!./plugins/cx-search/html/cx-search.html","text!./plugins/cx-search/html/cx-search-result.html","text!./plugins/cx-search/html/cx-search-document.html","text!./plugins/cx-search/html/cx-search-error.html","text!./plugins/cx-search/html/cx-search-button.html","cx-common","cx-autocomplete"],function(s,r,e,c,n,t,i,l,a,o,d){"use strict";function u(){function e(e){x.find(".cx-input-question").val(e),p()}x&&x.remove(),(x=d.Generate.Container({type:"overlay",classes:"cx-search",title:c.Title,body:r(t,{i18n:c}),icon:"knowledge-center",controls:"close",buttons:!1})).find(".cx-button-close").click(function(){S.command("close")}),x.find(".cx-btn-default").click(function(){S.command("close")}),x.find(".cx-button-ask").click(function(){p()}),x.find(".cx-button-clear").click(function(){x.find(".cx-input-question").val(""),x.find(".cx-button-clear").hide(),x.find(".cx-container-result-wrapper").removeClass("cx-expanded"),x.find(".cx-btn-back:visible").hide(),x.find(".cx-btn-default").hide(),x.find(".cx-container-result").empty(),g(!0)});var n=x.find(".cx-button-clear");x.find(".cx-input-question").autocomplete({minLength:1,maxSize:5,onType:function(e,t){v.getSuggestions(e).done(function(){t.resolve(v.suggestions),n.show()})},onSelect:e,onSkip:e}),x.addClass("cx-collapsed"),x.find(".cx-input-question").after(n)}function h(e){e.question&&(x.find(".cx-input-question").val(e.question),p())}function p(){x.removeClass("cx-collapsed");var e=x.find(".cx-container-result").empty(),t=x.find(".cx-input-question").val();""==t||(x.find(".cx-container-result-wrapper").addClass("cx-expanded"),x.find(".cx-search-button-group").children(".cx-btn-default").show(),e.css("overflow","auto"),d.showLoading(x),v.search(t).done(function(){e.html(r(i,s.extend({},v,{i18n:c}))),x.find("a.cx-detail").click(function(e){(function(n){var i=x.find(".cx-container-result").addClass("cx-expanded"),a=n.clone(!0).addClass("cx-expanded").removeClass("cx-short");a.css("top",n.position().top),a.css("bottom",i.innerHeight()-n.position().top-n.innerHeight()-2),i.append(a);var e=x.find(".cx-container-result").scrollTop();a.children().css("opacity",.4),a.animate({top:e,bottom:-e},250,function(){i.css("overflow","hidden");var e=n.data("id"),t=n.data("kbid");v.fullContent(e,t).done(function(){a.html(r(l,s.extend({},v,{i18n:c}))),g(!0),x.find(".cx-btn-back").click(function(){a.animate({top:n.position().top,minHeight:0,height:n.innerHeight()},250,function(){i.css("overflow","auto"),a.remove(),g(!0)}),x.find(".cx-btn-back").hide(),x.find(".cx-document.cx-short").removeClass("cx-hidden"),x.find(".cx-container-result").removeClass("cx-expanded")}),function i(o){function t(){var e=o.find(".cx-publish-comment textarea"),t=o.find(".cx-star-rating");o.find(".cx-publish-comment-buttons").toggle(!!t.attr("data-rating")&&!!e.val()),m(o)}o.find(".cx-gkc-doc-link").click(function(){var e=s(this),t=e.attr("data-docid"),e=e.attr("data-kbid"),n=o.clone(!0);n.children().css("opacity",.4),o.after(n),v.fullContent(t,e).done(function(){n.html(r(l,s.extend({},v,{i18n:c,query:null}))),n.find(".cx-btn.cx-btn-back").click(function(){n.remove()}),i(n)})}),o.find(".cx-vote-question a").click(function(e){var t=s(e.target),n=t.parents(".cx-feedback"),i=t.data("relevant"),a=document.getElementById("relevant"),r=s(".cx-helpful"),t="<span></span>";"EITHER"===v.document.feedbackType&&e.target==a?(r.append(c.ArticleHelpfulnessYes).wrapInner(t),r.append(c.ArticleHelpfulnessYesDesc)):(r.append(c.ArticleHelpfulnessNo).wrapInner(t),r.append(c.ArticleHelpfulnessNoDesc)),n.find(".cx-vote-question a .cx-btn").unwrap().attr("disabled","disabled"),n.find(".cx-vote-question").addClass("cx-disabled"),m(o),g(null,!0),v.vote(i)}),o.find(".cx-star-rating.cx-enable span").mouseover(function(){var e=s(this);e.prevAll().addBack().removeClass("cx-icon-star-outline").addClass("cx-icon-stars"),e.nextAll().removeClass("cx-icon-stars").addClass("cx-icon-star-outline")}),o.find(".cx-star-rating.cx-enable").mouseleave(function(){var e=s(this),t=e.attr("data-rating");e.children().attr("class","cx-icon-star-outline"),t&&e.find(":lt("+t+")").removeClass("cx-icon-star-outline").addClass("cx-icon-stars")}),o.find(".cx-star-rating.cx-enable span").click(function(){var e=s(this);e.parent().attr("data-rating",e.index()+1),t()}),o.find(".publish-comment textarea").keyup(function(){t()}),o.find(".cx-publish-comment-buttons button").click(function(){var e=o.find(".cx-publish-feedback textarea"),t=o.find(".cx-star-rating"),n=e.val(),e=+t.attr("data-rating"),t=o.find(".cx-feedback");t.find(".cx-publish-feedback").hide(),t.append(c.FeedbackSubmitted),v.handleRating(n,e)})}(a)})})})(s(e.currentTarget).parents(".cx-document")),x.find(".cx-document.cx-short").addClass("cx-hidden"),x.find(".cx-document.cx-expanded").removeClass("cx-hidden"),x.find(".cx-btn-back").show()})}).fail(function(){e.html(r(a,{i18n:c}))}).always(function(){d.hideLoading(x),g(!0)}))}function f(){var e,t,n,i,a;y&&x&&(e=s(window).height(),t=x.find(".cx-titlebar").outerHeight(),n=x.find(".cx-search-form").outerHeight(),i=x.find(".cx-footer").outerHeight(),a=x.find(".cx-btn-default").outerHeight(),x.find(".cx-container-result-wrapper").height(e-t-n-i-a-63))}function m(e){return e.stop().animate({scrollTop:e.get(0).scrollHeight},500)}function g(e,t){T&&((window.oScroll=T).refresh(),e&&T.scrollTo(0,0,0),t&&T.scrollTo(0,T.maxScrollY,300))}var v,b,x,y,w,C,k,_,T,S=e.registerPlugin("Search"),E={i18n_messages:{},SearchButton:{enabled:!1,template:o,openDelay:1e3,effect:"fade",effectDuration:300}};S&&(k=C=w=y=x=b=!1,_=s(E.SearchButton.template),T=null,S.registerEvents(["ready","opened","closed"]),S.registerCommand("configure",function(e){var t;e.data?("object"==typeof e.data.SearchButton&&("boolean"==typeof(t=e.data.SearchButton).enabled&&(E.SearchButton.enabled=t.enabled),"number"==typeof t.openDelay&&(E.SearchButton.openDelay=parseInt(t.openDelay)),"string"==typeof t.template&&(E.SearchButton.template=t.template),"string"==typeof t.effect&&(E.SearchButton.effect=t.effect),"number"==typeof t.effectDuration&&(E.SearchButton.effectDuration=parseInt(t.effectDuration)),"boolean"==typeof t.hideDuringInvite&&(E.SearchButton.hideDuringInvite=t.hideDuringInvite),(_=s(E.SearchButton.template)).click(function(){S.command("open")}),_.find(".cx-icon").html(d.Generate.Icon("search")),E.SearchButton.enabled&&S.command("showSearchButton")),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),S.registerCommand("showSearchButton",function(t){var e,n;E.SearchButton.enabled&&!C?k?t.deferred.reject("Search button is already visible. Ignoring command."):(e=t.data&&"number"==typeof t.data.openDelay?parseInt(t.data.openDelay):E.SearchButton.openDelay,n=t.data&&"number"==typeof t.data.duration?parseInt(t.data.duration):E.SearchButton.effectDuration,_.find(".i18n").each(function(){s(this).data("message")&&s(this).html(c[s(this).data("message")])}),w=setTimeout(function(){w=!1,S.command("WindowManager.registerSideButton",{template:_}).done(function(){if(0===n)_.show(),_.show().css({width:"auto"});else switch(E.SearchButton.effect){case"slide":_.show().css({width:"auto"});var e=_.width()+"px";_.show().css({width:0}),_.animate({width:e},n,function(){k=!0,t.deferred.resolve()});break;case"fade":_.fadeIn(n,function(){k=!0,t.deferred.resolve()});break;default:_.show(),t.deferred.resolve()}})},e)):t.deferred.reject("SideBar is active and overrides the default Search button")}),S.registerCommand("hideSearchButton",function(e){if(k||w)if(w&&clearTimeout(w),0===t)_.hide(),_.detach();else{var t=e.data&&"number"==typeof e.data.duration?parseInt(e.data.duration):E.SearchButton.effectDuration;switch(E.SearchButton.effect){case"slide":_.animate({width:0},t,function(){k=!1,_.detach(),e.deferred.resolve()});break;case"fade":_.fadeOut(t,function(){_.detach(),k=!1,e.deferred.resolve()});break;default:_.hide(),_.detach(),e.deferred.resolve()}}else e.deferred.reject("Search button is already hidden. Ignoring command.")}),S.registerCommand("close",function(e){S.command("Overlay.close").done(function(){S.command("showSearchButton"),b=!1,S.publish("closed"),e.deferred.resolve()})}),S.registerCommand("open",function(t){v=new n(S),b?(h(t.data),t.deferred.reject("Already open")):(u(),h(t.data),S.command("Overlay.open",{html:x,immutable:!1}).done(function(e){b=!0,S.command("hideSearchButton"),y?(x.parent("div").addClass("cx-search-overlay-mobile"),x.addClass("cx-mobile"),x.removeClass("cx-overlay"),x.find(".cx-button-ask").html(d.Generate.Icon("search")),f(),g()):x.addClass("cx-desktop"),T=d.Generate.Scrollbar(x.find(".cx-container-result-wrapper")[0]),x.find(".cx-input-question").focus(),e.events.close&&S.subscribe(e.events.close,function(){b=!1,S.publish("closed")}),S.publish("opened"),t.deferred.resolve()}).fail(function(){t.deferred.reject("Could not open")}))}),S.subscribe("App.closeAll",function(){S.command("close")}),S.subscribe("SideBar.ready",function(){C=!0,S.command("hideSearchButton",{duration:0}),S.command("SideBar.addButton",{button:{name:c.SidebarButton,title:c.SidebarButton,icon:"knowledge-center",class:"cx-search"}}).done(function(e){S.subscribe(e.event,function(){S.command("open")})}).fail(function(){})}),S.subscribe("App.i18n",function(e){"object"==typeof e.data.search&&(s.extend(E.i18n_messages,e.data.search),s.extend(c,e.data.search)),S.command("showSearchButton")}),S.subscribe("App.ready",function(e){e.data.knowledgecenter&&e.data.knowledgecenter.search&&S.command("configure",e.data.knowledgecenter.search)}),S.subscribe("App.mobileMode",function(){s(window).on("orientationchange",f),s(window).on("resize",f),y=!0,f()}),S.republish("ready"))}),function(e){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("textfill",["jquery"],e):e(jQuery)}(function(e){var p;(p=e).fn.textfill=function(e){function l(){h.debug&&"undefined"!=typeof console&&void 0!==console.debug&&console.debug.apply(console,arguments)}function d(e,t,n,i,a,r){function o(e,t){var n=" / ";return t<e?n=" > ":e==t&&(n=" = "),n}l("[TextFill] "+e+" { font-size: "+t.css("font-size")+",Height: "+t.height()+"px "+o(t.height(),n)+n+"px,Width: "+t.width()+o(t.width(),i)+i+",minFontPixels: "+a+"px, maxFontPixels: "+r+"px }")}function u(e,t,n,i,a,r,o,s){for(d(e,t,a,r,o,s);o<s-1;){var c=Math.floor((o+s)/2);if(t.css("font-size",c),n.call(t)<=i){if(o=c,n.call(t)==i)break}else s=c;d(e,t,a,r,o,s)}return t.css("font-size",s),n.call(t)<=i&&d(e+"* ",t,a,r,o=s,s),o}var h=p.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},e);return l("[TextFill] Start Debug"),this.each(function(){var e=p(h.innerTag+":visible:first",this),t=h.explicitHeight||p(this).height(),n=h.explicitWidth||p(this).width(),i=e.css("font-size"),a=parseFloat(e.css("line-height"))/parseFloat(i);l("[TextFill] Inner text: "+e.text()),l("[TextFill] All options: ",h),l("[TextFill] Maximum sizes: { Height: "+t+"px, Width: "+n+"px }");var r=h.minFontPixels,o=h.maxFontPixels<=0?t:h.maxFontPixels,s=void 0;h.widthOnly||(s=u("Height",e,p.fn.height,t,t,n,r,o));var c=u("Width",e,p.fn.width,n,t,n,r,o);h.widthOnly?(e.css({"font-size":c,"white-space":"nowrap"}),h.changeLineHeight&&e.parent().css("line-height",a*c+"px")):(r=Math.min(s,c),e.css("font-size",r),h.changeLineHeight&&e.parent().css("line-height",a*r+"px")),l("[TextFill] Finished { Old font-size: "+i+", New font-size: "+e.css("font-size")+" }"),e.width()>n||e.height()>t&&!h.widthOnly?(e.css("font-size",i),h.fail&&h.fail(this),l("[TextFill] Failure { Current Width: "+e.width()+", Maximum Width: "+n+", Current Height: "+e.height()+", Maximum Height: "+t+" }")):h.success?h.success(this):h.callback&&(function(){"undefined"!=typeof console&&void 0!==console.warn&&console.warn.apply(console,arguments)}("callback is deprecated, use success, instead"),h.callback(this))}),h.complete&&h.complete(this),l("[TextFill] End Debug"),this}}),__cx.define("text!plugins/cx-call-us/html/cx-call-us.html",[],function(){return'<div>\r\n\r\n\t<div class="cx-alert chat-end">\r\n\t\t<div class="cx-wrapper">\r\n\t\t\t<p class="i18n" data-message="" tabindex="0">\r\n\t\t\t</p>\r\n\t\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="cx-content" tabindex="0">\r\n\t\t<div class="cx-wrapper wrapper">\r\n\t\t\t<div class="cx-main-phone"></div>\r\n\t\t\t<div class="cx-alt-phones"></div>\r\n\t\t\t<div class="cx-availability">\r\n\t\t\t\t<div class="cx-hours"></div>\r\n\t\t\t\t<div class="cx-ewt">Available</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'}),__cx.define("text!plugins/cx-call-us/html/contact.html",[],function(){return'<div>\n\t<div class="cx-phone-title"><span class="i18n"></span></div>\n\t<div class="cx-phone-number"><span class="i18n"></span></div>\n</div>'}),__cx.define("text!plugins/cx-call-us/html/co-browse.html",[],function(){return'<div class="cx-dialog cx-dialog-cobrowse" data-dialog="cobrowse">\n\n\t<div class="cx-message i18n" data-message="CoBrowseWarning"></div>\n\t\n\t<div class="cx-button-group cx-buttons-binary cx-bottom-browse">\n\t\t<button class="i18n cx-btn cx-btn-default cx-cancel" data-message="CancelButtonText"></button>\n\n\t\t<span class="right">\n\t\t\t<button class="i18n cx-btn cx-btn-primary" data-message="CoBrowse"></button>\n\t\t</span>\n\t</div>\n\n</div>'}),__cx.define("plugins/cx-call-us/nls/string.js",{CallUsTitle:"Call Us",ContactsHeader:"You can reach us at any of the following numbers...",CancelButtonText:"Cancel",CoBrowseText:"<span class='cx-cobrowse-offer'>Already on a call? Let us <a href='javascript:void(0);' class='cx-cobrowse-link'>browse with you</a></span>",CoBrowse:"Start Co-browse",CoBrowseWarning:"Co-browse allows your agent to see and control your desktop, to help guide you. When on a live call with an Agent, request a code to start Co-browse and enter it below. Not yet on a call? just cancel out of this screen to return to Call Us page.",SubTitle:"You can reach us at any of the following numbers..."}),__cx.define("cx-call-us",["jquery","cx-bus","text!./plugins/cx-call-us/html/cx-call-us.html","text!./plugins/cx-call-us/html/contact.html","text!./plugins/cx-call-us/html/co-browse.html","./plugins/cx-call-us/nls/string.js","cx-common","cx-iscroll","textfill"],function(r,e,t,o,i,s,a){"use strict";function c(){var e,t;f&&(e=r(window).height(),t=r(window).width(),u.removeClass("cx-portrait cx-landscape"),u.addClass(t<e?"cx-portrait":"cx-landscape"),u.find(".cx-titlebar").outerHeight(),u.find(".cx-footer").outerHeight(),u=a.mobileScreenScale(u),h=a.mobileScreenScale(h))}function l(){u&&h&&(a.updateTemplateI18n(u,s),a.updateTemplateI18n(h,s))}function d(){v&&(n?u.find(".cx-cobrowse-offer").fadeIn():u.find(".cx-cobrowse-offer").fadeOut(),b?r("button.cx-btn-primary",u).attr("disabled",!0):r("button.cx-btn-primary",u).attr("disabled",!1))}var u,h,p,f,m,g,n,v,b,x=e.registerPlugin("CallUs");x&&(u=r(),h=r(),f=p=!1,m=[],b=v=n=!(g=[]),x.registerCommand("open",function(n){p?n.deferred.reject("Already opened"):(u=a.Generate.Container({type:"overlay",classes:"cx-call-us",i18n:"CallUsTitle",body:t,icon:"call-outgoing",controls:"close",subtitle:s.SubTitle,buttons:{type:"default",secondary:s.CancelButtonText,text:s.CoBrowseText}}),h=r(i),a.populateAllPlaceholders(h,s),u.find(".cx-button-close").click(function(){x.command("close")}),u.find("> .cx-button-container .cx-btn-default").click(function(){x.command("close")}),u.find("> .cx-button-container .cx-cobrowse-link").click(function(){a.showDialog(u,"cobrowse")}),a.addDialog(u,h,"cobrowse"),h.find(".cx-btn-default").click(function(){a.hideDialogs(u)}),h.find("button.cx-btn-primary").click(function(){x.command("CoBrowse.start")}),l(),x.command("Overlay.open",{html:u,immutable:!1}).done(function(e){var i,a,t;p=!0,e.events.close&&x.subscribe(e.events.close,function(){p=!1,x.publish("closed")}),f&&c(),i=u.find(".cx-main-phone").empty(),a=u.find(".cx-alt-phones").empty(),t=u.find(".cx-hours").empty(),r.each(m,function(e){var t=r(o),n="";this.i18n&&s[this.i18n]?(n=s[this.i18n],t.find(".cx-phone-title span").data({message:this.i18n})):this.displayName&&(n=this.displayName),t.find(".cx-phone-title span").html(n),t.find(".cx-phone-number span").html("<a href='tel:"+this.number.replace(/\ /gi,"")+"'>"+this.number+"</a>"),(0===e?i:a).append(t)}),r.each(g,function(){t.append(r("<div class='i18n'>"+this+"</div>"))}),u.find(".cx-main-phone .cx-phone-title").textfill({maxFontPixels:36}),u.find(".cx-main-phone .cx-phone-number").textfill({maxFontPixels:36}),u.find(".cx-alt-phones .cx-phone-title").textfill({maxFontPixels:13}),v=u.find(".co-browse-footer"),d(),x.publish("opened"),n.deferred.resolve()}).fail(function(){n.deferred.reject("Could not open")}))}),x.registerCommand("close",function(e){p?x.command("Overlay.close").done(function(){p=!1,u.remove(),h.remove(),x.publish("closed"),e.deferred.resolve()}).fail(function(){e.deferred.reject("Could not close")}):e.deferred.reject("Already closed")}),x.registerCommand("configure",function(e){var t=e.data;t?(t.contacts&&0!==t.contacts.length&&"object"==typeof t.contacts&&(m=t.contacts),t.hours&&0!==t.hours.length&&"object"==typeof t.hours&&(g=t.hours),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),x.subscribe("App.i18n",function(e){"object"==typeof e.data.callus&&(r.extend(!0,s,e.data.callus),l())}),x.subscribe("App.ready",function(e){e.data.callus&&x.command("configure",e.data.callus)}),x.subscribe("App.mobileMode",function(){r(window).on("orientationchange",c),r(window).on("resize",c),c(),f=!0}),x.subscribe("App.closeAll",function(){x.command("close")}),x.subscribe("App.theme",function(){x.command("App.reTheme",{html:u}),x.command("App.reTheme",{html:h})}),x.subscribe("WebChatService.agentConnected",function(){d()}),x.subscribe("WebChatService.agentDisconnected",function(e){e.data.numAgentsConnected,d()}),x.subscribe("CoBrowse.online",function(){n=!0,d()}),x.subscribe("CoBrowse.started",function(){a.hideDialog(u,"cobrowse"),b=!0,d()}),x.subscribe("CoBrowse.stopped",function(){b=!1,d()}),x.republish("ready"))}),__cx.define("cx-cobrowse",["jquery","cx-bus","cx-common"],function(r,e){"use strict";var o,s,t,c,l,d,u,n,h,p=e.registerPlugin("CoBrowse");p&&(p.registerEvents(["ready","online","started","stopped"]),s=o=!1,u=d=l=c=!(t={}),n=function(){d&&(u=d=!1)},h=!3e3,window._genesys||(window._genesys={}),window._genesys.buttons||(window._genesys.buttons={}),window._genesys.cobrowse||(window._genesys.cobrowse={}),p.registerCommand("start",function(e){d?e.deferred.reject("A previous Cobrowse session is still waiting to start"):c?(d=!0,h=setTimeout(n,3e3),u=e.commander,c.startSession(),e.deferred.resolve()):e.deferred.reject("API is not available")}),p.registerCommand("stop",function(e){c?(c.exitSession(),e.deferred.resolve()):e.deferred.reject("API is not available")}),p.registerCommand("open",function(e){c?(c.startSession(),e.deferred.resolve()):e.deferred.reject("Cobrowse is not available")}),p.registerCommand("close",function(e){c?(c.exitSession(),e.deferred.resolve()):e.deferred.reject("Cobrowse is not open")}),p.registerCommand("configure",function(e){var t,n,i,a;"object"==typeof e.data?("string"==typeof e.data.src&&(o=e.data.src,delete e.data.src),"string"==typeof e.data.url&&(s=e.data.url,delete e.data.url),r.extend(!0,window._genesys.cobrowse,e.data,{disableBuiltInUI:!1,onReady:function(e,t){t&&((c=e).onInitialized.add(function(e){p.republish("online",e),e&&e.token&&p.publish("started",e)}),c.onSessionStarted.add(function(e){d=!1,e.widgetOrigin=u,u=!1,clearTimeout(h),p.publish("started",e)}),c.onSessionEnded.add(function(e){d=!1,p.publish("stopped",e)}))},primaryMedia:{initializeAsync:function(e){e()},isAgentConnected:function(){return"cx.plugin.WebChat"==u&&l},sendCbSessionToken:function(){}}}),window._genesys.buttons={chat:!1,cobrowse:!1},t=document,n="genesys-js",i={enabled:!0,src:o,cbUrl:s,i18n_URL:"genesys-cobrowse-i18n.json"},a=t.getElementsByTagName("script")[0],t.getElementById(n)||((t=t.createElement("script")).id=n,t.src=i.src,t.setAttribute("data-gcb-url",i.cbUrl),a.parentNode.insertBefore(t,a)),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),p.subscribe("WebChatService.agentConnected",function(){l=!0}),p.subscribe("WebChatService.agentDisconnected",function(e){l=0!==e.data.numAgentsConnected}),p.subscribe("App.closeAll",function(){p.command("close")}),p.subscribe("App.i18n",function(e){"object"==typeof e.data.cobrowse&&(r.extend(t,e.data.cobrowse),window._genesys.cobrowse.localization=function(e){e(t)})}),p.subscribe("App.ready",function(e){e.data.cobrowse&&p.command("configure",e.data.cobrowse)}),p.republish("ready"))}),__cx.define("cx-gwe",["jquery","cx-bus","cx-common"],function(i,e,t){"use strict";function a(){if(_)for(var e in T)if(T[e].opened)return 1}function r(n){var e;a()?_gt.push(["event","Disposition",{data:{actionID:n.actionID,engagementID:n.engagementID,media:n.type,result:"error",code:"mediaBusy"}}]):(e={type:"generic",title:n.subject||"Need help?",body:n.message||"Let us know if we can help out.",icon:"cx-img-map preset-blue px48 chat",controls:"close",buttons:{type:"binary",primary:n.acceptBtnCaption||"Start chat",secondary:n.cancelBtnCaption||"No thanks"}},h.command("Toaster.open",e).done(function(e){e.html&&(o(),(m=i(e.html)).find(".cx-btn.cx-btn-primary").click(function(){k.countdownEvent&&h.unsubscribe(k.countdownEvent),h.command("Toaster.close").done(function(){l(y.ACCEPT);var t={},e=n.chatOptions;!1===e.registration&&"object"==typeof e.userData&&(t.autoSubmit=!0,t.firstname=e.userData.firstName,t.lastname=e.userData.lastName,t.email=e.userData.email),_gt.push(["getIDs",function(e){f=e,h.command("WebChat.open",{attachedData:{visitID:e.visitID,pageID:e.pageID,webengagement:""},form:t})}]),o()})}),m.find(".cx-btn.cx-btn-default").click(function(){k.countdownEvent&&h.unsubscribe(k.countdownEvent),o(),l(y.CANCEL)}),m.find(".cx-button-close").click(function(){k.countdownEvent&&h.unsubscribe(k.countdownEvent),o(),l(y.CANCEL)}),h.command("Watchman.countdown",{time:parseInt(n.inviteTimeout)||30}).done(function(e){k.countdownEvent=e,h.subscribe(e,function(){l(y.TIMEOUT),!m||m&&h.command("Toaster.close").done(function(){o()})})})),x=!0}).fail(function(){}))}function n(){return g?h.command("Toaster.close").done(function(){s()}):void 0}function o(){m&&(m.remove(),m=!1)}function s(){g&&(g.remove(),v=g=!1)}function c(t,n,i,a){_gt.push(f?["event","Disposition",{data:{actionID:a,engagementID:i,result:t,media:n}}]:["getIDs",function(e){f=e,_gt.push(["event","Disposition",{data:{actionID:a,engagementID:i,result:t,media:n}}])}]),b=!1}function l(t){_gt.push(["getIDs",function(e){f=e,i.ajax({type:"GET",crossDomain:!0,url:(p.httpEndpoint||p.httpsEndpoint)+"/server/data/invites",xhrFields:{withCredentials:!0},data:{result:t,media:"chat",visitID:e.visitID,pageID:e.pageID,alias:e.alias,engagementID:C,webengagement:""}}).done(function(){})}]),x=!1}function d(){x&&l(y.PAGE_EXIT),b&&(c(v.dispositions.pageExit.code,v.media,v.engagementID,v.actionID),v.dispositions.pageExit.command&&h.command(v.dispositions.pageExit.command,v.dispositions.pageExit.data))}window._gt=window._gt||[];function u(e){_gt.push(["event",e.event.replace("cx.plugin.","")])}var h=e.registerPlugin("GWE"),p={},f=!1,m=!1,g=!1,v=!1,b=!1,x=!1,y={ACCEPT:"accept",TIMEOUT:"timeout",PAGE_EXIT:"pageExit",CANCEL:"cancel"},w={"WebChatService.error":!0,"WebChatService.clientConnected":!0,"WebChatService.agentConnected":!0,"WebChatService.started":!0,"WebChatService.ended":!0,"WebChatService.disconnected":!0,"WebChat.opened":!0,"WebChat.closed":!0,"SendMessageService.error":!0,"SendMessage.opened":!0,"SendMessage.closed":!0,"CoBrowse.started":!0,"CoBrowse.stopped":!0,"CallbackService.scheduled":!0,"CallbackService.scheduleError":!0,"CallbackService.availabilityError":!0,"Callback.opened":!0,"Callback.closed":!0,"CallUs.opened":!0,"CallUs.closed":!0,"ChannelSelector.opened":!0,"ChannelSelector.closed":!0},C="",k={countdownEvent:null},_=!0,T={WebChat:{opened:!1},SendMessage:{opened:!1},Callback:{opened:!1},CallUs:{opened:!1}};if(h){for(var S in T)h.subscribe(S+".opened",function(){T[S].opened=!0}),h.subscribe(S+".closed",function(){T[S].opened=!1});h.registerEvents(["ready"]),h.registerCommand("configure",function(e){if("cx.plugin.GWE"==e.commander||"cx.plugin.App"==e.commander)if(e.data){if(e.data.httpEndpoint||e.data.httpsEndpoint){for(var t in p=e.data,_gt.push(["config",p]),_gt.push(["getIDs",function(e){f=e}]),_gt.push(["on","notificationMessage",function(e){return"gpe.setVariable"===e.channel&&"chat"===e.data.value.type?(C=e.data.value.engagementID,r(e.data.value),!1):"gpe.setVariable"===e.channel&&"offers"===e.data.value.type?(C=e.data.value.engagementID,t=e.data.value,h.command("Offers.configure",t).done(function(){h.command("Offers.open").done(function(){})}),!1):("gpe.setVariable"===e.channel&&"sendmessage"===e.data.value.type&&(C=e.data.value.engagementID,e.data.value,h.command("SendMessage.open").done(function(){})),"gpe.appendContent"!==e.channel&&("CXBus"===e.channel?(h.command("Remote.execute",e.data||{}),!1):void 0));var t}]),"object"==typeof e.data.trackedEvents&&(w=i.extend(w,e.data.trackedEvents)),!1===e.data.smartInvites&&(_=!1),1,w)!0===w[t]&&h.subscribe(t,u);document.getElementById("_gt")||((n=document.createElement("script")).id="_gt",n.src=(p.httpEndpoint||p.httpsEndpoint)+"/server/resources/js/build/GTCJ.min.js",(document.getElementsByTagName("head")[0]||document.body).appendChild(n)),window.addEventListener&&i(window).on("beforeunload",d),window.attachEvent&&(window.attachEvent("onbeforeunload",d),window.attachEvent("onunload",d))}e.deferred.resolve()}else e.deferred.reject("Invalid configuration");else e.deferred.reject("Forbidden: Access Denied");var n}),h.registerCommand("getIDs",function(t){f?t.deferred.resolve(f):_gt.push(["getIDs",function(e){f=e,t.deferred.resolve(f)}])}),h.registerCommand("invite",function(e){var t;t=e.data,a()?_gt.push(["event","Disposition",{data:{actionID:t.actionID,engagementID:t.engagementID,media:t.media,result:"error",code:"mediaBusy"}}]):((e=(v=t).container||{})==={}&&t.content&&(e.type="custom"),e.body=t.content,h.command("Toaster.open",e).done(function(e){e.html&&(s(),(g=i(e.html)).find(".cx-btn.cx-btn-primary").click(function(){g.data("timeout",""),c(t.dispositions.accept.code,t.media,t.engagementID,t.actionID),n().done(function(){t.dispositions.accept.command&&h.command(t.dispositions.accept.command,t.dispositions.accept.data)})}),g.find(".cx-btn.cx-btn-default").click(function(){g.data("timeout",""),c(t.dispositions.cancel.code,t.media,t.engagementID,t.actionID),n(),t.dispositions.cancel.command&&h.command(t.dispositions.cancel.command,t.dispositions.cancel.data)}),g.find(".cx-button-close").click(function(){g.data("timeout",""),c(t.dispositions.cancel.code,t.media,t.engagementID,t.actionID),t.dispositions.cancel.command&&h.command(t.dispositions.cancel.command,t.dispositions.cancel.data)}),h.command("Watchman.countdown",{time:parseInt(t.timeout/1e3)||30}).done(function(e){g.data("timeout",e),t.dispositions.timeout.code&&h.subscribe(e,function(){b&&g.data("timeout")==e&&(k.countdownEvent&&h.unsubscribe(k.countdownEvent),c(t.dispositions.timeout.code,t.media,t.engagementID,t.actionID),n().done(function(){t.dispositions.timeout.command&&h.command(t.dispositions.timeout.command,t.dispositions.timeout.data)}))})}),b=!0)}).fail(function(){}))}),h.command("configure",t.checkPath(window,"_genesys.cxwidget.gwe")||t.checkPath(window,"_genesys.widgets.gwe")||{}),h.subscribe("App.closeAll",function(){}),h.republish("ready")}}),__cx.define("cx-watchman",["jquery","cx-bus"],function(e,t){"use strict";var n,a,r,o,s,c,l=t.registerPlugin("Watchman");l&&(l.registerEvents(["ready"]),setInterval(function(){var e,t,n,i=(new Date).getTime();for(e in++a.Idle>=c.Idle&&l.publishDirect("idle:"+a.Idle),r)0==--r[e]&&(l.publishDirect(e),delete r[e]);for(t in o)i>=o[t]&&(l.publishDirect(t),delete o[t]);for(n in s)++s[n].elapsed==s[n].time&&(s[n].elapsed=0,l.publishDirect(n));l.publishDirect("uptime:"+ ++a.Uptime),l.publishDirect("tick")},1e3),n=(new Date).getTime(),a={Uptime:0,Idle:0},r={},o={},s={},c={Idle:5},t=function(){a.Idle=0},e(document).on("mousemove.idle",t).on("touchmove.idle",t).on("keyup.idle",t).on("scroll.idle",t),l.registerCommand("countdown",function(e){if(1<=parseInt(e.data.time)){for(var t=1,n=l.parsePluginName(e.commander),i="countdown:"+n+":"+e.data.time+"#"+t;r[i];)i="countdown:"+n+":"+e.data.time+"#"+ ++t;r[i]=parseInt(e.data.time),e.deferred.resolve("Watchman."+i)}else e.deferred.reject()}),l.registerCommand("alarm",function(e){if(1==parseInt(parseInt(e.data.time)/1e12)){for(var t=1,n=l.parsePluginName(e.commander),i="alarm:"+n+":"+e.data.time+"#"+t;o[i];)i="alarm:"+n+":"+e.data.time+"#"+ ++t;o[i]=parseInt(e.data.time),e.deferred.resolve("Watchman."+i)}else e.deferred.reject()}),l.registerCommand("interval",function(e){if(1<=parseInt(e.data.time)){for(var t=1,n=l.parsePluginName(e.commander),i="interval:"+n+":"+e.data.time+"#"+t;s[i];)i="interval:"+n+":"+e.data.time+"#"+ ++t;s[i]={time:parseInt(e.data.time),elapsed:0},e.deferred.resolve("Watchman."+i)}else e.deferred.reject()}),l.registerCommand("uptime",function(e){e.deferred.resolve({seconds:a.Uptime,minutes:a.Uptime/60,hours:a.Uptime/60/60})}),l.registerCommand("idle",function(e){e.deferred.resolve(a.Idle)}),l.registerCommand("startTime",function(e){e.deferred.resolve(n)}),l.registerCommand("time",function(e){e.deferred.resolve((new Date).getTime())}),l.republish("ready"))}),__cx.define("text!plugins/cx-send-message/html/cx-send-message.html",[],function(){return'<div role="alertdialog" class="cx-alert cx-confirmation cx-send-failed cx-theme-background">\r\n\t<div class="cx-error-container"></div>\r\n\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t<button class="cx-failed-retry cx-btn cx-btn-primary i18n" data-message="EmailOk"></button>\r\n\t</div>\r\n</div>\r\n\r\n<div role="alertdialog" class="cx-alert cx-send-msg-end cx-confirmation cx-theme-background" >\r\n\t<div class="cx-wrapper">\r\n\t\t<p class="i18n" data-message="SendMsgConfirmation" tabindex="0"></p>\r\n\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t<button class="cx-end-cancel cx-btn cx-btn-default i18n" data-message="SendMsgFormCancel" tabindex="0"></button>\r\n\t\t\t<button class="cx-end-confirm cx-btn cx-btn-primary i18n" data-message="SendMsgFormClose" tabindex="0"></button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="cx-spinner">\r\n\t<div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n\t\t<div class="cx-spin-circle"></div>\r\n\t\t<div class="cx-spin-inner-circle"></div>\r\n\t</div>\r\n</div>\r\n\r\n<form class="cx-form-horizontal cx-send-message-form" data-async enctype="multipart/form-data" role="form" novalidate>\r\n\t<div class="cx-wrapper" tabindex="0">\r\n\t\t<div class="cx-form">\r\n\r\n\t\t\t<div class="cx-form-inputs">\r\n\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_sendmessage_form_firstname" data-message="EmailFormFirstName"></label></th>\r\n\t\t\t\t\t\t<td><input class="cx-form-control i18n" id="cx_sendmessage_form_firstname" maxlength="100" name="firstname" type="text" data-message="EmailFormPlaceholderFirstName" data-message-type="placeholder" autofocus/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_sendmessage_form_lastname" data-message="EmailFormLastName"></label></th>\r\n\t\t\t\t\t\t<td><input class="cx-form-control i18n" id="cx_sendmessage_form_lastname" maxlength="100" name="lastname" type="text" data-message="EmailFormPlaceholderLastName" data-message-type="placeholder"/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_sendmessage_form_email" data-message="EmailFormEmail"></label></th>\r\n\t\t\t\t\t\t<td><input class="cx-form-control i18n" id="cx_sendmessage_form_email" maxlength="100" name="email" type="email" data-message="EmailFormPlaceholderEmail" data-message-type="placeholder"/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_sendmessage_form_subject" data-message="EmailFormSubject"></label></th>\r\n\t\t\t\t\t\t<td><input class="cx-form-control i18n" id="cx_sendmessage_form_subject" maxlength="100" name="subject" type="text" data-message="EmailFormPlaceholderSubject" data-message-type="placeholder"/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\r\n\t\t\t\t<div class="cx-form-group">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<textarea id="cx_sendmessage_form_messagebody" name="cx_sendmessage_form_messagebody" class="cx-form-control i18n" rows="2" data-message-type="placeholder" data-message="EmailFormPlaceholderTypetexthere" ></textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-form-group cx-file-details">\r\n\t\t\t\t<div class="cx-file-list" cellspacing="0" cellpadding="0"></div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-form-group cx-submitForm">\r\n\t\t\t\t<div class="cx-left-half">\r\n\t\t\t\t\t<span class="cx-icon cx-attach cx-theme-icon-interactive1" data-icon="attach"></span>\r\n\t\t\t\t\t<a href="" class="i18n cx_file_upload_link" data-message="EmailFormAttachfiles"></a>\r\n\t\t\t\t\t<label class="cx-file-size"></label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="cx-right-half">\r\n\t\t\t\t\t<button data-message="EmailFormSend" class="cx-btn cx-btn-primary cx-submit i18n"></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t\t<div class="cx-form-success">\r\n\t\t\t<span class="cx-icon cx-theme-icon-positive" data-icon="alert-checkmark"></span>\r\n\t\t\t<label data-message="EmailFormSent" class="cx-control-label i18n"><span data-message="EmailFormClose" class="cx-close-tag i18n"></span></label>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<input type="file" name="fileUploadField[]" class="cx-fileUploadField" multiple=""/>\r\n\r\n</form>'}),__cx.define("text!plugins/cx-send-message/html/cx-send-message-button.html",[],function(){return'<div class="cx-widget cx-send-message-button cx-side-button" data-message="SendMessageButton" data-gcb-service-node="true">\r\n\t<span class="cx-icon"></span>\r\n\t<span class="i18n cx-send-message-button-label" data-message="SendMessageButton"></span>\r\n</div>'}),__cx.define("text!plugins/cx-send-message/html/cx-error.html",[],function(){return'<div>\r\n\t<p class="i18n cx-fail-message"></p>\r\n</div>'}),__cx.define("text!plugins/cx-send-message/html/cx-send-message-file-row.html",[],function(){return'<div class="cx-file-fragment">\n\t<div class="cx-icon cx-file-icon" data-icon="doc-generic-solid"></div>\n\t<div class="cx-file-name"></div>\n\t<div class="cx-icon cx-remove-file cx-theme-icon-interactive1" data-icon="close-circle"></div>\n</div>'}),__cx.define("plugins/cx-send-message/nls/string.js",{SendMessageButton:"Send Message",EmailOk:"OK",EmailFormPlaceholderFirstName:"Required",EmailFormPlaceholderLastName:"Required",EmailFormPlaceholderEmail:"Required",EmailFormPlaceholderSubject:"Required",EmailFormPlaceholderTypetexthere:"Type your message here...",EmailFormFirstName:"First Name",EmailFormLastName:"Last Name",EmailFormEmail:"Email",EmailFormSubject:"Subject",EmailFormAttachfiles:"Attach files",EmailFormSend:"Send",EmailFormSent:"Your message has been sent...",EmailFormClose:"Close",ConfirmCloseWindow:"Are you sure you want to close the Send Message widget?",SendMsgFormCancel:"Cancel",SendMsgFormClose:"Close",Errors:{connectionError:"Unable to reach server. Please try again.",unknowError:"Something went wrong, we apologize for the inconvenience. Please check your connection settings and try again.",attachmentsLimit:"Total number of attachments exceeds limit: ",attachmentsSize:"Total size of attachments exceeds limit: ",invalidFileType:"Unsupported file type. Please upload images, PDFs, text files and ZIPs.",invalidFromEmail:"Invalid email - From address.",invalidMailbox:"Invalid email - To address.",102:"First Name required",103:"Last Name required",104:"Subject required",181:"Email address required",182:"Message text content required"}}),__cx.define("cx-send-message",["jquery","cx-bus","text!./plugins/cx-send-message/html/cx-send-message.html","text!./plugins/cx-send-message/html/cx-send-message-button.html","text!./plugins/cx-send-message/html/cx-error.html","text!./plugins/cx-send-message/html/cx-send-message-file-row.html","cx-common","cx-iscroll","./plugins/cx-send-message/nls/string.js"],function(o,e,a,t,s,r,c,n,l){"use strict";function d(e){return C.find(e)}var u=e.registerPlugin("SendMessage"),h={i18n_messages:{},formValidation:!0,SendMessageButton:{enabled:!1,template:t,openDelay:1e3,effect:"fade",effectDuration:300}},p={};u.registerEvents(["ready","opened","closed","minimized","unminimized"]);function f(){console.log("updateFilesize",_);var n=0;o.each(_||[],function(e,t){n+=parseInt(t.size)}),d(".cx-file-size").text(0<n?I(n):"")}function m(){d("form[data-async]").addClass("cx-parentDisable"),d(".cx-form, .cx-submit").attr("disabled",!0)}function g(){d("form[data-async]").removeClass("cx-parentDisable"),d(".cx-form, .cx-submit").attr("disabled",!1)}function v(){var e=this.files,t=e.length,i=d(".cx-file-details"),a=d(".cx-file-list");return d(".cx-file-details").show(),0<t&&(o.each(e,function(e,n){var t=o(r);t.find(".cx-file-name").append(n.name).attr("title",n.name),a.append(t),t.find(".cx-remove-file").click(function(){t.remove(),o.each(_,function(e,t){t==n&&(_.splice(e,1),f())}),0===_.length&&i.hide(),y.refresh()}),_.push(n)}),f(),y.refresh(),j(),c.populateAllPlaceholders(i)),y.scrollToElement(".cx-submitForm",1200,null,null,n.utils.ease.elastic),this.value=null,!1}function b(){"object"==typeof h.i18n_messages&&C&&d(".i18n").each(function(){var e=o(this);"placeholder"===e.data("cx-message-type")?e.attr("placeholder",l[e.data("message")]):e.text(h.i18n_messages[e.data("message")])})}function x(e){var a;console.debug("showAdvice",e),e&&k&&(a=h.i18n_messages.ErrorUnknownServer||l.Errors.unknowError,o.each(e,function(e,t){var n=o(s),i=n.find(".cx-fail-message");switch(t.code){case 201:i.append((l.ErrorAttachfileslimit||l.Errors.attachmentsLimit)+t.advice+"<br>");break;case 202:i.append((l.ErrorAttachfileSizeMax||l.Errors.attachmentsSize)+I(t.advice)+"<br>");break;case 203:i.append((l.ErrorInvalidFileType||l.Errors.invalidFileType)+"<br>");break;case 381:i.append((l.ErrorInvalidFromEmail||l.Errors.invalidFromEmail)+"<br>");break;case 383:i.append((l.ErrorInvalidMailbox||l.Errors.invalidMailbox)+"<br>");break;case 102:i.append((l.NoFirstName||l.Errors[t.code])+"<br>");break;case 103:i.append((l.NoLastName||l.Errors[t.code])+"<br>");break;case 104:i.append((l.NoSubject||l.Errors[t.code])+"<br>");break;case 181:i.append((l.NoEmail||l.Errors[t.code])+"<br>");break;case 182:i.append((l.NoTextContent||l.Errors[t.code])+"<br>");break;default:i.append(a+"<br>")}d(".cx-error-container").append(n)}))}var y,w,C,k,i,_,T,S,E,L,A,D,M,I=function(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0===n?e+" "+t[n]:(e/Math.pow(1024,n)).toFixed(1)+" "+t[n]},j=function(){var e,t,n;E&&C&&(e=o(window).height(),n=o(window).width(),C.removeClass("cx-portrait cx-landscape"),C.addClass(n<e?"cx-portrait":"cx-landscape"),t=d(".cx-titlebar").outerHeight(),n=n<e?d(".cx-footer").outerHeight():0,d(".cx-body").height(e-t-n),y&&y.refresh())},N=function(){d(".cx-alert.cx-send-msg-end.cx-confirmation").show(),d(".cx-end-confirm").focus(),m()},P=function(){d(".cx-alert.cx-send-msg-end.cx-confirmation").hide(),g()},O=function(e){var t;P(),w?(t=e.deferred,C&&(C.animate({bottom:0-C.height()+"px"},{duration:500,done:function(){C.remove(),t&&t.resolve(),u.publish("closed")}}),u.command("showSendMessageButton"),T=w=!1)):e.deferred.reject("already closed")};u&&(w=!1,C=o(),k=o(),i=!1,E=S=T=!(_=[]),L=["cx_sendmessage_form_email","cx_sendmessage_form_firstname","cx_sendmessage_form_lastname","cx_sendmessage_form_subject","cx_sendmessage_form_messagebody"],A=o(h.SendMessageButton.template),D=!1,M=[],u.registerCommand("close",function(e){var t,n;n=!1,d("div.cx-form-group input, textarea").each(function(){return this.value?!(n=!0):void 0}),n?(t=e,N(),d("p").html(l.ConfirmCloseWindow),d(".cx-end-cancel").html(l.SendMsgFormCancel).click(function(){P()}),d(".cx-end-confirm").html(l.SendMsgFormClose).click(function(){O(t)}),d(".cx-alert.cx-send-msg-end").show(),d(".cx-end-confirm").focus(),t.deferred.reject("Form still contains values. Cannot close until user confirms")):O(e)}),u.registerCommand("configure",function(e){var t;e.data?("boolean"==typeof e.data.formValidation&&(h.formValidation=e.data.formValidation),"object"==typeof e.data.SendMessageButton&&("boolean"==typeof(t=e.data.SendMessageButton).enabled&&(h.SendMessageButton.enabled=t.enabled),"number"==typeof t.openDelay&&(h.SendMessageButton.openDelay=parseInt(t.openDelay)),"string"==typeof t.template&&(h.SendMessageButton.template=t.template),"string"==typeof t.effect&&(h.SendMessageButton.effect=t.effect),"number"==typeof t.effectDuration&&(h.SendMessageButton.effectDuration=parseInt(t.effectDuration)),"boolean"==typeof t.hideDuringInvite&&(h.SendMessageButton.hideDuringInvite=t.hideDuringInvite),(A=o(h.SendMessageButton.template)).click(function(){u.command("open")}),A.find(".cx-icon").html(c.Generate.Icon("email")),h.SendMessageButton.enabled&&u.command("showSendMessageButton")),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),u.registerCommand("showSendMessageButton",function(t){var e,n;h.SendMessageButton.enabled&&!i?S?t.deferred.reject("Send Message button is already visible. Ignoring command."):(e=t.data&&"number"==typeof t.data.openDelay?parseInt(t.data.openDelay):h.SendMessageButton.openDelay,n=t.data&&"number"==typeof t.data.duration?parseInt(t.data.duration):h.SendMessageButton.effectDuration,A.find(".i18n").each(function(){o(this).data("message")&&o(this).html(l[o(this).data("message")])}),D=setTimeout(function(){D=!1,u.command("WindowManager.registerSideButton",{template:A}).done(function(){if(0===n)A.show(),A.show().css({width:"auto"});else switch(h.SendMessageButton.effect){case"slide":A.show().css({width:"auto"});var e=A.width()+"px";A.show().css({width:0}),A.animate({width:e},n,function(){S=!0,t.deferred.resolve()});break;case"fade":A.fadeIn(n,function(){S=!0,t.deferred.resolve()});break;default:A.show(),t.deferred.resolve()}})},e)):t.deferred.reject("SideBar is active and overrides the default Send Message button")}),u.registerCommand("hideSendMessageButton",function(e){if(S||D)if(D&&clearTimeout(D),0===t)A.hide(),A.detach();else{var t=e.data&&"number"==typeof e.data.duration?parseInt(e.data.duration):h.SendMessageButton.effectDuration;switch(h.SendMessageButton.effect){case"slide":A.animate({width:0},t,function(){S=!1,A.detach(),e.deferred.resolve()});break;case"fade":A.fadeOut(t,function(){A.detach(),S=!1,e.deferred.resolve()});break;default:A.hide(),A.detach(),e.deferred.resolve()}}else e.deferred.reject("Send Message button is already hidden. Ignoring command.")}),u.registerCommand("open",function(e){var t,n,i;w?e.deferred.reject("Already open"):(w=!0,u.command("hideSendMessageButton"),i="generic",C&&C.remove(),_=[],(C=c.Generate.Container({type:i,classes:"cx-send-message",title:h.i18n_messages.EmailFormSendMessageTitle||"Send Message",body:a,icon:"email",controls:"generic"==i?"all":"close",buttons:!1})).addClass("cx-send-message"),C.attr({"data-gcb-service-node":!0}),b(),k=d(".cx-body"),d(".cx-titlebar").click(function(){C.hasClass("cx-minimized")&&u.command("minimize")}),d(".cx-button-close").click(function(){u.command("close")}),d(".cx-close-tag").click(function(){u.command("close")}),d(".cx-button-minimize").click(function(){u.command("minimize")}),d(".cx_file_upload_link").on("click touchstart",function(e){e.preventDefault(),d("input[type='file']:hidden").trigger("click")}),d(".cx_file_upload_link").on("keydown",function(e){return 13==e.which?(e.preventDefault(),d("input[type='file']:hidden").trigger("click"),!0):void 0}),d("input[type='file']:hidden").on("change",v),d("input[type='text'], input[type='email'], .cx-submit").keydown(function(e){return 13==e.which?(e.preventDefault(),e.stopImmediatePropagation(),u.command("submit"),!0):void 0}),d("input, textarea").bind("focus",function(){y&&(y.refresh(),y.scrollToElement(o(this)[0],200))}),d("input[type='email']").on("change",function(e){e.target.validity.typeMismatch?(o(this).addClass("cx-error"),M[this.id]=!0):(o(this).removeClass("cx-error"),M[this.id]=!1),e.stopPropagation(),e.stopImmediatePropagation()}),y=c.Generate.Scrollbar(d(".cx-wrapper")[0]),k.find("textarea").on("cut paste drop keyup",function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+2+"px",y.refresh(),y.scrollToElement(o(this)[0],200)}),d("input, textarea").bind("keydown change",function(){o(this).removeClass("cx-error").removeClass("cx-error")}),c.populateAllPlaceholders(C,l),p=e.data.userData||{},t=e.deferred,n=e.data,C&&(u.command("WindowManager.registerDockView",{html:C,draggable:!0}).done(function(){var e;w=!0,E?(C.addClass("cx-mobile"),j()):C.addClass("cx-desktop"),n&&"object"==typeof n.form&&(e=n.form,o("#cx_sendmessage_form_firstname").val(e.firstname||""),o("#cx_sendmessage_form_lastname").val(e.lastname||""),o("#cx_sendmessage_form_email").val(e.email||""),o("#cx_sendmessage_form_subject").val(e.subject||""),o("#cx_sendmessage_form_messagebody").val(e.messagebody||""),!1===e.validation?h.formValidation=!1:(o("#cx_sendmessage_form_email").trigger("change"),h.formValidation=!0),!0===e.autoSubmit&&u.command("submit")),t&&t.resolve()}),c.populateAllPlaceholders(C,l)),y.refresh(),d("form[data-async]").on("submit",function(e){return e.preventDefault(),e.stopImmediatePropagation(),u.command("submit"),!1}),u.publish("opened"))}),u.registerCommand("minimize",function(e){C.hasClass("cx-dragged-off")?(C.attr("style",""),u.command("WindowManager.registerDockView",{html:C,draggable:!0})):(T?(C.hasClass("cx-minimized")&&(C.removeClass("cx-minimized").addClass("cx-maximize").find(".cx-button-minimize.cx-icon-full-screen").removeClass("cx-icon-full-screen").addClass("cx-icon-minimize"),T=!1,E&&j()),u.publish("unminimized")):(C.removeClass("cx-maximize").addClass("cx-minimized").find(".cx-button-minimize.cx-icon-minimize").removeClass("cx-icon-minimize").addClass("cx-icon-full-screen"),T=!0,u.publish("minimized"),E&&j()),e.deferred.resolve())}),u.registerCommand("submit",function(e){var t={};!function(){if(h.formValidation){var n=[];return o.each(L,function(e){var t=d("input#"+this+", textarea#"+this);0===t.val().length?(t.addClass("cx-error"),n[e]="false"):n[e]=M[this]?"false":"true"}),-1==o.inArray("false",n)}return!0}()?e.deferred.reject("Form not valid"):(t.formData={firstName:o("#cx_sendmessage_form_firstname").val(),lastName:o("#cx_sendmessage_form_lastname").val(),email:o("#cx_sendmessage_form_email").val(),subject:o("#cx_sendmessage_form_subject").val(),text:o("#cx_sendmessage_form_messagebody").val()},t.userData=p,t.files=_,c.showLoading(C),u.command("SendMessageService.SendForm",t).done(function(){c.hideLoading(C)}).always(function(){c.hideLoading(C)}),e.deferred.resolve())}),u.subscribe("SideBar.ready",function(){i=!0,u.command("hideSendMessageButton",{duration:0})}),u.subscribe("App.i18n",function(e){"object"==typeof e.data.sendmessage&&(o.extend(h.i18n_messages,e.data.sendmessage),o.extend(l,e.data.sendmessage),C&&(d(".cx-title").text(h.i18n_messages.EmailFormSendMessageTitle),b()),u.command("showSendMessageButton"))}),u.subscribe("App.mobileMode",function(){o(window).on("orientationchange",j),o(window).on("resize",j),E=!0,j()}),u.subscribe("App.ready",function(e){e.data.sendmessage&&u.command("configure",e.data.sendmessage)}),u.subscribe("App.closeAll",function(){u.command("close")}),u.subscribe("SendMessageService.messageSent",function(){d(".cx-form").hide(),d(".cx-form-success").show()}),u.subscribe("SendMessageService.error",function(e){if(console.debug("SendMessageService.error",e),e.data.textStatus){var t=h.i18n_messages.ErrorServerNotAvailable||l.Errors.connectionError,n=o(s),i=h.i18n_messages.ErrorUnknownServer||l.Errors.unknowError,a=d(".cx-error-container"),r=n.find(".cx-fail-message");switch(a.empty(),e.data.result&&500!=e.data.statusCode&&(e.data.result.reason?i=e.data.result.reason:e.data.result.error&&(i=e.data.result.error)),e.data.textStatus){case"timeout":r.text(t),a.append(n);break;case"error":m(),400==e.data.statusCode&&e.data.result.errors?x(e.data.result.errors):(r.text(i),a.append(n));break;case"success":m(),1!=e.data.result.statusCode||e.data.result.error?x(e.data.result.errors):(r.text(i),a.append(n));break;default:r.text(i),a.append(n)}d(".cx-send-failed").show(),d("button.cx-failed-retry").click(function(){d(".cx-send-failed").hide(),d(".cx-fail-message").empty(),g()})}}),u.republish("ready"))}),__cx.define("cx-send-message-service",["jquery","cx-bus","cx-common"],function(r,e){"use strict";var o,s,c=e.registerPlugin("SendMessageService");c&&(o={dataURL:"",iApiKey:"",iAjaxTimeout:3e3},s={},c.registerEvents(["ready","messageSent","error"]),c.registerCommand("SendForm",function(a){if(a.data)if(window.FormData){var e,t=a.data.formData,n=new FormData,i=r.extend({},s,a.data.userData||{});for(e in n.append("lastName",t.lastName||""),n.append("firstName",t.firstName||""),n.append("fromAddress",t.email||""),n.append("subject",t.subject||""),n.append("text",t.text||""),i)n.append("userData",e+"="+i[e]);a.data.files&&r.each(a.data.files,function(e,t){n.append("files",t)}),r.ajax({type:"POST",url:o.dataURL,mimeType:"multipart/form-data",contentType:!1,crossDomain:!0,processData:!1,data:n,beforeSend:function(e){o.iApiKey&&e.setRequestHeader("apikey",o.iApiKey)},success:function(e,t,n){var i=r.parseJSON(e);0===i.statusCode&&i.interactionId?c.publish("messageSent",{interactionId:i.interactionId}):(e=r.parseJSON(e),c.publish("error",{result:e,textStatus:t,jqXHR:n})),a.deferred.resolve()},error:function(e,t){400==e.status?e.responseText=r.parseJSON(e.responseText):500==e.status&&(e.statusCode=202),c.publish("error",{result:e.responseText,textStatus:t,statusCode:e.status}),a.deferred.resolve()}})}else a.deferred.reject("No HTMl5 formData support on your browser");else a.deferred.reject("No formData found")}),c.registerCommand("configure",function(e){var t;e.data?("string"==typeof(t=e.data).dataURL&&(o.dataURL=t.dataURL),"string"!=typeof t.apikey&&"number"!=typeof t.apikey||(o.iApiKey=t.apikey),"number"==typeof t.ajaxTimeout&&(o.iAjaxTimeout=parseInt(t.ajaxTimeout)),"object"==typeof t.userData&&r.extend(s,t.userData),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),c.subscribe("App.ready",function(e){e.data.sendmessage&&c.command("configure",e.data.sendmessage)}),c.republish("ready"))}),__cx.define("plugins/cx-console/nls/strings.js",{ConsoleTitle:"CXBus Console",Commands:"Commands",Plugin:"Plugin",ConsoleErrorButton:"OK",Execute:"Execute",Event:"Event",SubscribeTo:"Subscribe to",Unsubscribe:"Unsubscribe",ReturnData:"Return Data",EventsSubscriber:"Events Subscriber",Watch:"Watch",pluginNameEvent:"PluginName.Event",ClearAll:"Clear All",OptionsSample:'JSON Formatted Options \n{"option": value}'}),__cx.define("text!plugins/cx-console/html/console.html",[],function(){return'<div class="cx-console ">\n\n\t<div class="cx-alert-container"></div>\n\n\t<div class="cx-smokescreen"></div>\n\n\t<div class="cx-commands-container">\n\t\t<h2 class=" i18n" data-message="Commands"></h2>\n\n\t\t<div class="cx-section cx-line ">\t\n\t\t\t<select class="cx-dropdown cx-plugins ">\n\t\t\t    <option value="" disabled selected></option>\n\t\t\t</select>\n\n\t\t\t<select class="cx-dropdown cx-plugins-commands ">\n\n\t\t\t</select>\n\n\t\t\t<div class="cx-execute-button">\n\t\t\t\t<button disabled=true class="i18n  cx-execute cx-btn cx-btn-primary" data-message="Execute"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<textarea class="cx-options-area  i18n" rows="5" cols="61" name="options-area" data-message="OptionsSample" data-message-type="placeholder"></textarea>\n\n\t\t<div class="cx-return-area-container ">\n\t\t\t<div class="cx-return-area ">\n\t\t\t\t<span class=" i18n" data-message="ReturnData">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<br/>\n\n\t<div class="cx-section cx-events-container">\n\t\t<h2 class=" i18n" data-message="EventsSubscriber"></h2>\n\n\t\t<div class="cx-line ">\n\n\t\t\t<select class="cx-dropdown cx-plugins-events ">\n\t\t\t    <option value="" disabled selected></option>\n\t\t\t</select>\n\n\t\t\t<select class="cx-dropdown cx-events ">\n\n\t\t\t</select>\n\n\t\t\t<div class="cx-execute-button  i18n">\n\t\t\t\t<button disabled=true class="cx-watch  cx-btn cx-btn-primary i18n" data-message="Watch"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\n\t\t<div class="cx-watch-table-container ">\n\t\t\t<table class="cx-watch-table ">\n\t\t\t\t<thead class="">\n\t\t\t\t\t<tr class="">\n\t\t\t\t\t\t<td class=" cx-plug-td i18n" data-message="pluginNameEvent"></td>\n\t\t\t\t\t\t<td class=" cx-unsubscribe i18n" data-message="Unsubscribe"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody class="">\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\n\t\t<div class="cx-clear-all">\n\t\t\t<button class="cx-btn cx-btn-primary i18n" data-message="ClearAll"></button>\n\t\t</div>\n\n\t</div>\n\n</div>'}),__cx.define("text!plugins/cx-console/html/error-alert.html",[],function(){return'<div class="cx-alert cx-general">\n\t<div class="cx-wrapper">\n\t\t<p class="i18n" tabindex="-1"></p>\n\t\t<div class="cx-button-group cx-buttons-single">\n\t\t\t<button class="cx-error-button cx-btn cx-btn-primary i18n" data-message="ChatErrorButton" tabindex="0"></button>\n\t\t</div>\n\t</div>\n</div>'}),__cx.define("cx-console",["jquery","cx-bus","cookie","cx-common","./plugins/cx-console/nls/strings.js","text!./plugins/cx-console/html/console.html","text!./plugins/cx-console/html/error-alert.html"],function(r,e,o,n,i,t){"use strict";function s(e,t){r("table.cx-watch-table tbody",k).append("<tr data-subscription='"+e+"."+t+"'' class='cx-watcher-row '><td class=' cx-plug-td'>"+e+"."+t+"</td><td class=' cx-unsubscribe'>X</td></tr>")}function c(e,t){var n,i,a=r(".cx-watch-table tbody tr[data-subscription='"+e+"."+t+"']",k);!0===a.hasClass("cx-blinking")?setTimeout(function(){c(e,t)},3500):(a.addClass("cx-backgroundRed").addClass("cx-blinking"),n=setInterval(function(){a.toggleClass("cx-backgroundRed")},100),setTimeout(function(){clearInterval(n)},1e3),setTimeout(function(){i=setInterval(function(){a.toggleClass("cx-backgroundRed")},1e3)},1001),setTimeout(function(){clearInterval(i)},3001),setTimeout(function(){a.removeClass("cx-blinking"),a.removeClass("cx-backgroundRed")},3002))}function l(e){var t;for(r(".cx-plugins-commands",k).empty(),t=0;t<_[e].commands.length;t++)r(".cx-plugins-commands",k).append("<option value='"+_[e].commands[t]+"'>"+_[e].commands[t]+"</option>")}function d(e){var t;for(r(".cx-events",k).empty(),t=0;t<_[e].events.length;t++)r(".cx-events",k).append("<option value='"+_[e].events[t]+"'>"+_[e].events[t]+"</option>")}function a(e,t){r(".cx-return-area-container > .cx-return-area span",k).text(void 0===e?"OK":JSON.stringify(e));e=r(".return-area-container > .return-area",k);e.removeClass("cx-outlineRed").removeClass("cx-outlineGreen"),e.toggleClass("cx-outline"+("resolved"===t?"Green":"Red"))}window._genesys||(window._genesys={}),window._genesys.widgets||(window._genesys.widgets={}),window._genesys.cxwidget||(window._genesys.cxwidget={});var u,h,p,f,m,g,v,b,x,y,w,C=e.registerPlugin("Console"),k=r(),_=C.registry();C&&(u=!1,p=(h="_genesys.widgets.console")+".session",f=h+".commandPlugin",m=h+".command",g=h+".eventPlugin",v=h+".event",b=h+".optionsArea",x=h+".activeSubscriptions",y=h+".windowPosition",w={},window._genesys.widgets.bus=C,(window._genesys.cxwidget.bus=C).registerPlugin=e.registerPlugin,C.republish("ready"),C.registerCommand("configure",function(e){var t;e.data?(t=e.data,oConfig,"object"==typeof t&&!0===t.open&&C.command("Console.open"),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),C.registerCommand("restore",function(){o.set(p,!1),C.command("Console.open").done(function(){var e,t;if(o.get(f)&&((t=r("select.cx-plugins",k)[0]).value=o.get(f),t.text=o.get(f).replace("cx.plugin.",""),l(o.get(f)),r(".cx-commands-container .cx-execute-button button",k).attr("disabled",!1)),o.get(g)&&((t=r("select.cx-plugins-events",k)[0]).value=o.get(g),t.text=o.get(g).replace("cx.plugin.",""),d(o.get(g)),r(".cx-events-container .cx-execute-button button",k).attr("disabled",!1)),o.get(b)&&r("textarea.cx-options-area",k).text(o.get(b)),o.get(x)&&"{}"!==o.get(x)){w=JSON.parse(o.get(x)),r(".cx-watch-table-container",k).show(),r(".cx-clear-all",k).show();for(var n,i=Object.keys(JSON.parse(o.get(x))),a=0;a<i.length;a++)!1!==w[i[a]]&&(n=i[a].split("."),C.subscribe(i[a],function(e){e=e.event.replace("cx.plugin.","").split(".");c(e[0],e[1])}),s(n[0],n[1]))}o.get(y)&&(e=JSON.parse(o.get(y)),r(k).css("top",e.top).css("left",e.left)),o.get(m)&&((t=r("select.cx-plugins-commands",k)[0]).value=o.get(m),t.text=o.get(m),r(".cx-commands-container .cx-execute-button button",k).attr("disabled",!1)),o.get(v)&&((t=r("select.cx-events",k)[0]).value=o.get(v),t.text=o.get(v),r(".cx-events-container .cx-execute-button button",k).attr("disabled",!1))})}),C.registerCommand("open",function(e){u?e.deferred.reject("Already opened"):((k=n.Generate.Container({type:"generic",title:i.ConsoleTitle,body:t,icon:"prefs",controls:"close",buttons:!1})).find(".cx-button-close").click(function(){C.command("close")}),k.find(".cx-btn-default").click(function(){C.command("close")}),function(){var e,t=Object.keys(_);t.sort();for(var n=0;n<t.length;n++)e=t[n],r("select.cx-dropdown.cx-plugins",k).append("<option value='"+e+"'>"+e.replace("cx.plugin.","")+"</option>"),r("select.cx-dropdown.cx-plugins-events",k).append("<option value='"+e+"'>"+e.replace("cx.plugin.","")+"</option>")}(),function(){r(k).css("top","0px").css("position","fixed");var e=!1,t=!1;k.mousedown(function(){e=!0}).mousemove(function(){e&&(t=!0)}).mouseup(function(){e&&t&&(o.set(y,{top:k.css("top"),left:k.css("left")}),t=e=!1)}),r(".cx-plugins",k).on("change",function(){o.set(f,r(this).val()),l(r(this).val()),r(".cx-commands-container .cx-execute-button button",k).attr("disabled",!1),o.set(m,r(".cx-plugins-commands",k).val())}),r(".cx-plugins-commands",k).on("change",function(){o.set(m,r(this).val())}),r("textarea.cx-options-area",k).on("keyup",function(){o.set(b,r("textarea.cx-options-area").val())}),r(".cx-plugins-events",k).on("change",function(){o.set(g,r(this).val()),d(r(this).val()),r(".cx-events-container .cx-execute-button button",k).attr("disabled",!1),o.set(v,r(".cx-events",k).val())}),r(".cx-events",k).on("change",function(){o.set(v,r(this).val())}),r(".cx-commands-container button.cx-execute",k).on("click",function(){var e=r(".cx-plugins",k).val().replace("cx.plugin.",""),t=r(".cx-plugins-commands",k).val(),n=!!r("textarea.cx-options-area",k).val()&&JSON.parse(r("textarea.cx-options-area",k).val());C.command(e+"."+t,n).done(function(e){a(e,"resolved"),console.log(e)}).fail(function(e){a(e,"rejected"),console.log(e)})}),r("button.cx-watch",k).on("click",function(){var e=r(".cx-events-container .cx-line > .cx-plugins-events",k).val().replace("cx.plugin.",""),t=r(".cx-events-container .cx-line > .cx-events",k).val();!0!==w[e+"."+t]&&C.subscribe(e+"."+t,function(){c(e,t)}),r(".cx-watch-table-container",k).show(),r(".cx-clear-all",k).show(),e+"."+t in w!=0&&!1!==w[e+"."+t]||(w[e+"."+t]=!0,s(e,t),o.set(x,w))}),r(".cx-watch-table tbody",k).on("click","td.cx-unsubscribe",function(){var e=r(this).parent().attr("data-subscription");r(this).parent().remove(),C.unsubscribe(e),w[e]=!1,o.set(x,w),0===r(".cx-watch-table tbody tr",k).length&&(r(".cx-watch-table-container",k).hide(),r(".cx-clear-all",k).hide(),o.remove(x))}),r(".cx-clear-all",k).on("click","button",function(){for(var e=r(".cx-watch-table tbody tr",k),t=0;t<e.length;t++)C.unsubscribe(e[t].dataset.subscription);r(".cx-watch-table tbody tr",k).detach(),r(".cx-watch-table-container",k).hide(),r(".cx-clear-all",k).hide(),w={},o.remove(x)}),n.updateTemplateI18n(k,i)}(),r(document.body).append(k),u=!0,o.set(p,!0),k.draggable(),C.publish("opened"),e.deferred.resolve())}),C.registerCommand("close",function(e){u?(k.detach(),u=!1,o.set(p,!1),C.publish("closed"),e.deferred.resolve()):e.deferred.reject("Already closed")}),C.subscribe("App.ready",function(e){e.data.console&&C.command("configure",e.data.console),"true"===o.get(p)&&C.command("restore")}),C.subscribe("App.theme",function(){C.command("App.reTheme",{html:k})}))}),__cx.define("cx-window-manager",["jquery","cx-bus","cx-common"],function(r,e,t){"use strict";function o(t){var e,n=55,i=t.split(".")[2];l.aStack=r.grep(l.aStack,function(e){return e.pluginName==t&&1<l.aStack.length&&(l.iRightOffset=l.iRightOffset-e.width-parseInt(24)),d.find(".cx-docked-"+i).remove(),e.pluginName!=t}),r.each(l.aStack,function(e,t){d.find(".cx-docked-"+t.pluginName.split(".")[2]).attr("tabindex",e).children().css({right:n+"px"}),f({pluginName:t.pluginName,position:{right:n}}),n=n+t.width+parseInt(24)}),e="removed."+i+"#"+Math.floor(1e8+9e8*Math.random()),s.publish(e),delete h[t],s.command("changed"),s.unsubscribe(t+".closed")}var s=e.registerPlugin("WindowManager"),c=!1,l={iRightOffset:0,aStack:[]},d=r('<div class="cx-widget cx-window-manager"></div>'),a=r('<div class="cx-widget cx-side-button-group" data-gcb-service-node="true"></div>'),u={aUi:[],aService:[]},h=[],p=function(n,e){var i=!1;return r.each(e,function(e,t){t.pluginName==n&&(i=!0)}),i},f=function(e){h[e.pluginName]&&(h[e.pluginName].position=e.position,h[e.pluginName].timeModified=(new Date).getTime())},e=function(e){e&&(r.each(e,function(e,t){-1==t.indexOf("service")&&u.aUi.push(t.replace(/-/g,""))}),u.aUi.reverse())};s&&(s.registerEvents(["ready","changed"]),r(document.body).append(d),e(t.checkPath(window,"_genesys.cxwidget.main.plugins")||t.checkPath(window,"_genesys.widgets.main.plugins")||!1),s.registerCommand("registerDockView",function(e){return h[e.commander]?(e.deferred.reject(e.commander+" is already registered. Ignoring."),!1):void(e.data.html?(t=r(e.data.html),n=r('<div class="cx-dock" tabindex='+l.aStack.length+"></div>").append(t),i=e.commander.split(".")[2],a=null,c?(t.addClass("cx-mobile"),n.addClass("cx-mobile")):(t.addClass("cx-desktop"),n.addClass("cx-desktop")),p(e.commander,l.aStack)?e.deferred.reject(i+" already displayed"):(d.append(n),l.aStack.push({pluginName:e.commander,width:t.width()}),1==l.aStack.length?(l.iRightOffset=55,n.addClass("cx-first")):(l.iRightOffset=l.iRightOffset+t.width()+parseInt(24),n.addClass("cx-last"),2<=l.aStack.length&&(r("div[tabindex=0]").addClass("cx-first").removeClass("cx-last"),r.each(l.aStack,function(e){r('div[tabindex="'+(e+1)+'"]').removeClass("cx-first")}))),t.css({transition:"right 1s cubic-bezier(0, 1, 0.5, 1), transform .5s ease-in-out"}),n.addClass("cx-dock-view cx-docked-"+i),t.css({right:l.iRightOffset+"px"}),t.css({bottom:0-t.height()+"px"}),t.animate({bottom:0}),a="added."+i+"#"+Math.floor(1e8+9e8*Math.random()),s.publish(a),h[e.commander]={event:a,viewType:"DockView",timeAdded:(new Date).getTime(),position:{right:l.iRightOffset+"px"}},t.draggable("instance")&&t.draggable("destroy"),c||e.data.draggable,e.deferred.resolve()),s.subscribe(e.commander+".closed",function(e){o(e.publisher)}),n.bind({focusin:function(){r(this).addClass("cx-focus")},focusout:function(){r(this).removeClass("cx-focus")}})):e.deferred.reject("No html content"));var t,n,i,a}),s.registerCommand("deregisterDockView",function(e){o(e.commander)}),s.registerCommand("makeDraggable",function(e){var t;t=e.data.html,e=e.data.options,t.draggable({containment:"window",handle:e.handle||".cx-titlebar, .cx-footer",start:function(){t.animate({opacity:.7})},stop:function(){t.animate({opacity:1})}})}),s.registerCommand("registerSideButton",function(e){var n,i;e.data.template?(n=r(e.data.template),i=e.commander.split(".")[2].toLowerCase(),n.addClass("cx-side-button"),r.each(u.aUi,function(e,t){-1<t.indexOf(i)&&n.attr({"data-plugin":t})}),0==d.find("div.cx-side-button-group").length&&d.append(a),a.append(n.hide()),r.each(u.aUi,function(e,t){a.append(a.find("div[data-plugin="+t+"]").detach())}),s.command("App.reTheme",{html:n}),e.deferred.resolve()):e.deferred.reject("No button template found to register")}),s.registerCommand("changed",function(){s.publish("changed",{registry:h})}),s.subscribe("App.theme",function(){s.command("App.reTheme",{html:d})}),s.subscribe("App.mobileMode",function(){c=!0}),s.republish("ready"))}),__cx.define("plugins/cx-knowledge-center-service/js/api-mapper",["jquery","cookie","uri"],function(i,n,e){"use strict";function o(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&e[t]&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return 0!==n.length?"?"+n.join("&"):""}var a={domain:e(window.location.href).domain(),path:"/"},e="_genesys.widgets.knowledgecenter.state",r=e+".keys";return{initialize:function(e){"object"==typeof e&&i.extend(this,e),this.setSessionId2(function(){var e,t=n.get(r);if("string"==typeof t&&0<t.length)try{e=(t=JSON.parse(t)).sessionId}catch(e){console.log("Wrong value stored in cookies: "+t)}return e}()),e&&e.customerId&&this.associateSessionToUser(),this.kbs||this.getKnowledgeBases().done(function(e){this.kbs=e.knowledgebases}.bind(this))},ping:function(){return this.makeAjax({type:"GET",url:"/management/ping"})},getKnowledgeBases:function(){return this.makeAjax({type:"GET",url:"/kbs"+o({sessionId:this.sessionId,lang:this.lang,tenantId:this.tenantId})})},getCategories:function(){return this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/categories"+o({sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({knowledgebases:this.knowledgebases,media:this.media})})},getTrending:function(e){return this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/top"+o({size:e.size,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({media:this.media,knowledgebases:this.knowledgebases})})},getFullContent:function(a){this.visit(a);var r=new i.Deferred;return this.makeAjax({type:"GET",url:"/kbs/"+a.kbId+"/documents/"+a.docId+o({lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId})}).done(function(t){var e,n,i;t.feedbackType=(e=this.kbs,n=t.kbId,i="NONE",e&&n&&e.forEach(function(e){e.id===n&&(i=e.feedbackType)}),i),this.getRating({kbId:a.kbId,docId:a.docId}).done(function(e){t.additional=e,r.resolve(t)}).fail(function(){r.resolve(t)})}.bind(this)).fail(function(){r.reject()}),r},getRating:function(e){return this.makeAjax({type:"GET",url:"/kbs/"+e.kbId+"/documents/"+e.docId+"/rating"+o({lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId})})},search:function(t){return void 0!==t.query&&null!==t.query||(t.query=""),void 0!==t.categories&&null!==t.categories||(t.categories=[]),void 0!==t.filters&&null!==t.filters||(t.filters=[]),void 0!==t.apiClientMediaType&&(this.apiClientMediaType=t.apiClientMediaType),this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/search"+o({junkfree:t.junkfree,lang:this.lang,from:t.from,size:t.size,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({query:t.query,categories:t.categories,media:this.media,filters:t.filters,knowledgebases:this.knowledgebases})}).done(function(e){0===e.documents.length&&this.unanswered({question:t.query,knowledgebases:this.knowledgebases,categories:t.categories,filters:t.filters})}.bind(this))},getSuggestions:function(e){return this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/suggestions"+o({lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({query:e.query,categories:e.categories,filters:e.filters,media:this.media,knowledgebases:this.knowledgebases})})},visit:function(e){return this.makeAjax({type:"POST",url:"/feedback/"+e.kbId+"/documents/"+e.docId+"/visit"+o({lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({query:e.query,categories:e.categories,filters:e.filters})})},vote:function(e){return this.makeAjax({type:"POST",url:"/feedback/"+e.kbId+"/documents/"+e.docId+"/vote"+o({relevant:void 0===e.relevant||""+e.relevant,lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({query:e.query,categories:e.categories,filters:e.filters})})},rating:function(e){return this.makeAjax({type:"POST",url:"/feedback/"+e.kbId+"/documents/"+e.docId+"/rating"+o({lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({comment:e.comment,rating:e.rating})})},addRating:function(e){return this.makeAjax({type:"PUT",url:"/feedback/vote/"+e.voteId+o({sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify({comment:e.comment,rating:e.rating})})},unanswered:function(e){return this.makeAjax({type:"POST",url:"/feedback/unanswered"+o({lang:this.lang,sessionId:this.sessionId,tenantId:this.tenantId}),data:JSON.stringify(e)})},createSession:function(){return this.makeAjax({type:"PUT",url:"/sessions/new"})},associateSessionToUser:function(){return this.makeAjax({type:"POST",url:"/sessions/"+this.sessionId})},makeAjax:function(t){t.dataType="json",t.contentType="application/json; charset=UTF-8",t.url=this.host+t.url,t.crossDomain=!0,t.headers={gkc_customerId:this.customerId,gkc_apiClientId:this.apiClientId||"web",gkc_apiClientMediaType:this.apiClientMediaType};var n=new i.Deferred;return i.ajax(t).done(function(e){this.ajaxSuccess(n,e)}.bind(this)).fail(function(e){this.ajaxError(n,e),console.warn("Error while: "+t.type+" "+t.url)}.bind(this)),n.promise()},ajaxSuccess:function(e,t){t.error?e.reject(t.error,t.status):(this.setSessionId2(t.sessionId),e.resolve(t.response,t.status,this.sessionId))},ajaxError:function(e,t){e.reject(t.responseText,{code:t.status,message:t.statusText})},resetSession:function(){n.remove("_genesys.widgets.knowledgecenter.state.session",a),n.remove(r,a)},sessionInfo:function(){var e=new i.Deferred;if(!this.sessionId)return e.reject("Knowledge center session is not started yet"),e.promise();var t={sessionId:this.sessionId,language:this.lang,customer:this.customer,media:this.media};return e.resolve(t),e.promise()},setSessionId2:function(e){var t;e&&(t=!1,this.sessionId&&this.sessionId===e||(this.sessionId=e,t=!0),t&&(n.set(r,JSON.stringify({sessionId:this.sessionId}),a),t={sessionId:this.sessionId,language:this.lang,customer:this.customer,media:this.media},this.oKnowledgeCenterService.publish("sessionChanged",t)))}}}),__cx.define("cx-knowledge-center-service",["jquery","cx-bus","./plugins/cx-knowledge-center-service/js/api-mapper"],function(t,e,n){"use strict";function i(t){o.registerCommand(t,function(e){a(n[t](e.data),e)})}function a(e,t){e.done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)})}var r={apiClientId:"gwidget",apiClientMediaType:"selfservice",media:"all",lang:"en",knowledgebases:[],maxTrendingResults:5,maxSearchResults:3},o=e.registerPlugin("KnowledgeCenterService");o&&(o.registerEvents(["ready","online","sessionChanged"]),o.registerCommand("configure",function(e){r=t.extend({},r,e.data),n.initialize({host:r.host,knowledgebases:r.knowledgebases,lang:r.lang,media:r.media,apiClientId:r.apiClientId,apiClientMediaType:r.apiClientMediaType,oKnowledgeCenterService:o,tenantId:r.tenantId}),n.ping().done(function(){o.republish("online")}),e.deferred.resolve()}),o.registerCommand("getTrending",function(e){a(n.getTrending({size:r.maxTrendingResults}),e)}),o.registerCommand("search",function(e){a(n.search({query:e.data.query,junkfree:e.data.junkfree,size:r.maxSearchResults,apiClientMediaType:e.data.apiClientMediaType}),e)}),o.registerCommand("reset",function(e){n.resetSession(),e.deferred.resolve()}),i("getCategories"),i("getFullContent"),i("visit"),i("vote"),i("rating"),i("addRating"),i("unanswered"),i("sessionInfo"),i("getSuggestions"),window._genesys&&window._genesys.widgets&&window._genesys.widgets.knowledgecenter&&o.command("KnowledgeCenterService.configure",window._genesys.widgets.knowledgecenter),o.republish("ready"))}),__cx.define("plugins/cx-chat-deflection/nls/string",{KnowledgeAgentName:"Knowledge Center",WelcomeMessage:"Hello and Welcome! A Live agent will be with you shortly. In the meantime, can I assist you with any questions you may have? Please type a question into the input field below.",SearchResult:"While waiting for an Agent to connect, here are the most relevant answers to your query:",NoDocumentsFound:"I'm sorry. No articles matched your question. Would you like to ask another question?",Yes:"Yes",No:"No",Back:"Back",FeedbackQuestion:"Was this helpful?",FeedbackAccept:"Yes",FeedbackDecline:"No",ArticleHelpfulnessYes:'Article Helpfulness - "Yes"',ArticleHelpfulnessYesDesc:"Great! We're very pleased to hear that the article assisted you in your search. Have a great day!",ArticleHelpfulnessNo:'Article Helpfulness - "No"',ArticleHelpfulnessNoDesc:"We're sorry that the article wasn't a good match for your search. We thank you for your feedback!",TranscriptMarker:"KnowledgeCenter: ",SearchMessage:'Search with query "<%SearchQuery%>"↲',VisitMessage:'Visit for document "<%VisitQuery%>"',AnsweredMessage:'Results for query "<%AnsweredQuery%>" have been marked as relevant.',UnansweredMessage:'Results for query "<%UnansweredQuery%>" have been marked as unanswered.',PositiveVoteMessage:'Positive voting for document "<%VoteQuery%>"',NegativeVoteMessage:'Negative voting for document "<%VoteQuery%>"'}),__cx.define("text!plugins/cx-chat-deflection/html/deflected-document.html",[],function(){return'<div class="cx-kc-article-wrapper">\r\n\r\n    <div class="cx-iscroll-wrapper">\r\n\r\n        <div class="cx-kc-article">\r\n\r\n            <div class="cx-kc-article-title">\r\n                <div class="cx-icon" data-icon="knowledge-center"></div>\r\n                <div class="cx-question-title"><%=raw document.question || document.title %></div>\r\n            </div>\r\n\r\n            <div class="cx-description">\r\n                <%=raw document.answerContent || document.descriptionContent %>\r\n            </div>\r\n\r\n            <% if (document.attachments && document.attachments.length > 0) { %>\r\n            <div class="cx-attachments">\r\n                <% document.attachments.forEach(function(item) { %>\r\n                <div>\r\n                    <a href="<%= item.url %>" target="_blank"><%= item.fileName %></a>\r\n                </div>\r\n                <% }.bind(this)) %>\r\n            </div>\r\n            <% } %>\r\n\r\n            <% if (document.feedbackType !== \'NONE\') { %>\r\n            <div class="cx-feedback">\r\n\r\n                <% if (query && (document.feedbackType === \'EITHER\' || document.feedbackType === \'VOTE\')) { %>\r\n                <div class="cx-vote-question">\r\n                    <%= i18n.FeedbackQuestion %>\r\n                    <a href="javascript:;" data-relevant="false"><button class="cx-btn cx-btn-default i18n" type="button" id="irrelevant"><%= i18n.FeedbackDecline %></button></a>\r\n                    <a href="javascript:;" data-relevant="true"><button class="cx-btn cx-btn-primary i18n" type="button" id="relevant"><%= i18n.FeedbackAccept %></button></a>\r\n                </div>\r\n                <% } %>\r\n\r\n                <div class="cx-helpful"></div>\r\n            </div>\r\n            <% } %>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class="cx-button-group cx-buttons-binary cx-button-back-container">\r\n        <button class="cx-btn cx-btn-primary cx-btn-back i18n"><%= i18n.Back %></button>\r\n    </div>\r\n</div>\r\n\r\n'}),__cx.define("text!plugins/cx-chat-deflection/html/bubble.html",[],function(){return'<div style="display: block;" class="cx-message cx-them cx-Agent cx-NewTextBubble">\r\n\r\n    <div class="cx-avatar-wrapper">\r\n        <div class="cx-avatar cx-icon" data-icon="knowledge-center"></div>\r\n    </div>\r\n\r\n    <div class="cx-bubble-arrow">\r\n        <svg height="7" width="7">\r\n            <polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n            <polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n        </svg>\r\n    </div>\r\n\r\n    <div class="cx-bubble">\r\n        <span class="cx-name"><%= name %></span>\r\n        <%=raw reply %>\r\n        <span class="cx-time"><%= time %></span>\r\n    </div>\r\n\r\n</div>'}),__cx.define("cx-chat-deflection",["jquery","template","cx-bus","cx-common","cx-iscroll","./plugins/cx-chat-deflection/nls/string","text!./plugins/cx-chat-deflection/html/deflected-document.html","text!./plugins/cx-chat-deflection/html/bubble.html"],function(u,a,e,h,t,p,f){"use strict";function n(e){if(e.type&&"CustomNotice"===e.type&&e.text){try{var t=u.parseJSON(e.text),n=!1;if("object"==typeof t&&t.key)switch(t.key){case T:n=!0,e.text=t.message,k=!0;break;case S:var i,a=t.documents,r=t.query;a&&0<a.length?(i=u("<span>").addClass("cx-message-text").text(p.SearchResult).get(0).outerHTML,a.forEach(function(e){e=u("<a>").addClass("cx-gkc-question-link").attr("href","javascript:;").attr("data-id",e.id).attr("data-kbid",e.kbId).attr("data-query",r).text(e.question||e.title);i+=u("<div>").addClass("gkc-question").append(e).get(0).outerHTML})):i=u("<span>").addClass("cx-message-text").text(p.NoDocumentsFound).get(0).outerHTML,n=!0,e.text=i,e.html=!0}}catch(e){return}if(n)return e.from.type="Agent",e.from.nickname=p.KnowledgeAgentName,e.type="Message",e.messageType="text",e.bubble={direction:"left",time:!0,name:!0,avatar:{icon:"knowledge-center"}},e}}function i(e){e.sessionId&&(l[y.workspace.sessionKey]=e.sessionId),e.language&&(l[y.workspace.languageKey]=e.language)}function m(e){return y.enabled?(w.command("WebChatService.sendCustomNotice",{message:JSON.stringify(e)}),void("readable"===y.agentTranscript&&function(e){var t,n={};switch(e.key){case S:var i=e.documents;n.data=e.query,n.template=p.SearchMessage,n.placeholder="<%SearchQuery%>",n.documents=i;break;case E:n.data=e.question,n.template=p.VisitMessage,n.placeholder="<%VisitQuery%>";break;case L:n.data=e.question,n.template=p.UnansweredMessage,n.placeholder="<%UnansweredQuery%>";break;case A:n.data=e.question,n.template=p.AnsweredMessage,n.placeholder="<%AnsweredQuery%>";break;case D:n.data=e.question,n.template=e.relevant?p.PositiveVoteMessage:p.NegativeVoteMessage,n.placeholder="<%VoteQuery%>"}n.data&&(t=n.template&&n.placeholder?p.TranscriptMarker+n.template.replace(n.placeholder,n.data):"object"==typeof n.data?p.TranscriptMarker+JSON.stringify(n.data):p.TranscriptMarker+n.data,n.documents&&n.documents.forEach(function(e){t+=" • "+e.question||e.title}));w.command("WebChatService.sendMessage",{message:t})}(e))):void console.log("ChatDeflection is disabled")}function r(e){e.data.html.find(".cx-gkc-question-link").mousedown(function(){var e=u(this),t=e.attr("data-id"),n=e.attr("data-kbid"),i=e.attr("data-query");m({key:E,docId:t,kbId:n,query:i,question:e.text()}),y.reporting.enabled&&((e={})[y.reporting.deflectionOpenedKey]=JSON.stringify({docId:t,kbId:n}),w.command("WebChatService.updateUserData",e)),function t(n,l,d){w.command("KnowledgeCenterService.getFullContent",{kbId:l,docId:n}).done(function(r){M=u(a(f,{document:r,query:d,i18n:p}));var o,e=r.question||r.title,s=M.find(".cx-kc-article"),c=M.find(".cx-feedback");h.populateIcons(M),M.find(".gkc-doc-link").click(function(){t(this.getAttribute("data-docid"),this.getAttribute("data-kbid"),null)}),s.find(".cx-vote-question a").click(function(e){var t=u(this),n=document.getElementById("relevant"),i=u(".cx-helpful"),a="<span></span>";c.find(".cx-vote-question").addClass("disabled"),c.find(".cx-vote-question a .cx-btn").unwrap().attr("disabled","disabled"),"EITHER"===r.feedbackType&&e.target==n?(i.append(p.ArticleHelpfulnessYes).wrapInner(a),i.append(p.ArticleHelpfulnessYesDesc)):(i.append(p.ArticleHelpfulnessNo).wrapInner(a),i.append(p.ArticleHelpfulnessNoDesc)),x(null,!0),b(s);var i={docId:r.id,kbId:l,query:d||r.question||r.title,relevant:t.data("relevant")};w.command("KnowledgeCenterService.vote",i).done(function(e){o=e.recordId}),m(u.extend({key:D,question:r.question||r.title||d},i)),y.reporting.enabled&&((i={})[y.reporting.deflectionLastFeedbackKey]=t.data("relevant"),w.command("WebChatService.updateUserData",i))}),M.find(".cx-btn-back").click(function(){M.find(".cx-kc-article-wrapper").parent("div").remove(),w.command("WebChat.hideOverlay")}),c.find(".cx-star-rating.cx-enable span").mouseover(function(){var e=u(this);e.prevAll().addBack().removeClass("cx-icon-star-outline").addClass("cx-icon-stars"),e.nextAll().removeClass("cx-icon-stars").addClass("cx-icon-star-outline")}),c.find(".cx-star-rating.enable").mouseleave(function(){var e=u(this),t=e.attr("data-rating");e.children().attr("class","cx-icon-star-outline"),t&&e.find(":lt("+t+")").removeClass("cx-icon-star-outline").addClass("cx-icon-stars")}),c.find(".cx-star-rating.cx-enable span").click(function(){var e=u(this);e.parent().attr("data-rating",e.index()+1),g(c)}),c.find(".cx-publish-comment textarea").keyup(function(){g(c)}),c.find(".cx-publish-comment-buttons button").click(function(){var e=c.find(".cx-publish-feedback textarea"),t=c.find(".cx-star-rating"),e=e.val(),t=+t.attr("data-rating");o?w.command("KnowledgeCenterService.addRating",{voteId:o,comment:e,rating:t}):w.command("KnowledgeCenterService.rating",{docId:n,kbId:l,comment:e,rating:t}),c.find(".cx-publish-feedback").hide(),c.append(p.FeedbackCommitMessage)}),console.log("ndActiveDocument",M),v(0,M)})}(t,n,i)})}function g(e){var t=e.find(".cx-publish-comment textarea"),n=e.find(".cx-star-rating");e.find(".cx-publish-comment-buttons").toggle(!!n.attr("data-rating")&&!!t.val())}function v(e,t){w.command("WebChat.showOverlay",{html:t,hideFooter:!0}).done(function(){c=h.Generate.Scrollbar(t.find(".cx-iscroll-wrapper")[0]),s(),x(!0)})}function o(){return y.enabled?void w.command("WebChatService.sendCustomNotice",{message:JSON.stringify({key:T,message:p.WelcomeMessage})}):void h.log("ChatDeflection is disabled")}function b(e){return e.stop().animate({scrollTop:e.get(0).scrollHeight},500)}function x(e,t){c&&(c.refresh(),e&&c.scrollTo(0,0,0),t&&c.scrollTo(0,c.maxScrollY,300))}function s(){var e=M.find(".cx-button-group").outerHeight(),t=M.outerHeight();M.find(".cx-iscroll-wrapper").height(t-e),x()}var y={enabled:!0,agentTranscript:"readable",workspace:{enabled:!0,sessionKey:"gks_session",languageKey:"gks_lang",countryKey:"Country",questionKey:"gks_question",knowledgeBaseKey:"gks_kbid",customerIdKey:"EmailAddress"},reporting:{enabled:!0,deflectionStartedKey:"gks_deflection_started",deflectionSearchedKey:"gks_deflection_searched",deflectionLastFeedbackKey:"gks_deflection_last_feedback",deflectionOpenedKey:"gks_deflection_document_opened"}},w=e.registerPlugin("ChatDeflection"),c=null,l={},d=!1,C=!1,k=!1,_=!1,T="gkc_welcome",S="gkc_search",E="gkc_visit",L="gkc_unanswered",A="gkc_answered",D="gkc_vote",M=u();w&&(w.registerEvents(["ready","started","ended","enabled","disabled"]),w.registerCommand("configure",function(e){y=u.extend({},y,e.data),w.republish("ready"),e.deferred.resolve()}),w.registerCommand("enable",function(e){y.enabled?e.deferred.reject("Deflection is enabled already"):(y.enabled=!0,w.publish("enabled"),k||!C||_||(o(),d=!0),e.deferred.resolve())}),w.registerCommand("disable",function(e){y.enabled?(y.enabled=!1,w.publish("disabled"),d=!1,e.deferred.resolve()):e.deferred.reject("Deflection is disabled already")}),w.subscribe("KnowledgeCenterService.ready",function(){w.command("KnowledgeCenterService.sessionInfo").done(function(e){i(e)})}),w.subscribe("KnowledgeCenterService.sessionChanged",function(e){i(e.data||{}),d&&(u.extend(e={},l),u.isEmptyObject(e)||w.command("WebChatService.updateUserData",e))}),w.subscribe("WebChatService.ready",function(){w.command("WebChatService.registerPreProcessor",{preprocessor:n})}),w.subscribe("WebChatService.started",function(){w.command("WebChatService.addPrefilter",{filters:[new RegExp(p.TranscriptMarker)]})}),w.subscribe("WebChatService.restored",function(){w.command("WebChatService.addPrefilter",{filters:[new RegExp(p.TranscriptMarker)]})}),w.subscribe("WebChat.messageAdded",function(e){r(e)}),w.subscribe("WebChatService.clientDisconnected",function(){C=!1}),w.subscribe("WebChatService.clientConnected",function(e){C=!0,!_&&e.data&&e.data.message&&!e.data.message.restoring&&(o(),w.publish("started"),d=!0,e={},y.reporting.enabled&&(e[y.reporting.deflectionStartedKey]=!0),y.workspace.enabled&&u.extend(e,l),u.isEmptyObject(e)||w.command("WebChatService.updateUserData",e))}),w.subscribe("WebChatService.messageReceived",function(e){(e.data.messages||[]).forEach(function(e){var t;_||"Message"!==e.type||"Client"!==e.from.type||e.restoring||(t=e.text,w.command("KnowledgeCenterService.search",{query:t,junkfree:!0,apiClientMediaType:y.apiClientMediaType}).done(function(e){e=e.query?e.documents.map(function(e){return{id:e.id,kbId:e.kbId,question:e.question||e.title}}):[];m({key:S,query:t,documents:e}),(y.reporting.enabled||y.workspace.enabled)&&(e={},y.reporting.enabled&&((e={})[y.reporting.deflectionSearchedKey]=!0),y.workspace.enabled&&(e[y.workspace.questionKey]=t),w.command("WebChatService.updateUserData",e)),0}))})}),w.subscribe("WebChatService.agentConnected",function(){d&&(w.publish("ended"),d=!1),_=!0}),w.subscribe("WebChat.closed",function(){_=!1,d&&(w.publish("ended"),d=!1)}),w.subscribe("App.mobileMode",function(){u(window).on("orientationchange",s,x(!0)),u(window).on("resize",s,x(!0))}),w.subscribe("App.i18n",function(e){"object"==typeof e.data.knowledgecenter&&u.extend(p,e.data.knowledgecenter)}),w.subscribe("App.ready",function(e){e.data.knowledgecenter&&w.command("configure",e.data.knowledgecenter.deflection)}))}),function(l,u){"use strict";function d(e,t){this.name=e,this[r]=t}function h(e){this[o]=e}function p(e,t,n){this[a]=e,this[i]=t,this.type=n}var e="undefined",i="model",t="name",n="type",a="vendor",r="version",o="architecture",s="console",c="mobile",f="tablet",m="smarttv",g="wearable",v={extend:function(e,t){var n,i={};for(n in e)i[n]=t[n]&&t[n].length%2==0?t[n].concat(e[n]):e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:u},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(e,t){for(var n,i,a,r,o,s=0;s<t.length&&!r;){for(var c=t[s],l=t[s+1],d=n=0;d<c.length&&!r;)if(r=c[d++].exec(e))for(i=0;i<l.length;i++)o=r[++n],"object"==typeof(a=l[i])&&0<a.length?2==a.length?this[a[0]]="function"==typeof a[1]?a[1].call(this,o):a[1]:3==a.length?this[a[0]]="function"!=typeof a[1]||a[1].exec&&a[1].test?o?o.replace(a[1],a[2]):u:o?a[1].call(this,o,a[2]):u:4==a.length&&(this[a[0]]=o?a[3].call(this,o.replace(a[1],a[2])):u):this[a]=o||u;s+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var i=0;i<t[n].length;i++)if(v.has(t[n][i],e))return"?"===n?u:n}else if(v.has(t[n],e))return"?"===n?u:n;return e}},x={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[t,r],[/(opios)[\/\s]+([\w\.]+)/i],[[t,"Opera Mini"],r],[/\s(opr)\/([\w\.]+)/i],[[t,"Opera"],r],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[t,r],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[t,"IE"],r],[/(edge)\/((\d+)?[\w\.]+)/i],[t,r],[/(yabrowser)\/([\w\.]+)/i],[[t,"Yandex"],r],[/(puffin)\/([\w\.]+)/i],[[t,"Puffin"],r],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[t,"UCBrowser"],r],[/(comodo_dragon)\/([\w\.]+)/i],[[t,/_/g," "],r],[/(micromessenger)\/([\w\.]+)/i],[[t,"WeChat"],r],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[t,r],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[r,[t,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[r,[t,"Facebook"]],[/(headlesschrome) ([\w\.]+)/i],[r,[t,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[t,/(.+)/,"$1 WebView"],r],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[t,/(.+(?:g|us))(.+)/,"$1 $2"],r],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[r,[t,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[t,r],[/(dolfin)\/([\w\.]+)/i],[[t,"Dolphin"],r],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[t,"Chrome"],r],[/(coast)\/([\w\.]+)/i],[[t,"Opera Coast"],r],[/fxios\/([\w\.-]+)/i],[r,[t,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[r,[t,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[r,t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[t,[r,b.str,x.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[t,r],[/(navigator|netscape)\/([\w\.-]+)/i],[[t,"Netscape"],r],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[t,r]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[o,"amd64"]],[/(ia32(?=;))/i],[[o,v.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[o,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[o,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[o,/ower/,"",v.lowerize]],[/(sun4\w)[;\)]/i],[[o,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[o,v.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,a,[n,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[a,"Apple"],[n,f]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,i,[n,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[i,[a,"Amazon"],[n,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[i,b.str,x.device.amazon.model],[a,"Amazon"],[n,c]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,a,[n,c]],[/\((ip[honed|\s\w*]+);/i],[i,[a,"Apple"],[n,c]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,i,[n,c]],[/\(bb10;\s(\w+)/i],[i,[a,"BlackBerry"],[n,c]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[a,"Asus"],[n,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[i,"Xperia Tablet"],[n,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[i,[a,"Sony"],[n,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,i,[n,s]],[/android.+;\s(shield)\sbuild/i],[i,[a,"Nvidia"],[n,s]],[/(playstation\s[34portablevi]+)/i],[i,[a,"Sony"],[n,s]],[/(sprint\s(\w+))/i],[[a,b.str,x.device.sprint.vendor],[i,b.str,x.device.sprint.model],[n,c]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,i,[n,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[a,[i,/_/g," "],[n,c]],[/(nexus\s9)/i],[i,[a,"HTC"],[n,f]],[/(nexus\s6p)/i],[i,[a,"Huawei"],[n,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,i,[n,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[a,"Microsoft"],[n,s]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[a,"Microsoft"],[n,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[a,"Motorola"],[n,c]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[a,"Motorola"],[n,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,v.trim],[i,v.trim],[n,m]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[a,"Samsung"],[n,m]],[/\(dtv[\);].+(aquos)/i],[i,[a,"Sharp"],[n,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],i,[n,f]],[/smart-tv.+(samsung)/i],[a,[n,m],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[a,"Samsung"],i,[n,c]],[/sie-(\w+)*/i],[i,[a,"Siemens"],[n,c]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[a,"Nokia"],i,[n,c]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[a,"Acer"],[n,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],i,[n,f]],[/(lg) netcast\.tv/i],[a,i,[n,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[i,[a,"LG"],[n,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[a,"Lenovo"],[n,f]],[/linux;.+((jolla));/i],[a,i,[n,c]],[/((pebble))app\/[\d\.]+\s/i],[a,i,[n,g]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,i,[n,c]],[/crkey/i],[[i,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[i,[a,"Google"],[n,g]],[/android.+;\s(pixel c)\s/i],[i,[a,"Google"],[n,f]],[/android.+;\s(pixel xl|pixel)\s/i],[i,[a,"Google"],[n,c]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[i,/_/g," "],[a,"Xiaomi"],[n,c]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[a,"Meizu"],[n,f]],[/android.+a000(1)\s+build/i],[i,[a,"OnePlus"],[n,c]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[n,v.lowerize],a,i]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[r,[t,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[t,r],[/rv\:([\w\.]+).*(gecko)/i],[r,t]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[t,r],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[t,[r,b.str,x.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[t,"Windows"],[r,b.str,x.os.windows.version]],[/\((bb)(10);/i],[[t,"BlackBerry"],r],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[t,r],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[t,"Symbian"],r],[/\((series40);/i],[t],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[t,"Firefox OS"],r],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[t,r],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[t,"Chromium OS"],r],[/(sunos)\s?([\w\.]+\d)*/i],[[t,"Solaris"],r],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[t,r],[/(haiku)\s(\w+)/i],[t,r],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[r,/_/g,"."],[t,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[t,"Mac OS"],[r,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[t,r]]},w=d,C=d,k=function(e,t){if(!(this instanceof k))return new k(e,t).getResult();var n=e||(l&&l.navigator&&l.navigator.userAgent?l.navigator.userAgent:""),i=t?v.extend(y,t):y,a=new d,r=new h,o=new p,s=new w,c=new C;return this.getBrowser=function(){return b.rgx.call(a,n,i.browser),a.major=v.major(a.version),a},this.getCPU=function(){return b.rgx.call(r,n,i.cpu),r},this.getDevice=function(){return b.rgx.call(o,n,i.device),o},this.getEngine=function(){return b.rgx.call(s,n,i.engine),s},this.getOS=function(){return b.rgx.call(c,n,i.os),c},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,a=new d,r=new h,o=new p,s=new w,c=new C,this},this};k.VERSION="0.7.13",k.BROWSER={NAME:t,MAJOR:"major",VERSION:r},k.CPU={ARCHITECTURE:o},k.DEVICE={MODEL:i,VENDOR:a,TYPE:n,CONSOLE:s,MOBILE:c,SMARTTV:m,TABLET:f,WEARABLE:g,EMBEDDED:"embedded"},k.ENGINE={NAME:t,VERSION:r},k.OS={NAME:t,VERSION:r},typeof exports!=e&&(typeof module!=e&&module.exports&&(exports=module.exports=k),exports.UAParser=k);var _,T=l.jQuery||l.Zepto;typeof T!=e&&(_=new k,T.ua=_.getResult(),T.ua.get=function(){return _.getUA()},T.ua.set=function(e){_.setUA(e);var t,n=_.getResult();for(t in n)T.ua[t]=n[t]}),"undefined"!=typeof module&&module.exports?module.exports=k:l.UAParser=k}(this),__cx.define("ua-parser",function(){}),__cx.define("cx-stats-service",["jquery","cx-bus","ua-parser"],function(o,e){"use strict";var s,c,l,d=e.registerPlugin("StatsService");d&&(d.registerEvents(["ready","updated","error.ewt"]),c={ewt:{}},l={iAjaxTimeout:3e3,ewt:{dataURL:"",iApiKey:""}},d.registerCommand("configure",function(e){var t,n;e.data?(t=e.data,n=l,"object"==typeof t.ewt&&("string"==typeof t.ewt.dataURL&&(n.ewt.dataURL=t.ewt.dataURL),"string"!=typeof t.ewt.apikey&&"number"!=typeof t.ewt.apikey||(n.ewt.iApiKey=t.ewt.apikey),"number"==typeof t.ajaxTimeout&&(n.iAjaxTimeout=t.ajaxTimeout)),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),d.registerCommand("getStats",function(t){var n,e,i,a,r;t.data.group?(i=t.data.group,n=t.data.vqname,"EWT"===i&&(l.ewt.dataURL?(s=l.ewt.dataURL+(n?"?name="+n:""),e=s,i="GET",r=o.Deferred(),o.ajax({url:e,type:i,crossDomain:!0,data:a,timeout:l.iAjaxTimeout,headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(e){l.ewt.iApiKey&&e.setRequestHeader("apikey",l.ewt.iApiKey)},success:function(e){r.resolve(e||{})},error:function(e){r.reject(e||{})}}),r.promise().done(function(e){o.isEmptyObject(e)?t.deferred.reject({}):(n?c.ewt[n]=e:c.ewt=e,d.publish("updated",c),t.deferred.resolve(c.ewt[n]))}).fail(function(e){d.publish("error.ewt",e),t.deferred.reject("EWT request failed due to unknown reason")})):t.deferred.reject("Invalid EWT configuration"))):t.deferred.reject("Invalid Stats vqname configuration")}),d.registerCommand("getUserAgent",function(e){UAParser.prototype.mobileCheck=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t};var t=new UAParser;e.deferred.resolve(t)}),d.subscribe("App.ready",function(e){e.data.stats&&d.command("configure",e.data.stats)}),d.republish("ready"))}),__cx.define("cx-callback-service",["jquery","cx-bus","uri"],function(a,e,i){"use strict";var r,o,s,c,l=e.registerPlugin("CallbackService");l&&(l.registerEvents(["ready","scheduled","scheduleError","availableSlots","availabilityError"]),r={},o={dataURL:"",iAjaxTimeout:3e3,apiKey:"",callDirection:""},s=function(e,t){var n={},i=a.Deferred();return a.extend(n,t||{}),a.ajax({url:e,data:n,crossDomain:!0,type:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(e){o.iApiKey&&e.setRequestHeader("apikey",o.iApiKey)},success:function(e){i.resolve(e||{})},error:function(e){i.reject(e||{})}}),i.promise()},c=function(e){var t=a.Deferred();return a.ajax({url:e,dataType:"json",type:"GET",crossDomain:!0,beforeSend:function(e){o.iApiKey&&e.setRequestHeader("apikey",o.iApiKey)},success:function(e){t.resolve(e||{})},error:function(e){t.reject(e||{})}}),t.promise()},l.registerCommand("schedule",function(t){var e,n;a.isEmptyObject(t.data)?t.deferred.reject("No data found to schedule callback"):(n={},n=t.data,(e={})._call_direction=n.calldirection||o.callDirection||"",n.firstname&&(e.first_name=n.firstname),n.lastname&&(e.last_name=n.lastname),n.phonenumber&&(e._customer_number=n.phonenumber),n.subject&&(e.Subject=n.subject),n.email&&(e.email=n.email),n.desiredtime&&(e._desired_time=n.desiredtime),n.waitForAgent&&(e._wait_for_agent=n.waitForAgent),n.waitForUserConfirm&&(e._wait_for_user_confirm=n.waitForUserConfirm),n.mediaType&&(e._media_type=n.mediaType),n.callbackState&&(e._callback_state=n.callbackState),n.ursVirtualQueue&&(e._urs_virtual_queue=n.ursVirtualQueue),"object"==typeof n.userData&&a.extend(e,n.userData),a.extend(e,r),s(o.dataURL,e).done(function(e){l.publish("scheduled",e),t.deferred.resolve(e)}).fail(function(e){l.publish("scheduleError",e),t.deferred.reject(e)}))}),l.registerCommand("availability",function(t){var e,n;a.isEmptyObject(t.data)?t.deferred.reject("No query parameters passed for callback availability service"):(e=t.data,n=new i(n=o.dataURL+"/availability"),e.startDate&&n.addSearch("start",e.startDate),e.numberOfDays&&n.addSearch("number-of-days",e.numberOfDays),e.endDate&&n.addSearch("end",e.endDate),e.maxTimeSlots&&n.addSearch("max-time-slots",e.maxTimeSlots),c(n).done(function(e){l.publish("availableSlots",e),t.deferred.resolve(e)}).fail(function(e){l.publish("availabilityError",e),t.deferred.reject(e)}))}),l.registerCommand("configure",function(e){var t,n;e.data?(t=e.data,n=o,"object"==typeof t&&("string"==typeof t.dataURL&&(n.dataURL=t.dataURL),"string"!=typeof t.apikey&&"number"!=typeof t.apikey||(n.iApiKey=t.apikey),"number"==typeof t.ajaxTimeout&&(n.iAjaxTimeout=t.ajaxTimeout),"string"==typeof t.callDirection&&(n.callDirection=t.callDirection),"object"==typeof t.userData&&a.extend(r,t.userData)),e.deferred.resolve()):e.deferred.reject({error:"Invalid configuration"})}),l.subscribe("App.ready",function(e){e.data.callback&&l.command("configure",e.data.callback)}),l.republish("ready"))}),__cx.define("text!plugins/cx-calendar/html/cx-calendar.html",[],function(){return'<div class="cx-calendar cx-theme-background cx-drop-shadow">\r\n\r\n\t<div class="cx-calendar-error-container"></div>\r\n\r\n\t<div class="cx-spinner">\r\n\t\t<div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n\t\t\t<div class="cx-spin-circle"></div>\r\n\t\t\t<div class="cx-spin-inner-circle"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div class="cx-wrapper-left">\r\n\r\n\t\t<div class="cx-calendar-days">\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<div class="cx-calendar-periods">\r\n\r\n\t\t<ul class="cx-tab">\r\n\t\t  <li class="cx-tablinks i18n cx-active" data-period="morning" data-message="CalendarLabelMorning"></li>\r\n\t\t  <li class="cx-tablinks i18n" data-period="afternoon" data-message="CalendarLabelAfternoon"></li>\r\n\t\t  <li class="cx-tablinks i18n" data-period="evening" data-message="CalendarLabelEvening"></li>\r\n\t\t</ul>\r\n\r\n\t\t<div class="cx-wrapper-right">\r\n\r\n\t\t\t<div class="cx-tabcontent cx-morning">\r\n\t\t\t\t<div class="cx-time-wrapper">\r\n\t\t\t\t\t<div class="cx-time-content">\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-tabcontent cx-afternoon">\r\n\t\t\t\t<div class="cx-time-wrapper">\r\n\t\t\t\t\t<div class="cx-time-content">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-tabcontent cx-evening">\r\n\t\t\t\t<div class="cx-time-wrapper">\r\n\t\t\t\t\t<div class="cx-time-content">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-tabcontent cx-allDay">\r\n\t\t\t\t<div class="cx-time-wrapper">\r\n\t\t\t\t\t<div class="cx-time-content">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<div class="cx-loading-screen">\r\n\t\t<div class="cx-loading-icon cx-icon" data-icon="loading"></div>\r\n\t</div>\r\n\r\n</div>'}),__cx.define("text!plugins/cx-calendar/html/cx-calendar-days.html",[],function(){return'<div tabindex="0" class="cx-calendar-day-container"> \r\n\r\n\t<div class="cx-calendar-day-wrapper">\r\n\r\n\t\t<div class="cx-calendar-day i18n">\r\n\t\t</div> \r\n\r\n\t\t<span class="cx-calendar-day-divider">-</span>\r\n\r\n\t\t<div class="cx-calendar-date">\r\n\t\t</div> \r\n\r\n\t</div>\r\n\r\n</div>'}),__cx.define("text!plugins/cx-calendar/html/cx-calendar-time-row.html",[],function(){return'<div class="cx-calendar-row">\r\n\t\r\n</div>'}),__cx.define("text!plugins/cx-calendar/html/cx-calendar-mobile.html",[],function(){return'<div class="cx-calendar cx-theme-background">\r\n\r\n\t<div class="cx-calendar-error-container">\r\n\t</div>\r\n\t\r\n\t<div class="cx-calendar-header=">\r\n\t\t<div class="cx-button-group cx-buttons-window-control">\r\n\t\t\t<button class="cx-button-close cx-icon" tabindex="0" data-icon="close"></button>\r\n\t\t</div>\r\n\r\n\t\t<div class="cx-titlebar">\r\n\t\t\t<div class="cx-title i18n" data-message="CalendarTitle"></div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="cx-spinner">\r\n\t\t<div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n\t\t\t<div class="cx-spin-circle"></div>\r\n\t\t\t<div class="cx-spin-inner-circle"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div class="cx-wrapper-left">\r\n\r\n\t\t<div class="cx-calendar-days">\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<div class="cx-calendar-periods">\r\n\r\n\t\t<div class="cx-wrapper-right">\r\n\r\n\t\t\t<div class="cx-tabcontent cx-morning">\r\n\t\t\t\t<div class="cx-time-wrapper">\r\n\t\t\t\t\t<div class="cx-time-content">\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n</div>'}),__cx.define("text!plugins/cx-calendar/html/cx-calendar-error.html",[],function(){return'<div class="cx-calendar-error">\r\n\t<i class="cx-icon" data-icon="alert-circle"></i>\r\n\t<p class="i18n cx-error-message" data-message="CalendarError"></p>\r\n\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t<button class="cx-btn cx-btn-primary i18n" data-message="CalendarOkButtonText" tabindex="0"></button>\r\n\t</div>\r\n</div>'}),__cx.define("plugins/cx-calendar/nls/string.js",{CalendarDayLabels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],CalendarMonthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],CalendarLabelToday:"Today",CalendarLabelTomorrow:"Tomorrow",CalendarLabelMorning:"Morning",CalendarLabelAfternoon:"Afternoon",CalendarLabelEvening:"Evening",CalendarTitle:"Schedule a Call",CalendarOkButtonText:"Okay",CalendarError:"Unable to fetch availability details."}),__cx.define("cx-calendar",["jquery","cx-bus","text!./plugins/cx-calendar/html/cx-calendar.html","text!./plugins/cx-calendar/html/cx-calendar-days.html","text!./plugins/cx-calendar/html/cx-calendar-time-row.html","text!./plugins/cx-calendar/html/cx-calendar-mobile.html","text!./plugins/cx-calendar/html/cx-calendar-error.html","./plugins/cx-calendar/nls/string.js","cx-common","cookie","cx-iscroll"],function(s,e,c,l,r,d,t,u,h){"use strict";var p,f,a,m,n,g,v,b,o,x,y,i,w,C,k,_,T,S,E,L,A,D,M,I,j,N,P,O,z,F,R,H,B,q,W=e.registerPlugin("Calendar");W&&(W.registerEvents(["ready","generated","selectedDateTime"]),p={showAvailability:!0,refreshInterval:1,convertToUTC:!0,numberOfDays:5,calenderHours:{interval:15,morning:{enable:!0,openTime:"08:00",closeTime:"11:59"},afternoon:{enable:!0,openTime:"12:00",closeTime:"16:59"},evening:{enable:!0,openTime:"17:00",closeTime:"23:59"},allDay:{openTime:"00:00",closeTime:"23:59"}}},f=s(),n=m=!(a="<span></span>"),g=null,v=[],b=new Date,o=12,x={period:"morning"},y={},i={},w="click touchstart",C=function(){var e,t,n;m&&(e=s(window).height(),t=s(window).width(),f.removeClass("cx-portrait cx-landscape"),f.addClass(t<e?"cx-portrait":"cx-landscape"),n=f.find(".cx-calendar-header").outerHeight(),f.height(e),f.width(t),f.find(".cx-wrapper-left, .cx-calendar-periods").height(e-n))},k=function(){f&&h.populateAllPlaceholders(f,u)},_=function(){f&&f.find(".cx-time-content span").bind(w,function(e){f.find(".cx-calendar-row span.cx-active").removeClass("cx-active"),s(this).addClass("cx-active"),x.time=e.target.textContent,y.timeString=e.target.textContent,x.date&&y.timeString&&(s.extend(y,{date:new Date(new Date(x.date+" "+x.time))}),W.publish("selectedDateTime",y)),e.preventDefault()})},T=function(e){e&&(f.find(".cx-calendar-day-container.cx-active").removeClass("cx-active"),e.addClass("cx-active"),x.date=e.find(".cx-calendar-date").data("date-value"),y.dateString=e.find(".cx-calendar-date").text(),y.dayString=e.find(".cx-calendar-day").text(),p.showAvailability&&W.command("showAvailability",{date:new Date(new Date(x.date+" 00:00"))}),S(f.find('.cx-tablinks[data-period="'+x.period+'"]')))},S=function(e){m?E():(f.find(".cx-tabcontent").each(function(){s(this).hide()}),f.find(".cx-tablinks").each(function(){s(this).removeClass("cx-active")}),s(e).addClass("cx-active"),f.find(".cx-"+x.period).show(),L())},E=function(){var e=[],n=[],i=s(r),t=["morning","afternoon","evening"];s.each(p.calenderHours,function(e){!p.calenderHours[e]||p.calenderHours[e].enable||-1<(e=t.indexOf(e))&&t.splice(e,1)}),C(),0<t.length?s.each(t,function(e,t){x.period=t,n.push(D())}):(x.period="allDay",n.push(D()));for(var a=0;a<n.length;a++)e=e.concat(n[a]);f.find(".cx-time-content").empty(),s.each(e,function(e,t){i=(24==o?j:I)(t,i)}),f.find(".cx-time-content").append(i),_(),p.showAvailability&&A(),x.time&&f.find('span[data-time="'+x.time+'"]').addClass("cx-active"),q()},L=function(e){var t,n=0,i=s(r);e&&(x.period=F(b.getHours()+":"+b.getMinutes()),S(f.find('.cx-tablinks[data-period="'+x.period+'"]'))),t=D(),f.find(".cx-"+x.period+" .cx-time-content").empty(),s.each(t,function(e,t){n<4?(i=(24==o?j:I)(t,i),n++):(f.find(".cx-"+x.period+" .cx-time-content").append(i),i=s(r),i=(24==o?j:I)(t,i),n=1)}),f.find(".cx-"+x.period+" .cx-time-content").append(i),_(),p.showAvailability&&A(),x.time&&f.find('span[data-time="'+x.time+'"]').addClass("cx-active"),q()},A=function(){n&&f.find("span").each(function(){var e=s(this);i[e.attr("data-time")]||e.addClass("cx-disable-time")})},D=function(){for(var e={sTime:p.calenderHours[x.period].openTime,oTime:new Date(x.date+" "+p.calenderHours[x.period].openTime)},t=(p.calenderHours[x.period].closeTime,new Date(x.date+" "+p.calenderHours[x.period].closeTime)),n=p.calenderHours.interval,i=[e];e.oTime<t;)e=M(e,n),i.push(e);return i.pop(),i},M=function(e,t){e=new Date(new Date(x.date+" "+e.sTime).getTime()+6e4*t),t=(1==e.getHours().toString().length?"0"+e.getHours():e.getHours())+":"+(1==e.getMinutes().toString().length?"0"+e.getMinutes():e.getMinutes());return{oTime:e,sTime:t}},I=function(e,t){var n=s(a),i=new Date;return n.text(P(e.sTime)),n.attr("data-time",e.sTime),e.oTime<i&&n.addClass("cx-disable-time"),t.append(n),t},j=function(e,t){var n=s(a),i=new Date;return n.text(e.sTime),n.attr("data-time",e.sTime),e.oTime<i&&n.addClass("cx-disable-time"),t.append(n),t},N=function(e){if(Date.parse(e)){e=new Date(e);return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()}return!1},P=function(e){var t=e.split(":")[0],n=e.split(":")[1],e=12<=t?"PM":"AM";return 1==(t=(t%=12)||12).toString().length?"0"+t+":"+n+" "+e:t+":"+n+" "+e},O=function(e){return!e.date||N(e.date)},z=function(e){return"Invalid Date"!=new Date(N(b)+" "+e)},F=function(e){var t=p.calenderHours,n=t.morning.enable&&t.morning.openTime?new Date(x.date+" "+t.morning.openTime):"",i=t.morning.enable&&t.morning.closeTime?new Date(x.date+" "+t.morning.closeTime):"",a=t.afternoon.enable&&t.afternoon.openTime?new Date(x.date+" "+t.afternoon.openTime):"",r=t.afternoon.enable&&t.afternoon.closeTime?new Date(x.date+" "+t.afternoon.closeTime):"",o=t.evening.enable&&t.evening.openTime?new Date(x.date+" "+t.evening.openTime):"",s=t.evening.enable&&t.evening.closeTime?new Date(x.date+" "+t.evening.closeTime):"";return n<=(e=new Date(x.date+" "+e))&&e<=i?"morning":a&&r&&a<=e&&e<=r?"afternoon":o&&s&&o<=e&&e<=s?"evening":t.morning.enable?"morning":t.afternoon.enable?"afternoon":t.evening.enable?"evening":"allDay"},R=function(){B(),q()},H=function(){g&&g.destroy(),v&&s.each(v,function(e,t){t.destroy()})},B=function(){g&&g.refresh()},q=function(){s.each(v,function(e,t){t.indicators&&t.refresh()})},W.registerCommand("generate",function(e){if(e.data&&O(e.data)){f&&f.remove();var t=p.numberOfDays,n=function(e,t){for(var n,i=[],a=new Date(e);t--;)n={monthName:u.CalendarMonthLabels[a.getMonth()],dayName:u.CalendarDayLabels[a.getDay()],dayNumber:a.getDate(),date:N(a)},i.push(n),a.setDate(a.getDate()+1);return i[0].dayName=u.CalendarLabelToday,i[1].dayName=u.CalendarLabelTomorrow,i}(b,t),i=0,a=e.data;for(x.date=N(b),y.dateString=n[0].dayNumber+" "+n[0].monthName,y.dayString=n[0].dayName,f=s(m?d:c);i<t;){var r=s(l);r.find(".cx-calendar-day").text(n[i].dayName),r.find(".cx-calendar-date").text(n[i].dayNumber+" "+n[i].monthName),r.find(".cx-calendar-date").attr("data-date-value",n[i].date),f.find(".cx-calendar-days").append(r),0==i&&r.addClass("cx-active"),i++}(o=f.find(".cx-tablinks")).each(function(){p.calenderHours[s(this).attr("data-period")].enable||s(this).remove()}),2==o.length?o.addClass("cx-two-periods"):1==o.length&&o.removeClass("cx-two-periods").addClass("cx-one-period"),a.date?(o=N(a.date),a=new Date(a.date),x.period=F(a.getHours()+":"+a.getMinutes()),T(f.find("[data-date-value='"+o+"']").closest(".cx-calendar-day-container"))):m?E():L(!0),k(),f&&(f.find(".cx-tablinks").bind(w,function(){x.period=s(this).data("period"),delete y.timeString,S(this)}),f.find(".cx-calendar-day-container").bind(w,function(){T(s(this)),delete y.timeString})),g=h.Generate.Scrollbar(f.find(".cx-wrapper-left")[0]),s.each(f.find(".cx-time-wrapper"),function(e){v[e]=h.Generate.Scrollbar(s(this)[0])}),W.publish("generated",{ndCalendar:f,refreshIScroll:R,destroyIscroll:H}),p.showAvailability&&!y.date&&W.command("showAvailability",{date:new Date(new Date(x.date+" 00:00"))}),e.deferred.resolve()}else e.deferred.reject("Invalid data");var o}),W.registerCommand("showAvailability",function(e){var t;e.data?O(e.data)?(t=e.data,f.addClass("cx-disabled"),t=p.convertToUTC?new Date(t.date).toISOString():new Date(t.date),W.command("CallbackService.availability",{startDate:t,numberOfDays:1}),e.deferred.resolve()):e.deferred.reject("Invalid date"):e.deferred.reject("No date found to check availability")}),W.registerCommand("reset",function(e){y={},delete x.time,e.deferred.resolve()}),W.registerCommand("configure",function(e){var t,n,i,a;e.data?(n=e.data,t=p,"object"==typeof n&&("boolean"==typeof n.showAvailability&&(t.showAvailability=n.showAvailability),"string"!=typeof n.timeFormat&&"number"!=typeof n.timeFormat||12!=(a=parseInt(n.timeFormat))&&24!=a||(o=a),"number"==typeof n.numberOfDays&&(t.numberOfDays=n.numberOfDays),"object"==typeof n.calenderHours&&("number"==typeof(a=n.calenderHours).interval&&(t.calenderHours.interval=a.interval),"object"==typeof a.morning&&("boolean"==typeof(n=a.morning).enable&&(t.calenderHours.morning.enable=n.enable),"string"==typeof n.openTime&&z(n.openTime)?t.calenderHours.morning.openTime=n.openTime:e.deferred.reject("Invalid config: morning open time"),"string"==typeof n.closeTime&&z(n.closeTime)?t.calenderHours.morning.closeTime=n.closeTime:e.deferred.reject("Invalid config: morning close time")),"object"==typeof a.afternoon&&("boolean"==typeof(i=a.afternoon).enable&&(t.calenderHours.afternoon.enable=i.enable),"string"==typeof i.openTime&&z(i.openTime)?t.calenderHours.afternoon.openTime=i.openTime:e.deferred.reject("Invalid config: afternoon open time"),"string"==typeof i.closeTime&&z(i.closeTime)?t.calenderHours.afternoon.closeTime=i.closeTime:e.deferred.reject("Invalid config: afternoon close time")),"object"==typeof a.evening&&("boolean"==typeof(i=a.evening).enable&&(t.calenderHours.evening.enable=i.enable),"string"==typeof i.openTime&&z(i.openTime)?t.calenderHours.evening.openTime=i.openTime:e.deferred.reject("Invalid config: evening open time"),"string"==typeof i.closeTime&&z(i.closeTime)?t.calenderHours.evening.closeTime=i.closeTime:e.deferred.reject("Invalid config: evening close time")),"object"==typeof a.allDay&&("string"==typeof(a=a.allDay).openTime&&z(a.openTime)?t.calenderHours.allDay.openTime=a.openTime:e.deferred.reject("Invalid config: allDay open time"),"string"==typeof a.closeTime&&z(a.closeTime)?t.calenderHours.allDay.closeTime=a.closeTime:e.deferred.reject("Invalid config: allDay close time")))),e.deferred.resolve()):e.deferred.reject("No configuration provided")}),W.subscribe("CallbackService.availableSlots",function(e){e.data&&(e=e.data,i={},n=!0,s.each(e,function(e,t){e=new Date(e);e&&(e=(e=e.toTimeString().split(":",2))[0]+":"+e[1],i[e]=t)}),A()),f.removeClass("cx-disabled")}),W.subscribe("CallbackService.availabilityError",function(){var e=s(t);f.find(".cx-spinner").hide(),f.find(".cx-time-wrapper").addClass("cx-disable-time"),f.find(".calendar-error-container").empty(),n=!1,e.find("cx-button.cx-btn-primary").bind("click",function(){f.find(".cx-calendar-error-container").empty(),f.removeClass("cx-disabled")}),f.find(".cx-calendar-error-container").append(e).show(),k()}),W.subscribe("App.theme",function(){W.command("App.reTheme",{html:f})}),W.subscribe("App.timeFormat",function(e){o=e.data.timeFormat}),W.subscribe("App.i18n",function(e){"object"==typeof e.data.calendar&&s.extend(u,e.data.calendar)}),W.subscribe("App.mobileMode",function(){s(window).on("orientationchange",C),s(window).on("resize",C),m=!0,w="tap",C()}),W.subscribe("App.ready",function(e){e.data.calendar&&W.command("configure",e.data.calendar)}),W.republish("ready"))}),function(t){"function"==typeof __cx.define&&__cx.define.amd?__cx.define("intlTelInput",["jquery"],function(e){t(e,window,document)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(o,r,a,e){"use strict";function s(e,t){this.a=o(e),t&&o.extend(t,t,{a:t.allowDropdown,b:t.autoHideDialCode,c:t.autoPlaceholder,c2:t.customPlaceholder,d:t.dropdownContainer,e:t.excludeCountries,f:t.formatOnInit,g:t.geoIpLookup,h:t.initialCountry,i:t.nationalMode,j:t.numberType,k:t.onlyCountries,l:t.preferredCountries,m:t.separateDialCode,n:t.utilsScript}),this.b=o.extend({},i,t),this.ns="."+c+n++,this.d=Boolean(e.setSelectionRange),this.e=Boolean(o(e).attr("placeholder"))}var c="intlTelInput",n=1,i={a:!0,b:!0,c:!0,c2:null,d:"",e:[],f:!0,g:null,h:"",i:!0,j:"MOBILE",k:[],l:["us","gb"],m:!1,n:""},l=38,d=40,u=13,h=27,t=43,p=65,f=90,m=32,g=9;o(r).on("load",function(){o.fn[c].windowLoaded=!0}),s.prototype={_a:function(){return this.b.i&&(this.b.b=!1),this.b.m&&(this.b.b=this.b.i=!1,this.b.a=!0),this.g=/Android.+Mobile|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.g&&(o("body").addClass("iti-mobile"),this.b.d||(this.b.d="body")),this.h=new o.Deferred,this.i=new o.Deferred,this._b(),this._f(),this._h(),this._i(),this._i2(),[this.h,this.i]},_b:function(){this._d(),this._d2(),this._e()},_c:function(e,t,n){t in this.q||(this.q[t]=[]),this.q[t][n||0]=e},_c2:function(e,t){for(var n=0;n<e.length;n++)e[n]=e[n].toLowerCase();for(this.p=[],n=0;n<v.length;n++)t(o.inArray(v[n].iso2,e))&&this.p.push(v[n])},_d:function(){this.b.k.length?this._c2(this.b.k,function(e){return-1!=e}):this.b.e.length?this._c2(this.b.e,function(e){return-1==e}):this.p=v},_d2:function(){this.q={};for(var e=0;e<this.p.length;e++){var t=this.p[e];if(this._c(t.iso2,t.dialCode,t.priority),t.areaCodes)for(var n=0;n<t.areaCodes.length;n++)this._c(t.iso2,t.dialCode+t.areaCodes[n])}},_e:function(){this.r=[];for(var e=0;e<this.b.l.length;e++){var t=this.b.l[e].toLowerCase(),t=this._y(t,!1,!0);t&&this.r.push(t)}},_f:function(){this.a.attr("autocomplete","off");var e="intl-tel-input";this.b.a&&(e+=" allow-dropdown"),this.b.m&&(e+=" separate-dial-code"),this.a.wrap(o("<div>",{class:e})),this.k=o("<div>",{class:"flag-container"}).insertBefore(this.a);e=o("<div>",{class:"selected-flag"});e.appendTo(this.k),this.l=o("<div>",{class:"iti-flag"}).appendTo(e),this.b.m&&(this.t=o("<div>",{class:"selected-dial-code"}).appendTo(e)),this.b.a?(e.attr("tabindex","0"),o("<div>",{class:"iti-arrow"}).appendTo(e),this.m=o("<ul>",{class:"country-list hide"}),this.r.length&&(this._g(this.r,"preferred"),o("<li>",{class:"divider"}).appendTo(this.m)),this._g(this.p,""),this.o=this.m.children(".country"),this.b.d?this.dropdown=o("<div>",{class:"intl-tel-input iti-container"}).append(this.m):this.m.appendTo(this.k)):this.o=o()},_g:function(e,t){for(var n="",i=0;i<e.length;i++){var a=e[i];n+="<li class='country "+t+"' data-dial-code='"+a.dialCode+"' data-country-code='"+a.iso2+"'>",n+="<div class='flag-box'><div class='iti-flag "+a.iso2+"'></div></div>",n+="<span class='country-name'>"+a.name+"</span>",n+="<span class='dial-code'>+"+a.dialCode+"</span>",n+="</li>"}this.m.append(n)},_h:function(){var e=this.a.val();this._af(e)?this._v(e,!0):"auto"!==this.b.h&&(this.b.h?this._z(this.b.h,!0):(this.j=(this.r.length?this.r:this.p)[0].iso2,e||this._z(this.j,!0)),e||this.b.i||this.b.b||this.b.m||this.a.val("+"+this.s.dialCode)),e&&this._u(e,this.b.f)},_i:function(){this._j(),this.b.b&&this._l(),this.b.a&&this._i1()},_i1:function(){var t=this,e=this.a.closest("label");e.length&&e.on("click"+this.ns,function(e){t.m.hasClass("hide")?t.a.focus():e.preventDefault()}),this.l.parent().on("click"+this.ns,function(){!t.m.hasClass("hide")||t.a.prop("disabled")||t.a.prop("readonly")||t._n()}),this.k.on("keydown"+t.ns,function(e){!t.m.hasClass("hide")||e.which!=l&&e.which!=d&&e.which!=m&&e.which!=u||(e.preventDefault(),e.stopPropagation(),t._n()),e.which==g&&t._ac()})},_i2:function(){var e=this;this.b.n?o.fn[c].windowLoaded?o.fn[c].loadUtils(this.b.n,this.i):o(r).on("load",function(){o.fn[c].loadUtils(e.b.n,e.i)}):this.i.resolve(),"auto"===this.b.h?this._i3():this.h.resolve()},_i3:function(){o.fn[c].autoCountry?this.handleAutoCountry():o.fn[c].startedLoadingAutoCountry||(o.fn[c].startedLoadingAutoCountry=!0,"function"==typeof this.b.g&&this.b.g(function(e){o.fn[c].autoCountry=e.toLowerCase(),setTimeout(function(){o(".intl-tel-input input").intlTelInput("handleAutoCountry")})}))},_j:function(){var e=this;this.a.on("keyup"+this.ns,function(){e._v(e.a.val())}),this.a.on("cut"+this.ns+" paste"+this.ns,function(){setTimeout(function(){e._v(e.a.val())})})},_j2:function(e){var t=this.a.attr("maxlength");return t&&e.length>t?e.substr(0,t):e},_l:function(){var n=this;this.a.on("mousedown"+this.ns,function(e){n.a.is(":focus")||n.a.val()||(e.preventDefault(),n.a.focus())}),this.a.on("focus"+this.ns,function(){n.a.val()||n.a.prop("readonly")||!n.s.dialCode||(n.a.val("+"+n.s.dialCode),n.a.one("keypress.plus"+n.ns,function(e){e.which==t&&n.a.val("")}),setTimeout(function(){var e,t=n.a[0];n.d&&(e=n.a.val().length,t.setSelectionRange(e,e))}))});var e=this.a.prop("form");e&&o(e).on("submit"+this.ns,function(){n._removeEmptyDialCode()}),this.a.on("blur"+this.ns,function(){n._removeEmptyDialCode()})},_removeEmptyDialCode:function(){var e=this.a.val();"+"==e.charAt(0)&&((e=this._m(e))&&this.s.dialCode!=e||this.a.val("")),this.a.off("keypress.plus"+this.ns)},_m:function(e){return e.replace(/\D/g,"")},_n:function(){this._o();var e=this.m.children(".active");e.length&&(this._x(e),this._ad(e)),this._p(),this.l.children(".iti-arrow").addClass("up")},_o:function(){var e,t,n,i,a=this;this.b.d&&this.dropdown.appendTo(this.b.d),this.n=this.m.removeClass("hide").outerHeight(),this.g||(t=(e=this.a.offset()).top,i=o(r).scrollTop(),n=t+this.a.outerHeight()+this.n<i+o(r).height(),i=t-this.n>i,this.m.toggleClass("dropup",!n&&i),this.b.d&&(i=!n&&i?0:this.a.innerHeight(),this.dropdown.css({top:t+i,left:e.left}),o(r).on("scroll"+this.ns,function(){a._ac()})))},_p:function(){var t=this;this.m.on("mouseover"+this.ns,".country",function(){t._x(o(this))}),this.m.on("click"+this.ns,".country",function(){t._ab(o(this))});var e=!0;o("html").on("click"+this.ns,function(){e||t._ac(),e=!1});var n="",i=null;o(a).on("keydown"+this.ns,function(e){e.preventDefault(),e.which==l||e.which==d?t._q(e.which):e.which==u?t._r():e.which==h?t._ac():(e.which>=p&&e.which<=f||e.which==m)&&(i&&clearTimeout(i),n+=String.fromCharCode(e.which),t._s(n),i=setTimeout(function(){n=""},1e3))})},_q:function(e){var t=this.m.children(".highlight").first(),t=e==l?t.prev():t.next();t.length&&(t.hasClass("divider")&&(t=e==l?t.prev():t.next()),this._x(t),this._ad(t))},_r:function(){var e=this.m.children(".highlight").first();e.length&&this._ab(e)},_s:function(e){for(var t=0;t<this.p.length;t++)if(this._t(this.p[t].name,e)){var n=this.m.children("[data-country-code="+this.p[t].iso2+"]").not(".preferred");this._x(n),this._ad(n,!0);break}},_t:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_u:function(e,t){t&&r.intlTelInputUtils&&this.s&&(t=this.b.m||!this.b.i&&"+"==e.charAt(0)?intlTelInputUtils.numberFormat.INTERNATIONAL:intlTelInputUtils.numberFormat.NATIONAL,e=intlTelInputUtils.formatNumber(e,this.s.iso2,t)),e=this._ah(e),this.a.val(e)},_v:function(e,t){e&&this.b.i&&this.s&&"1"==this.s.dialCode&&"+"!=e.charAt(0)&&(e="+"+(e="1"!=e.charAt(0)?"1"+e:e));var n=this._af(e),i=null;if(n){var a=this.q[this._m(n)];if(!(this.s&&-1!=o.inArray(this.s.iso2,a))||this._w(e,n))for(var r=0;r<a.length;r++)if(a[r]){i=a[r];break}}else"+"==e.charAt(0)&&this._m(e).length?i="":e&&"+"!=e||(i=this.j);null!==i&&this._z(i,t)},_w:function(e,t){return"+1"==t&&4<=this._m(e).length},_x:function(e){this.o.removeClass("highlight"),e.addClass("highlight")},_y:function(e,t,n){for(var i=t?v:this.p,a=0;a<i.length;a++)if(i[a].iso2==e)return i[a];if(n)return null;throw new Error("No country data for '"+e+"'")},_z:function(e,t){var n=this.s&&this.s.iso2?this.s:{};this.s=e?this._y(e,!1,!1):{},this.s.iso2&&(this.j=this.s.iso2),this.l.attr("class","iti-flag "+e);var i,a=e?this.s.name+": +"+this.s.dialCode:"Unknown";this.l.parent().attr("title",a),this.b.m&&(i=this.s.dialCode?"+"+this.s.dialCode:"",a=this.a.parent(),n.dialCode&&a.removeClass("iti-sdc-"+(n.dialCode.length+1)),i&&a.addClass("iti-sdc-"+i.length),this.t.text(i)),this._aa(),this.o.removeClass("active"),e&&this.o.find(".iti-flag."+e).first().closest(".country").addClass("active"),t||n.iso2===e||this.a.trigger("countrychange",this.s)},_aa:function(){var e;r.intlTelInputUtils&&!this.e&&this.b.c&&this.s&&(e=intlTelInputUtils.numberType[this.b.j],e=this.s.iso2?intlTelInputUtils.getExampleNumber(this.s.iso2,this.b.i,e):"",e=this._ah(e),"function"==typeof this.b.c2&&(e=this.b.c2(e,this.s)),this.a.attr("placeholder",e))},_ab:function(e){this._z(e.attr("data-country-code")),this._ac(),this._ae(e.attr("data-dial-code"),!0),this.a.focus(),this.d&&(e=this.a.val().length,this.a[0].setSelectionRange(e,e))},_ac:function(){this.m.addClass("hide"),this.l.children(".iti-arrow").removeClass("up"),o(a).off(this.ns),o("html").off(this.ns),this.m.off(this.ns),this.b.d&&(this.g||o(r).off("scroll"+this.ns),this.dropdown.detach())},_ad:function(e,t){var n=this.m,i=n.height(),a=n.offset().top,r=a+i,o=e.outerHeight(),s=e.offset().top,c=s+o,l=s-a+n.scrollTop(),e=i/2-o/2;s<a?(t&&(l-=e),n.scrollTop(l)):r<c&&(t&&(l+=e),n.scrollTop(l-(i-o)))},_ae:function(e,t){var n=this.a.val();if(e="+"+e,"+"==n.charAt(0))var i=this._af(n),i=i?n.replace(i,e):e;else{if(this.b.i||this.b.m)return;if(n)i=e+n;else{if(!t&&this.b.b)return;i=e}}this.a.val(i)},_af:function(e){var t="";if("+"==e.charAt(0))for(var n="",i=0;i<e.length;i++){var a=e.charAt(i);if(o.isNumeric(a)&&(n+=a,this.q[n]&&(t=e.substr(0,i+1)),4==n.length))break}return t},_ag:function(){return(this.b.m?"+"+this.s.dialCode:"")+this.a.val()},_ah:function(e){var t;return!this.b.m||(t=this._af(e))&&(t=" "===e[(t=null!==this.s.areaCodes?"+"+this.s.dialCode:t).length]||"-"===e[t.length]?t.length+1:t.length,e=e.substr(t)),this._j2(e)},handleAutoCountry:function(){"auto"===this.b.h&&(this.j=o.fn[c].autoCountry,this.a.val()||this.setCountry(this.j),this.h.resolve())},destroy:function(){var e;this.allowDropdown&&(this._ac(),this.l.parent().off(this.ns),this.a.closest("label").off(this.ns)),this.b.b&&(e=this.a.prop("form"))&&o(e).off(this.ns),this.a.off(this.ns),this.a.parent().before(this.a).remove()},getExtension:function(){return r.intlTelInputUtils?intlTelInputUtils.getExtension(this._ag(),this.s.iso2):""},getNumber:function(e){return r.intlTelInputUtils?intlTelInputUtils.formatNumber(this._ag(),this.s.iso2,e):""},getNumberType:function(){return r.intlTelInputUtils?intlTelInputUtils.getNumberType(this._ag(),this.s.iso2):-99},getSelectedCountryData:function(){return this.s||{}},getValidationError:function(){return r.intlTelInputUtils?intlTelInputUtils.getValidationError(this._ag(),this.s.iso2):-99},isValidNumber:function(){var e=o.trim(this._ag()),t=this.b.i?this.s.iso2:"";return r.intlTelInputUtils?intlTelInputUtils.isValidNumber(e,t):null},setCountry:function(e){e=e.toLowerCase(),this.l.hasClass(e)||(this._z(e),this._ae(this.s.dialCode,!1))},setNumber:function(e,t){this._v(e),this._u(e,!t)},handleUtils:function(){r.intlTelInputUtils&&(this.a.val()&&this._u(this.a.val(),this.b.f),this._aa()),this.i.resolve()}},o.fn[c]=function(n){var t,i=arguments;if(n===e||"object"==typeof n){var a=[];return this.each(function(){var e,t;o.data(this,"plugin_"+c)||(t=(e=new s(this,n))._a(),a.push(t[0]),a.push(t[1]),o.data(this,"plugin_"+c,e))}),o.when.apply(null,a)}if("string"==typeof n&&"_"!==n[0])return this.each(function(){var e=o.data(this,"plugin_"+c);e instanceof s&&"function"==typeof e[n]&&(t=e[n].apply(e,Array.prototype.slice.call(i,1))),"destroy"===n&&o.data(this,"plugin_"+c,null)}),t!==e?t:this},o.fn[c].getCountryData=function(){return v},o.fn[c].loadUtils=function(e,t){o.fn[c].loadedUtilsScript?t&&t.resolve():(o.fn[c].loadedUtilsScript=!0,o.ajax({url:e,complete:function(){o(".intl-tel-input input").intlTelInput("handleUtils")},dataType:"script",cache:!0}))},o.fn[c].version="9.0.9";for(var v=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy (Saint-Barthélemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]],b=0;b<v.length;b++){var x=v[b];v[b]={name:x[0],iso2:x[1],dialCode:x[2],priority:x[3]||0,areaCodes:x[4]||null}}}),__cx.define("text!plugins/cx-callback/html/cx-callback.html",[],function(){return'<div>\r\n\r\n\t\x3c!-- <div class="cx-error-container"></div> --\x3e\r\n\r\n\t<div class="cx-spinner">\r\n\t\t<div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n\t\t\t<div class="cx-spin-circle"></div>\r\n\t\t\t<div class="cx-spin-inner-circle"></div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t\r\n\r\n\t<form class="cx-content wrapper" data-async enctype="multipart/form-data" role="form" novalidate tabindex="0">\r\n\t\t<div class="cx-wrapper">\r\n\t\t\t<div class="cx-callback-details">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_form_callback_firstname" data-message="CallbackFirstName"></label></th>\r\n\t\t\t\t\t\t<td><i class="cx-fonticon cx-icon-alert-circle"></i><input class="cx-form-control i18n cx-callback-firstname" id="cx_form_callback_firstname" maxlength="100" name="firstname" type="text" data-message="CallbackPlaceholderFirstName" data-message-type="placeholder" autofocus/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_form_callback_lastname" data-message="CallbackLastName"></label></th>\r\n\t\t\t\t\t\t<td><i class="cx-fonticon cx-icon-alert-circle"></i><input class="cx-form-control i18n cx-callback-lastname" id="cx_form_callback_lastname" maxlength="100" name="lastname" type="text" data-message="CallbackPlaceholderLastName" data-message-type="placeholder"/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_form_callback_phone_number" data-message="CallbackPhoneNumber"></label></th>\r\n\t\t\t\t\t\t<td><i class="cx-fonticon cx-icon-alert-circle"></i><input class="cx-form-control i18n cx-callback-phone-number" id="cx_form_callback_phone_number" maxlength="20" name="phonenumber" type="tel" data-message="CallbackPlaceholderPhoneNumber" data-message-type="placeholder" onkeypress=\'return (event.charCode >= 48 && event.charCode <= 57) || (event.charCode == 43)\'/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n" for="cx_form_callback_email" data-message="CallbackEmail"></label></th>\r\n\t\t\t\t\t\t<td><i class="cx-fonticon cx-icon-alert-circle"></i><input class="cx-form-control i18n cx-callback-email" id="cx_form_callback_email" maxlength="100" name="email" type="email" data-message="CallbackPlaceholderEmail" data-message-type="placeholder"/></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th class="cx-last-th"><label class="cx-control-label i18n" data-message="CallbackDateTime"></label></th>\r\n\t\t\t\t\t\t<td class="cx-last-td"><label class="cx-control-span i18n cx-callback-date-label" data-message="CallbackDateTimeDescription"></label></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-callback-notes">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th><label class="cx-control-label i18n cx-callback-notes-label" for="cx_form_callback_subject" data-message="CallbackNotes"></label></th>\r\n\t\t\t\t\t\t<td><textarea id="cx_form_callback_subject" name="subject" class="cx-form-control i18n" rows="5" data-message-type="placeholder" data-message="CallbackPlaceholderNotes"></textarea></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="cx-callback-date">\r\n\t\t\t\t<label class="cx-radio-inline cx-control-label cx-right-away"><input type="radio" id="cx_form_callback_now" name="desiredtime" checked><span class="i18n" data-message="CallbackRadioButtonText"></span></label>\r\n\t\t\t\t\r\n\t\t\t\t<label class="cx-radio-inline cx-control-label cx-callback-schedule">\r\n\t\t\t\t\t<input type="radio" name="desiredtime" value="desiredtime" class="cx-callback-later">\r\n\t\t\t\t\t<i class="cx-fonticon icon-alert-circle"></i>\r\n\t\t\t\t\t<i class="cx-fonticon icon-calendar-generic"></i>\r\n\t\t\t\t\t<i class="cx-fonticon icon-dropdown-arrow"></i>\r\n\t\t\t\t\t<input name="desiredFormatedTime" class="cx-form-control i18n cx-callback-time" readonly id="cx_form_callback_time" type="text" data-message="CallbackPlaceholderCalendar" data-message-type="placeholder"/>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</form>\r\n\r\n\r\n\t\x3c!-- <div class="cx-button-group cx-callback-done">\r\n\t\t<button class="i18n cx-btn cx-btn-primary" data-message="CallbackDone" tabindex="0"></button>\r\n\t</div> --\x3e\r\n\r\n<div>'}),__cx.define("text!plugins/cx-callback/html/cx-callback-confirmed.html",[],function(){return'<div class="cx-confirmation">\r\n\t<div class="cx-confirmation-wrapper" tabindex="0">\r\n\r\n\t\t<div class="i18n cx-title-booked-description" data-message="CallbackBookedDescription"></div> \r\n\t\r\n\t\t<table>\r\n\t\t\t<tr>\r\n\t\t\t\t<th><label class="i18n" data-message="CallbackBookedPhoneNumberLabel"></label></th>\r\n\t\t\t\t<td><label name="phonenumber" class="cx-control-label"/></label></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr class="cx-confirmed-date-time">\r\n\t\t\t\t<th><label class="i18n" data-message="CallbackBookedDateTimeLabel"></label></th>\r\n\t\t\t\t<td><label name="desiredtime" class="cx-control-label"/></label></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<th><label class="i18n" data-message="CallbackBookedNotesLabel"></label></th>\r\n\t\t\t\t<td><label name="subject" class="cx-control-label"/></label></td>\r\n\t\t\t</tr>\t\t\t\t\r\n\t\t</table>\r\n\t</div>\r\n</div>'}),__cx.define("text!plugins/cx-callback/html/cx-callback-error.html",[],function(){return'<div class="cx-dialog cx-send-failed">\r\n\t<i class="cx-fonticon cx-icon-alert-circle"></i>\r\n\t<p class="i18n cx-fail-message"></p>\r\n\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t<button class="cx-failed-retry cx-btn cx-btn-primary i18n" data-message="CallbackOk" tabindex="0"></button>\r\n\t</div>\r\n</div>\r\n'}),__cx.define("text!plugins/cx-callback/html/cx-callback-warning.html",[],function(){return'<div class="cx-dialog cx-dialog-close-confirm" data-dialog="close-confirm">\r\n\t<p class="i18n cx-warning-message" data-message="CallbackCloseConfirm"></p>\r\n\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t<button class="i18n cx-btn cx-btn-default" data-message="CallbackNoButtonText" tabindex="0"></button>\r\n\t\t<button class="cx-failed-retry cx-btn cx-btn-primary i18n" data-message="CallbackYesButtonText" tabindex="0"></button>\r\n\t</div>\r\n</div>\r\n'}),__cx.define("text!plugins/cx-callback/html/cx-callback-subtitle.html",[],function(){return'<div class="cx-callback-header-container message cx-subtitle">\r\n\t<div class="i18n cx-title-description" data-message="CallbackTitleDescription"></div>\r\n\t<label class="i18n cx-control-label cx-today-date" data-message="CallbackTodayDate" data-message-type="date"></label>\r\n</div>'}),__cx.define("plugins/cx-callback/nls/string.js",{CallbackTitle:"Receive a Call",CallbackTitleDescription:"Please fill out the following details.",CancelButtonText:"Cancel",ConfirmButtonText:"Confirm",CallbackFirstName:"First Name",CallbackPlaceholderFirstName:"Required",CallbackLastName:"Last Name",CallbackPlaceholderLastName:"Required",CallbackPhoneNumber:"Phone",CallbackPlaceholderPhoneNumber:"Required",CallbackEmail:"Email",CallbackPlaceholderEmail:"Optional",CallbackPlaceholderNotes:"Optional",CallbackDateTime:"Date & Time",CallbackDateTimeDescription:"When should we call you? (Required)",CallbackTodayDate:"Today",CallbackDayLabels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],CallbackMonthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CallbackTimeAtText:"at",CallbackRadioButtonText:"As Soon As Possible",CallbackBookedPhoneNumberLabel:"Phone",CallbackBookedDateTimeLabel:"Date & Time",CallbackBookedNotesLabel:"Optional Notes",CallbackBookedDescription:"You're booked in!",CallbackNotes:"Notes",CallbackDone:"Done",CallbackOk:"Okay",CallbackCloseConfirm:"Are you sure you want to cancel arranging this callback?",CallbackNoButtonText:"No",CallbackYesButtonText:"Yes",CallbackPlaceholderCalendar:"Custom Date & Time",Errors:{unknownError:"Something went wrong, we apologize for the inconvenience. Please check your connection settings and try again."}}),__cx.define("cx-callback",["jquery","cx-bus","text!./plugins/cx-callback/html/cx-callback.html","text!./plugins/cx-callback/html/cx-callback-confirmed.html","text!./plugins/cx-callback/html/cx-callback-error.html","text!./plugins/cx-callback/html/cx-callback-warning.html","text!./plugins/cx-callback/html/cx-callback-subtitle.html","./plugins/cx-callback/nls/string.js","cx-common","cookie","cx-iscroll","intlTelInput"],function(o,e,n,a,s,i,r,c,l){"use strict";var d,u,h,p,f,m,g,v,b,x,t,y,w,C,k,_=e.registerPlugin("Callback");_&&(_.registerEvents(["ready","opened","closed"]),d={countryCodes:!0,formValidation:!0,immediateCallback:!0,scheduledCallback:!0,queue:"",oUserData:{}},u=o(),h=o(),p=o(),f=o(),x=b=v=g=m=!1,t=new Date,y="",w={},C=[],k=["cx_form_callback_firstname","cx_form_callback_lastname","cx_form_callback_phone_number","cx_form_callback_email","cx_form_callback_time"],_.registerCommand("open",function(t){var e;m?t.deferred.reject("already opened"):(m=!0,u&&u.remove(),u=l.Generate.Container({type:"overlay",title:c.CallbackTitle,body:n,icon:"call-incoming",controls:"close",subtitle:r,classes:"cx-callback",buttons:{type:"binary",primary:{label:c.ConfirmButtonText,classes:"cx-callback-confirm",i18n:"ConfirmButtonText"},secondary:{label:c.CancelButtonText,classes:"cx-callback-cancel",i18n:"CancelButtonText"}}}),e=o(i),l.addDialog(u,e,"close-confirm"),e.find(".cx-btn-primary").bind("click",function(){b=!1,_.command("close")}),e.find(".cx-btn-default").bind("click",function(){l.hideDialog(u,"confirm-close")}),u.append('<div class="cx-calendar-container" tabindex="0"></div>'),(f=l.Generate.Buttons({type:"primary",primary:c.CallbackDone})).addClass("cx-callback-done"),f.hide(),u.find(".cx-button-container").append(f),_.command("Overlay.open",{html:u,immutable:!0}).done(function(e){m=!0,T(),L(),A(t),e.events.close&&_.subscribe(e.events.close,function(){m=!1,_.publish("closed")}),e.events.closeAttempt&&_.subscribe(e.events.closeAttempt,function(){_.command("close")}),v&&E(),_.publish("opened"),t.deferred.resolve()}).fail(function(){t.deferred.reject("Could not open callback")}),t.deferred.resolve())}),_.registerCommand("close",function(e){m?P()?_.command("Overlay.close").done(function(){m=!1,_.publish("closed"),e.deferred.resolve()}).fail(function(){e.deferred.reject("Could not close callback")}):e.deferred.reject("User must confirm close"):e.deferred.reject("Already closed")}),_.registerCommand("configure",function(e){var t,n;e.data?(t=e.data,n=d,"object"==typeof t&&("boolean"==typeof t.countryCodes&&(n.countryCodes=t.countryCodes),"object"==typeof t.userData&&o.extend(n.oUserData,t.userData),"boolean"==typeof t.formValidation&&(n.formValidation=t.formValidation),"boolean"==typeof t.immediateCallback&&(n.immediateCallback=t.immediateCallback),"boolean"==typeof t.scheduledCallback&&(n.scheduledCallback=t.scheduledCallback),"object"==typeof t.ewt&&(n.ewt=t.ewt)),e.deferred.resolve()):e.deferred.reject("No configuration provided")}),_.subscribe("CallbackService.scheduled",function(e){var t=o(a),e=e.data||"",i=Object.keys?Object.keys(e).length:0;b=!1,u.find(".cx-subtitle").addClass("cx-callback-scheduled"),u.find(".cx-callback").addClass("cx-callback-scheduled"),u.find(".cx-footer").addClass("cx-callback-scheduled"),u.find(".cx-wrapper").hide(),t.find(".cx-control-label").each(function(){var e=o(this),t=o(this).attr("name"),n=w[t];w[t]?("phonenumber"!=t&&"subject"!=t||e.text(n),"desiredtime"==t&&y&&1==i&&(e.text(y),e.closest("tr").removeClass("cx-confirmed-date-time"))):e.closest("tr").hide()}),u.find("form").append(t),L(),E(),v||l.Generate.Scrollbar(u.find(".cx-confirmation-wrapper")[0])}),_.subscribe("CallbackService.scheduleError",function(e){if(e.data){var n=c.Errors.unknownError,t=o(s);if(u.find(".cx-dialog-error").empty(),e.data.responseJSON&&e.data.responseJSON.message&&-1!==(n=e.data.responseJSON.message).indexOf("Too many requests")){for(var i=[],a=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+/g,r=a.exec(n);null!=r;)i.push(r+"Z"),r=a.exec(n);o.each(i,function(e,t){n=n.replace(t,new Date(t))}),n=n.replace("Proposing time slots.","")}400===e.data.status?t.find(".cx-fail-message").append(n):t.find(".cx-fail-message").append(c.Errors.unknownError),u.find(".cx-dialog-error").append(t).show(),L(),u.find("button.cx-failed-retry").click(function(){u.find(".cx-fail-message").empty(),j(),u.find(".cx-dialog-error").hide()})}}),_.subscribe("Calendar.generated",function(e){var t;e.data&&(t=e.data,u.find(".cx-calendar-container").append(t.ndCalendar).animate({height:t.ndCalendar.outerHeight()},290),h=u.find(".cx-calendar-container"),t.refreshIScroll(),v?h.find(".cx-button-close").bind("click touchstart",function(e){t.destroyIscroll(),S(),e.preventDefault(),e.stopPropagation()}):(h.bind("click touchstart",function(e){x=!0,e.preventDefault(),e.stopPropagation()}),u.bind("click touchstart",function(){g&&!x&&(t.destroyIscroll(),S()),x=!1})),g=!0)}),_.subscribe("Calendar.selectedDateTime",function(e){var t,n;e.data&&(t=e.data,n=u.find(".cx-callback-time"),t.dayString&&t.dateString&&t.timeString&&t.date&&(e=t.dayString+" - "+t.dateString+" - "+t.timeString,n.val(e).attr("date-value",t.date),u.find("input#cx_form_callback_now").prop("checked",!1),u.find(".cx-callback-later").prop("checked",!0),n.hasClass("cx-error")&&n.removeClass("cx-border-error").removeClass("cx-error").closest("label").find(".cx-icon-alert-circle").css("display","none")),S())}),_.subscribe("App.closeAll",function(){_.command("close")}),_.subscribe("App.theme",function(){_.command("App.reTheme",{html:u})}),_.subscribe("App.i18n",function(e){"object"==typeof e.data.callback&&o.extend(c,e.data.callback)}),_.subscribe("App.mobileMode",function(){o(window).on("orientationchange",E),o(window).on("resize",E),v=!0,E()}),_.subscribe("App.ready",function(e){e.data.callback&&_.command("configure",e.data.callback)}),_.republish("ready"));var T=function(){u&&(u.find(".cx-button-close").click(function(){_.command("close")}),u.find("> .cx-button-container").find(".cx-btn-default, .cx-callback-done .cx-btn-primary").click(function(){_.command("close")}),u.find(".cx-callback-confirm.cx-btn-primary").click(function(e){e.preventDefault(),N()}),u.find("input, textarea, radio").bind("keydown change",function(){b=!0}),u.find(".cx-callback-phone-number").on("countrychange",function(e,t){t.dialCode&&"+"!=e.currentTarget.value&&o(this).val("+"+t.dialCode)}),u.find(".cx-callback-time").click(function(){g?S():_.command("Calendar.generate",{date:o(this).attr("date-value")})}))},S=function(){u&&(u.find(".cx-calendar-container").animate({height:0},290,function(){o(this).empty()}),x=g=!1)},E=function(){var e,t;v&&(e=o(window).height(),t=o(window).width(),u.removeClass("cx-portrait cx-landscape"),u.addClass(t<e?"cx-portrait":"cx-landscape"),u.find(".cx-titlebar .cx-icon").removeClass("cx-px48").addClass("cx-px32"),u.find(".cx-titlebar").outerHeight(),u.find(".cx-footer").outerHeight(),u=l.mobileScreenScale(u),d.countryCodes&&u.find(".cx-callback-phone-number").intlTelInput({dropdownContainer:".cx-callback"}),e=u.find(".cx-callback-notes tr").detach(),u.find(".cx-callback-details tr").eq(3).after(e),u.find(".cx-callback-notes").remove(),u.find(".cx-today-date").hide())},L=function(){u&&u.find(".i18n").each(function(){var e=o(this);switch(e.data("message-type")){case"placeholder":e.attr("placeholder",c[e.data("message")]);break;case"date":e.text(c[e.data("message")]+", "+t.getDate()+" "+c.CallbackMonthLabels[t.getMonth()]+" "+c.CallbackTimeAtText+" "+(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes());break;default:e.text(c[e.data("message")])}})},A=function(e){var t,n,i;u&&(t={},e.data&&"object"==typeof e.data.form&&(t=e.data.form,o("#cx_form_callback_firstname").val(t.firstname||""),o("#cx_form_callback_lastname").val(t.lastname||""),o("#cx_form_callback_phone_number").val(t.phonenumber||"").keyup(),o("#cx_form_callback_email").val(t.email||""),o("#cx_form_callback_subject").val(t.subject||""),t.desiredTime&&"now"==t.desiredTime&&o("#cx_form_callback_now").prop("checked",!0),t.desiredTime&&"now"!=t.desiredTime&&(n=new Date(t.desiredTime),u.find(".cx-callback-later").prop("checked",!0),u.find(".cx-callback-time").attr("date-value",n),u.find(".cx-callback-time").val((e=n,i=new Date(e),c.CallbackDayLabels[i.getDay()]+" - "+i.getDate()+" "+c.CallbackMonthLabels[i.getMonth()]+" - "+(n=i.getHours()+":"+(i.getMinutes()<10?"0":"")+i.getMinutes(),e=n.split(":")[0],i=12<=e?"PM":"AM",(e=(e%=12)||12)+":"+n.split(":")[1]+" "+i)))),!0===t.autoSubmit&&N()),d.countryCodes&&(n="",(i=u.find(".cx-callback-phone-number")).intlTelInput(),n=i.intlTelInput("getSelectedCountryData").dialCode,i.closest("td").find("i").addClass("cx-control-error-tel"),t.phonenumber?i.val(t.phonenumber).keyup():n&&i.val("+"+n)),D(),d.formValidation&&u.find("input[type='email']").on("change",function(e){e.target.validity.typeMismatch?(o(this).addClass("cx-border-error"),o(this).closest("tr").addClass("cx-left-inner-addon").find(".cx-icon-alert-circle").show(),C[this.id]=!0):(o(this).removeClass("cx-border-error"),o(this).closest("tr").removeClass("cx-left-inner-addon").find(".cx-icon-alert-circle").hide(),C[this.id]=!1),e.stopPropagation(),e.stopImmediatePropagation()}))},D=function(){p=u.find(".cx-callback-date"),d.immediateCallback&&d.ewt&&d.ewt.queue?_.command("StatsService.getStats",{group:"EWT",vqname:d.ewt.queue}).done(function(e){M(e)}).fail(function(e){M(e)}):M({}),I()},M=function(e){var t,n,i,a=d.ewt||{};d.immediateCallback&&e.ewt&&a.immediateCallback?(t=parseFloat(e.ewt.toFixed(2)),n=parseFloat(a.immediateCallback.thresholdMin.toFixed(2)),i=parseFloat(a.immediateCallback.thresholdMax.toFixed(2)),"number"==typeof n&&"number"==typeof i&&(t<n?(p.find(".cx-right-away input:radio").attr("disabled",!0),p.find(".cx-callback-schedule input:radio").prop("checked",!0)):n<t&&t<i?p.find(".cx-right-away input:radio").attr("disabled",!1):i<t&&(p.find(".cx-right-away input:radio").attr("disabled",!0),p.find(".cx-callback-schedule input:radio").prop("checked",!0)))):(p.find(".cx-right-away input:radio").attr("disabled",!d.immediateCallback),p.find(".cx-callback-schedule input:radio").prop("checked",!d.immediateCallback))},I=function(){d.scheduledCallback?(p.find(".cx-callback-schedule input:radio").attr("disabled",!1),p.find(".cx-callback-schedule .cx-callback-time").attr("disabled",!1)):(p.find(".cx-callback-schedule input:radio").attr("disabled",!0),p.find(".cx-callback-schedule .cx-callback-time").attr("disabled",!0),p.find(".cx-right-away input:radio").prop("checked",!0))},j=function(){u.find(".cx-wrapper").removeClass("cx-disableForm"),u.find(".cx-form-control, .cx-callback-cancel, .cx-callback-confirm, .cx-right-away").attr("disabled",!1),u.find(".cx-right-away, .cx-callback-cancel, .cx-callback-confirm").css("pointer-events","auto")},N=function(){var e=(w={},u.find("form input, form textarea").each(function(){var e,t;"radio"==this.type&&this.checked?(e=u.find(".cx-callback-time"),y=o(this).hasClass("cx-callback-later")?(t=new Date(e.attr("date-value")),e.val()):(t=new Date,""),isNaN(t.getTime())||(w[this.name]=t.toISOString())):"tel"==this.type?(t=o(this).intlTelInput("getSelectedCountryData").dialCode,w[this.name]=-1==this.value.indexOf(t)&&t?"+"+(t+this.value):this.value):this.name in w||(w[this.name]=this.value)}),w);e.userData=d.oUserData,function(){if(d.formValidation){var t,n=[],e=u.find("input[type=radio]:checked");return o.each(k,function(e){(t=u.find("input#"+this).not(":input[type=email]")).length&&0===t.val().length?(this!=k[4]&&(t.addClass("cx-border-error").addClass("cx-error"),t.closest("td").addClass("cx-left-inner-addon").find(".cx-icon-alert-circle").show(),n[e]="false"),u.find("input[value=desiredtime]").prop("checked")&&(t.closest("label").find(".icon-alert-circle").show(),t.addClass("cx-border-error").addClass("cx-error"),t.closest("td").addClass("cx-left-inner-addon").find(".cx-icon-alert-circle").show(),n[e]="false")):C[this]?n[e]="false":t[0]&&"phonenumber"==t[0].name&&t.length&&t.val().length<=8?(t.addClass("cx-border-error").addClass("cx-error"),t.closest("td").addClass("cx-left-inner-addon").find(".cx-icon-alert-circle").show(),n[e]="false"):n[e]="true"}),o.each(k,function(){u.find("input#"+this).bind("keydown change",function(){o(this).removeClass("cx-border-error").removeClass("cx-error"),o(this).closest("td").removeClass("cx-left-inner-addon").find(".cx-icon-alert-circle").hide(),o(this).closest("label").find(".cx-icon-alert-circle").css("display","none")})}),u.find("input[type=radio]").click(function(){e.filter(":not(:checked)").trigger("deselect"),e=o("input[type=radio]:checked")}),u.find("input[value=desiredtime]").bind("deselect",function(e){o(this).nextAll("input").first().removeClass("cx-border-error").removeClass("cx-error"),o(this).closest("label").find(".cx-icon-alert-circle").css("display","none"),e.preventDefault(),e.stopImmediatePropagation()}),-1==o.inArray("false",n)}return!0}()&&(l.showLoading(u),u.find(".cx-wrapper").addClass("disableForm"),u.find(".cx-form-control, .cx-callback-cancel, .cx-callback-confirm, .cx-right-away").attr("disabled",!0),u.find(".cx-right-away, .cx-callback-cancel, .cx-callback-confirm").css("pointer-events","none"),_.command("Calendar.reset"),_.command("CallbackService.schedule",e).done(function(){l.hideLoading(u),f.show(),u.find(".cx-buttons-binary").hide()}).fail(function(){l.hideLoading(u)}))},P=function(){return!b||void l.showDialog(u,"close-confirm")}}),__cx.define("cx-buster",["jquery","cx-bus","cx-common","cookie","uri"],function(a,e,r,t,n){"use strict";var o,i,s,c,l,d,u,h,p,f,m,g,v,b,x,y,w,C,k,_,T,S,E,L,A,D,M,I=e.registerPlugin("Buster");I&&(n(window.location.href).domain(),JSON.stringify,t.get,t.remove,o={command:I.command,publish:I.publish},i=function(e){console.debug(e)},s="",c={},l=[],m=h=d=0,g=f=p=!(u=-1),y=x=!(b=!(v={})),w=1e3,C=100,k=800,I.registerCommand("configure",function(e){var t=e.data;t?("object"==typeof t&&("boolean"==typeof t.online&&(x=t.online),"number"==typeof t.stopOnFailedTest&&(y=t.stopOnFailedTest),"number"==typeof t.globalStepTimeout&&(w=t.globalStepTimeout),"number"==typeof t.globalStepWait&&(C=t.globalStepWait),"number"==typeof t.globalTestWait&&(k=t.globalTestWait),"string"==typeof t.testFolder&&(s=t.testFolder),0<t.modules.length&&a.each(t.modules,function(e,t){I.command("fetchTestModule",{module:t})})),e.deferred.resolve()):e.deferred.reject("Invalid configuration")}),I.registerCommand("start",function(e){var t=e.data;"boolean"==typeof t.online&&(x=t.online),"number"==typeof t.stopOnFailedTest&&(y=t.stopOnFailedTest),"string"==typeof t.globalStepTimeout&&(w=t.globalStepTimeout),"string"==typeof t.globalStepWait&&(C=t.globalStepWait),"string"==typeof t.globalTestWait&&(k=t.globalTestWait),E(),I.publish("started"),e.deferred.resolve()}),I.registerCommand("stop",function(e){A(),I.publish("stopped"),e.deferred.resolve()}),I.registerCommand("complete",function(e){v.pass=!0,I.publish("completed",v),A(),e.deferred.resolve()}),I.registerCommand("registerTests",function(e){var t=e.data;t.module&&(clearTimeout(c[t.module].timeout),t.tests?(c[t.module].loaded=!0,c[t.module].tests=t.tests):t.group&&a.each(t.group,function(e,t){I.command("fetchTestModule",{module:t})})),_(),e.deferred.resolve()}),I.registerCommand("fetchTestModule",function(e){var t;e.data.module&&(c[e.data.module]={loaded:!1,tests:[],timeout:setTimeout(function(){c[e.data.module].loaded="timeout",_()},3e3)},l.push(e.data.module),(t=document.createElement("script")).type="text/javascript",t.src=s+"/"+e.data.module+".tests.js",document.head.appendChild(t))}),_=function(){var e,t=!0;for(e in c)!0!==c[e].loaded&&(t=!1);return t&&(I.publish("allTestsLoaded"),console.log("allTestsLoaded")),t},T=function(){b||((g=c[l[d]].tests[u])?g.online&&!x?(D("skipped","Online tests are disabled"),E()):h==g.steps.length?(D("pass"),E()):(p=l[d],f=g.name,!0===g.online&&!1===x?(D("skipped","Online tests are currently disabled"),E()):I.command("runNextStep").done(function(){S()}).fail(function(e){D("failed",e),y?I.command("stop"):E()})):!c[l[d]].tests[u+1]&&c[l[d+1]]&&c[l[d+1]].tests[0]?(i(l[d+1]),L()):c[l[d]].tests[u+1]||c[l[d+1]]||I.command("complete"))},S=function(){b||setTimeout(function(){h++,T()},C)},E=function(){b||setTimeout(function(){u++,h=0,T(),g&&i("Running Test: "+g.name)},k)},L=function(){b||(d++,h=u=0,T())},A=function(){i("---- All Tests Passed ("+m+" skipped) ----"),b=!0,i(v),M()},D=function(e,t){v[p]||(v[p]={}),v[p][f]=a.extend(v[p][f]||{},{name:f,result:e,step:h,desc:t}),v[p][f],i("-- "+e+(t?" ("+t+")":"")),I.publish("testComplete",v[p][f]),"skipped"==e&&m++,"failed"==e&&(i('---- "'+f+'" failed at step #'+(h+1)+' due to "'+t+'". Aborting. ----'),b=!0,i(v),v.pass=!1,I.publish("completed",v),M())},M=function(){g=f=p=!(u=-1),b=!(v={}),m=h=d=0},I.registerCommand("runNextStep",function(t){var e=g.steps[h],n=!1;e?("command"==e.type?n=I.command("testCommand",e):"subscribe"==e.type?n=I.command("testEvent",e):"wait"==e.type&&(n=I.command("wait",e)),n?n.done(function(e){t.deferred.resolve(e)}).fail(function(e){t.deferred.reject(e)}):"function"==typeof e?e(a,o,r)?t.deferred.resolve():t.deferred.reject("function test failed"):t.deferred.reject("Invalid Testing Step Type: "+e.type)):E()}),I.registerCommand("testCommand",function(t){var n=t.data,i=setTimeout(function(){t.deferred.reject("timeout")},parseInt(n.timeout)||w);I.command(n.name,n.options||{}).done(function(e){clearTimeout(i),"resolved"==n.result?(n.returns&&e!=n.returns&&t.deferred.reject("Returned data is not as expected"),t.deferred.resolve()):"rejected"==n.result&&t.deferred.reject("Did not reject as expected")}).fail(function(e){clearTimeout(i),"rejected"==n.result?n.returns&&e!=n.returns?t.deferred.reject("Returned data is not as expected"):t.deferred.resolve():"resolved"==n.result&&t.deferred.reject("Did not resolve as expected")})}),I.registerCommand("testEvent",function(t){var e,n=t.data,i=setTimeout(function(){t.deferred.reject("timeout")},parseInt(n.timeout)||w);I.subscribe(n.name,function(e){clearTimeout(i),n.returns&&e!=n.returns?t.deferred.reject("Returned data is not as expected"):t.deferred.resolve(),I.unsubscribe(e.event)}),n.trigger&&("command"==(e=n.trigger.type||!1)?I.command(n.trigger.name,n.trigger.options):"event"==e?I.publish(n.trigger.name):"function"==typeof n.trigger&&n.trigger(a,o,r))}),I.registerCommand("testUnsubscribe",function(e){var t=e.data;I.unsubscribe(t.name)?t.returns&&e1!=t.returns?e.deferred.reject("Returned data is not as expected"):e.deferred.resolve():e.deferred.resolve("Could not succussfully unsubscribe from: "+t.name)}),I.registerCommand("wait",function(e){1<=parseInt(e.data.time)?setTimeout(function(){e.deferred.resolve()},e.data.time):e.deferred.reject("Invalid wait time specified. Must be equal to, or greater than, 1 millisecond.")}),I.subscribe("App.ready",function(e){e.data.buster&&I.command("configure",e.data.buster)}),I.republish("ready"))}),__cx.define("cx-remote",["jquery","cx-bus","cx-common"],function(e,t){"use strict";var i=t.registerPlugin("Remote");i&&(i.registerEvents(["ready"]),i.registerCommand("execute",function(e){if(e.data.actions&&0<e.data.actions.length)for(var t,n=0;n<e.data.actions.length;n++)"command"===(t=e.data.actions[n]).type&&(console.log(" - - - COMMAND - - - "),console.log(t),t.wait?setTimeout(function(){i.command(t.name,t.data)},t.wait):i.command(t.name,t.data))}),i.publish("ready"))});
var ChatSettings={country:"",getCountry:function(){var e;return this.country||(e=window.location.pathname.split("/")[1],this.country=e.replace("es-","")),this.country},getTimeZone:function(){var e="pa"===this.getCountry()?"-300":"-360";return e}};window._genesys||(window._genesys={}),window._gt||(window._gt=[]),window._genesys.widgets={main:{debug:!1,theme:"light",lang:"es",i18n:window.location.origin+"/modules/custom/bac_forms/chat/js/chat/lang.json",customStylesheetID:"genesys_widgets_custom",plugins:["cx-webchat","cx-webchat-service"],mobileMode:"auto",mobileModeBreakpoint:600},webchat:{dataURL:"https://chat.baccredomatic.com/genesys/2/chat/CE18_Digital_Chat",apikey:"",userData:{Send_Chat_Transcript:"true",TimeZone:ChatSettings.getTimeZone()},ajaxTimeout:2e4,uploadsEnabled:!1,actionsMenu:!1,emojis:!1,mobileMode:"auto",autoInvite:{enabled:!1,timeToInviteSeconds:5,inviteTimeoutSeconds:30},chatButton:{enabled:!1,openDelay:1e3,effectDuration:300,hideDuringInvite:!0}}};
var FormHelper={isValid:function(e){return e.querySelectorAll(":invalid").length<1},replaceValidationUI:function(l,e){l.addEventListener("invalid",function(e){e.preventDefault()},!0),l.addEventListener("submit",function(e){this.checkValidity()||e.preventDefault()});for(var r=l.querySelectorAll("input, select"),t=0;t<r.length;t++)r[t].addEventListener("blur",function(){FormHelper.error.hide(this,l),this.checkValidity()});(e=e||l.querySelector('button[type="submit"], input[type="submit"]')).addEventListener("click",function(e){for(var r=l.querySelectorAll(":valid"),t=l.querySelectorAll(":invalid"),i=0;i<r.length;i++)FormHelper.error.hide(r[i],l);for(i=0;i<t.length;i++)FormHelper.error.show(t[i],l)})},error:{show:function(e,r){e.classList.add("has-error");e=r.querySelector("div.has-error[data-input='"+e.name+"']");e&&e.classList.add("visible")},hide:function(e,r){e.classList.remove("has-error");e=r.querySelector("div.has-error[data-input='"+e.name+"']");e&&e.classList.remove("visible")}}};
var GenesysChat={instance:null,chatId:null,userId:null,isAgentConnected:!1,subject:"",init:function(n){window._genesys.widgets.onReady=function(e){GenesysChat.instance=window._genesys.widgets.bus.registerPlugin("MyPlugin"),Chat.displayEncuestaServicio&&e.subscribe("WebChat.ready",function(e){GenesysChat.instance.subscribe("WebChatService.agentConnected",function(e){"cx.plugin.WebChatService.agentConnected"==e.event&&(GenesysChat.isAgentConnected=!0),GenesysChat.getFileLimits()}),GenesysChat.instance.subscribe("WebChatService.ended",function(e){("cx.plugin.WebChatService.ended"==e.event&&1==GenesysChat.isAgentConnected&&""!=GenesysChat.subject||null!=GenesysChat.chatId)&&GenesysChat.initSurvey()})}),n&&n()}},open:function(){if(GenesysChat.subject=Chat.helpers.getValue("subject"),!GenesysChat.subject)return null;Chat.prechat.close();for(var e=Chat.helpers.serializeForm(),n=["firstname","lastname","email","subject"],t=0;t<n.length;++t)e.hasOwnProperty(n[t])&&delete e[n[t]];e.Send_Chat_Transcript=!0,GenesysChat.instance||(GenesysChat.instance=window._genesys.widgets.bus.registerPlugin("MyPlugin")),GenesysChat.instance.command("WebChat.open",{userData:e,form:{autoSubmit:!0,firstname:Chat.helpers.getValue("firstname"),lastname:Chat.helpers.getValue("lastname"),email:Chat.helpers.getValue("email"),subject:GenesysChat.subject}}).done(function(e){Chat.prechat.clear()}).fail(function(e){})},getFileLimits:function(){GenesysChat.instance.command("WebChatService.getFileLimits",{}).done(function(e){var n=JSON.parse(e),e=n.chatId,n=n.userId;GenesysChat.chatId=e,GenesysChat.userId=n}).fail(function(e){})},initSurvey:function(){GenesysChat.instance.command("WebChat.injectMessage",{type:"html",text:'<iframe scrolling="no" id="contenedor-encuesta-servicio" style="width: auto; height: 450px; overflow: scroll; border: none; transform: scale(0.85); transform-origin: 0 0; margin: 0 auto -70px;" src="https://encuestabaccredomatic.azurewebsites.net/76CONCENT?categoria='+GenesysChat.subject+"&amp;InteractionId="+GenesysChat.chatId+'"></iframe>',custom:!1,bubble:{radius:"4px",time:!0,name:!0,direction:"right",avatar:{custom:'<div id="injectedMsgSurvey" style="dispaly:none;"></div>',icon:"none"}}}).done(function(e){var n=jQuery("#injectedMsgSurvey").parent();jQuery(n).css("display","none"),n=jQuery(n).parent(),jQuery(n).find(".cx-bubble").css("margin-right","0px")}).fail(function(e){})},prechat:{}};
var Chat={prechat_selector:"#prechat",prechat_form_selector:"#prechat-form",subject_param:"chat_asunto",displayEncuestaServicio:!1,init:function(){Chat.prechat.init();GenesysChat.init(function(){Chat.setupChatButton()})},appendChatSettings:function(){var e='window._genesys||(window._genesys={}),window._gt||(window._gt=[]),window._genesys.widgets={main:{debug:!1,theme:"light",lang:"es",i18n:"'+window.location.origin+'/modules/custom/bac_forms/chat/js/chat/lang.json",customStylesheetID:"genesys_widgets_custom",plugins:["cx-webchat","cx-webchat-service"]},webchat:{dataURL:"https://chat.baccredomatic.com/genesys/2/chat/CE18_Digital_Chat",apikey:"",userData:{Send_Chat_Transcript:"true"},uploadsEnabled:!1,actionsMenu:!1,autoInvite:{enabled:!1,timeToInviteSeconds:5,inviteTimeoutSeconds:30},chatButton:{enabled:!1,openDelay:1e3,effectDuration:300,hideDuringInvite:!0}}};';jQuery("body").append("<script>"+e+"<\/script>")},setupChatButton:function(){jQuery("li.chat-icon").html('<a class="more-info-icon" onclick="Chat.prechat.open()" style="cursor: pointer; bottom: 120px;"></a>')},setDefaultValues:function(e,t,n){if(t)for(var a in e){var r=jQuery('input[name="'+a+'"], select[name="'+a+'"]',jQuery(Chat.prechat_selector));r.is("select")&&jQuery('option[value="'+e[a]+'"]',r).length<1||(r.val(e[a]),r.is('input[type="hidden"]')||((r=r.parent().parent()).hide(),r.prev("tr").hide()))}else for(var a in e)jQuery('input[name="'+a+'"], select[name="'+a+'"]').val(e[a],jQuery(Chat.prechat_selector));n&&Chat.prechat.open()},helpers:{getURLParam:function(e){var t=window.location.href;if(t.indexOf("?")<0)return"";e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},getValue:function(e){return jQuery(Chat.prechat_form_selector+' [name="'+e+'"]').val()},serializeForm:function(e){for(var t={},n=document.querySelector(Chat.prechat_form_selector).querySelectorAll("input, select"),a=0;a<n.length;++a)t[n[a].getAttribute("name")]=jQuery(n[a]).val();return t}}};
Chat.prechat={onInitFns:[],addOnInit:function(e){Chat.prechat.onInitFns.push(e)},init:function(){jQuery("body").append(Chat.prechat.setup()),jQuery(Chat.prechat_selector).hide(),jQuery(window).on(function(){jQuery(".chat-icon a").removeClass("more-info-icon"),jQuery(".cx-form-control--chosen").length&&jQuery(".cx-form-control--chosen").chosen({disable_search_threshold:10})}),jQuery(window).width()<425&&(jQuery(".more-info-icon").on("click",function(){jQuery("body").addClass("chat--active")}),jQuery(".cx-button-close").on("click",function(){jQuery("body").removeClass("chat--active")})),Chat.prechat.setupValidation();for(var e=0;e<Chat.prechat.onInitFns.length;++e)Chat.prechat.onInitFns[e]()},setup:function(){var e=new Chat.prechat.builder,t=Chat.helpers.getURLParam(Chat.subject_param).toLowerCase(),t=Chat.prechat.fields.hasOwnProperty(t)?t:Chat.prechat.fields.hasOwnProperty(ChatSettings.country)?ChatSettings.country:(console.log("No country selected: "+ChatSettings.getCountry()),"cr");return e.build(Chat.prechat.fields[t])},setupValidation:function(){var e=document.getElementById("prechat-form"),t=e.querySelector(".cx-submit");FormHelper.replaceValidationUI(e,t)},open:function(){jQuery("body").addClass("chat--active"),jQuery(Chat.prechat_selector).slideDown(500)},close:function(){jQuery(Chat.prechat_selector).slideUp(500),jQuery("body").removeClass("chat--active")},clear:function(){jQuery(Chat.prechat_selector+" input").val(""),jQuery(Chat.prechat_selector+" select").val("")},submit:function(){var e=document.getElementById("prechat-form");return!!FormHelper.isValid(e)&&(GenesysChat.open(),!0)}};
Chat.prechat.builder=function(){var l=1,a="",i='<form id="prechat-form"> <div id="prechat" class="cx-widget cx-common-container cx-webchat cx-close cx-minimize cx-theme-light cx-desktop" style="transition: right 1s cubic-bezier(0, 1, 0.5, 1) 0s, transform 0.5s ease-in-out 0s; right: 55px; bottom: 0px;"> <div class="cx-button-group cx-buttons-window-control" onclick="Chat.prechat.close();" style="cursor:pointer;"> <button type="button" class="cx-icon cx-button-close" tabindex="0" data-icon="close"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" viewBox="0 0 100 100"> <path class="cx-svg-icon-tone1" d="M100,14.29,64.28,50,100,85.7,85.7,100,50,64.28,14.3,100,0,85.7,35.72,50,0,14.29,14.3,0,50,35.71,85.7,0Z" transform="translate(-0.02 -0.01)"></path> </svg> </button> </div><div class="cx-titlebar"> <div class="cx-title">Chat en línea</div></div><div class="cx-body"> <div> <div class="cx-form cx-form-horizontal" role="form" style="display: block;">',n='<div style="margin-top: 10px" class="cx-button-group cx-buttons-binary"> <button type="button" class="cx-btn cx-btn-default" tabindex="9" onclick="Chat.prechat.close();">Cancelar</button> <button type="button" class="cx-submit cx-btn cx-btn-primary" tabindex="10" onclick="Chat.prechat.submit();">Iniciar Chat</button> </div></div></div></div><div class="cx-button-container"></div><div class="cx-footer" style="display: block;"></div></div></form>';this.build=function(t){var e,r="";for(e in t)r+=c(e,t[e]);return i+a+"<table>"+r+"</table>"+n};var o={text:function(t,e,r){var a=document.createElement("INPUT");return a.setAttribute("type","text"),a.setAttribute("class","cx-form-control"),a.setAttribute("maxlength","100"),a.setAttribute("name",t),e&&(a.setAttribute("required","required"),a.setAttribute("placeholder","Requerido")),r&&a.setAttribute("pattern",r),a.setAttribute("tabindex",l++),a},email:function(t,e){var r=document.createElement("INPUT");return r.setAttribute("type","email"),r.setAttribute("class","cx-form-control"),r.setAttribute("maxlength","100"),r.setAttribute("name",t),e&&(r.setAttribute("required","required"),r.setAttribute("placeholder","Requerido")),r.setAttribute("tabindex",l++),r},select:function(t,e,r){var a=document.createElement("SELECT");return a.setAttribute("name",t),a.setAttribute("class","cx-form-control"),r&&a.setAttribute("required","required"),d(a,e),10<Object.keys(e).length&&a.setAttribute("class","cx-form-control cx-form-control--chosen"),a.setAttribute("tabindex",l++),a},hidden:function(t,e){var r=document.createElement("INPUT");return r.setAttribute("type","hidden"),r.setAttribute("name",t),e.value&&r.setAttribute("value",e.value),r},radio:function(t,e,r){var a=document.createElement("INPUT");return a.setAttribute("type","radio"),a.setAttribute("name",t),a.setAttribute("value",e),a.setAttribute("class","cx-form-control"),a.setAttribute("style","display:inline; width:20px; height:20px;"),r&&a.setAttribute("required","required"),a.setAttribute("tabindex",l++),a},selectmulti:function(t,e,r){return o.select(t,[],r)}},c=function(t,e){var r;switch((e=Object.assign({required:"quse se yo",error:""},e)).type){case"hidden":r=s.hidden(t,e);break;case"text":r=s.text(t,e);break;case"email":r=s.email(t,e);break;case"select":r=s.select(t,e);break;case"radio":r=s.radio(t,e);break;case"multiselect":r=s.multiselect(t,e);break;default:r=""}return r},s={hidden:function(t,e){e=o.hidden(t,e);return a+=e.outerHTML,""},text:function(t,e){var r=o.text(t,e.required,e.validation),t=b(t,e.type,e.label,e.required,e.error);return'<tr><th><label class="cx-control-label">'+e.label+"</label></th><td>"+r.outerHTML+t+"</td></tr>"},email:function(t,e){var r=o.email(t,e.required),t=b(t,e.type,e.label,e.required,e.error);return'<tr><th><label class="cx-control-label">'+e.label+"</label></th><td>"+r.outerHTML+t+"</td></tr>"},select:function(t,e){var r=o.select(t,e.options,e.required),t=b(t,e.type,e.label,e.required,e.error);return'<tr><th colspan="2"><label class="cx-control-label">'+e.label+'</label></th></tr><tr><td colspan="2">'+r.outerHTML+t+"</td></tr>"},radio:function(t,e){var r="",a=b(t,e.type,e.label,e.required,e.error);if(e.options instanceof Array)for(var l=0;l<e.options.length;++l)r+=o.radio(t,e.options[l],e.required).outerHTML+'<label class="cx-control-label" style="position: relative; top: -4px; margin-right: 15px">'+e.options[l]+"</label>";else for(var i in e.options)r+=o.radio(t,i,e.required).outerHTML+'<label class="cx-control-label" style="position: relative; top: -4px; margin-right: 15px">'+e.options[i]+"</label>";return'<tr><th colspan="2"><label class="cx-control-label">'+e.label+'</label></th></tr><tr><td colspan="2" style="vertical-align: middle;">'+r+a+"</td></tr>"},multiselect:function(t,e){for(var r=b(t,e.type,e.label,e.required,e.error),t=o.select(t,e.options[0],e.required),a='<tr data-rowindex="0"><th colspan="2"><label class="cx-control-label">'+e.label+'</label></th></tr><tr data-rowindex="0"><td data-childrenindex="0" colspan="2">'+t.outerHTML+r+"</td></tr>",l=0;l<e.children.length;++l){var i=o.selectmulti(e.children[l].name,[],e.required),n=b(e.child_name,"select",e.children[l].label,e.required,e.children[l].hasOwnProperty("error")?e.field.children[l].error:"");a+='<tr data-type="label" data-rowindex="'+(l+1)+'"><th colspan="2"><label class="cx-control-label">'+e.children[l].label+'</label></th></tr><tr data-type="input" data-rowindex="'+(l+1)+'"><td colspan="2" data-childrenindex="'+(l+1)+'">'+i.outerHTML+n+"</td></tr>",function(t){Chat.prechat.addOnInit(function(){u(t,e.options,e.children.length)})}(l)}return a}},d=function(t,e){if((l=document.createElement("option")).value="",l.text="Seleccione un valor",t.add(l),e instanceof Array)for(var r=0;r<e.length;++r)(l=document.createElement("option")).value=e[r],l.text=e[r],t.add(l);else for(var a in e){var l=document.createElement("option");e[a]?(l.value=e[a].hasOwnProperty("value")?e[a].value:a,l.text=e[a].hasOwnProperty("text")?e[a].text:e[a]):l.setAttribute("style","display:none;"),l.text||l.setAttribute("style","display:none;"),t.add(l)}},u=function(i,n,o){var c=document.querySelector(Chat.prechat_selector);c.querySelector('td[data-childrenindex="'+i+'"] select').addEventListener("change",function(){var t=this.options[this.selectedIndex].value,e=i+1,r=n[e][t],t=c.querySelector('td[data-childrenindex="'+e+'"] select');t.innerHTML="",r?(d(t,r),c.querySelector('tr[data-type="label"][data-rowindex="'+e+'"]').removeAttribute("style"),c.querySelector('tr[data-type="input"][data-rowindex="'+e+'"]').removeAttribute("style"),t.removeAttribute("disabled")):((a=c.querySelector('tr[data-type="input"][data-rowindex="'+e+'"] select')).setAttribute("disabled","disabled"),a.innerHTML="");for(var a,l=e+1;l<=o;++l)(a=c.querySelector('tr[data-type="input"][data-rowindex="'+l+'"] select')).setAttribute("disabled","disabled"),a.innerHTML=""})},b=function(t,e,r,a,l){return(l="hidden"!=e&&a&&!l?"El campo "+r.toLowerCase()+" es requerido":l)?'<div class="has-error" data-input="'+t+'">'+l+"</div>":""}};
Chat.prechat.subjects={pa:{"pa-ConsultaTC":"Consulta de tarjeta de crédito","pa-PrestCons":"Préstamos de vivienda y autos","pa-ServBanc":"Servicios Bancarios","pa-PrestPers":"Solicitud de préstamos personales","pa-Monitoreo":null},cr:{"cr-Afiliados":"Atención Comercios Afiliados","cr-3DSecure":"Autenticar Transacción 3D","cr-Cobros":"Cobros","cr-ConsultaTC":"Consulta tarjeta de crédito","cr-Leasing":"Leasing","cr-Pens":"Pensiones","cr-PrestCons":"Préstamos vivienda y autos","cr-Quejas":"Quejas e inconformidades","cr-Seguros":"Seguros","cr-ServBanc":"Servicios Bancarios","cr-PrestPers":"Solicitud Préstamos Personales","cr-ApoyoSeg":null,"cr-ApoyoBAC":null,"cr-PDF":null,"cr-Soluciones":null,"cr-Monitoreo":null},ni:{"ni-ConsultaTC":"Consulta tarjeta de crédito","ni-PrestCons":"Préstamos vivienda y autos","ni-ServBanc":"Servicios Bancarios","ni-PrestPers":"Solicitud Préstamos Personales","ni-Monitoreo":null},hn:{"hn-Afiliados":"Atención Comercios Afiliados","hn-Cobros":"Cobros","hn-ConsultaTC":"Consulta tarjeta de crédito","hn-Pens":"Pensiones","hn-PrestCons":"Préstamos de vivienda y autos","hn-Promo":"Promociones","hn-Seguros":"Seguros","hn-ServBanc":"Servicios Bancarios","hn-PrestPers":"Solicitud Préstamos Personales","hn-Monitoreo":null},sv:{"sv-Afiliados":"Atención Comercios Afiliados","sv-ConsultaTC":"Consulta tarjeta de crédito","sv-Prodnuevo":"Productos Nuevos","sv-Proteccion":"Protección BAC","sv-ServBanc":"Servicios Bancarios","sv-Monitoreo":null},gt:{"gt-Afiliados":"Atención a comercios afiliados","gt-ConsultaTC":"Consulta de tarjeta de crédito","gt-PrestCons":"Préstamos de vivienda y autos","gt-Promo":"Promociones","gt-Quejas":"Quejas e inconformidades","gt-ServBanc":"Servicios Bancarios","gt-PrestPers":"Solicitud de préstamos personales","gt-Monitoreo":null},cr_servicio:{"cr-PrestPers":"Solicitud Préstamos Personales","cr-ServBanc":"Servicios Bancarios","cr-Seguros":"Seguros","cr-Quejas":"Quejas e inconformidades","cr-Pens":"Pensiones","cr-ConsultaTC":"Consulta tarjeta de crédito","cr-Cobros":"Cobros","cr-3DSecure":"Autenticar Transacción 3D"}},Chat.prechat.fields={pa:{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.pa,error:"Debe seleccionar un asunto"}},cr:{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.cr,error:"Debe seleccionar un asunto"},OnlineBanking:{type:"radio",label:"¿Cuenta con acceso a nuestra Banca en Línea?",required:!0,options:["Si","No"],error:"Debe seleccionar una opción"}},ni:{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0,error:"Los apellidos son requeridos"},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.ni,error:"Debe seleccionar un asunto"}},hn:{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.hn,error:"Debe seleccionar un asunto"}},sv:{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.sv,error:"Debe seleccionar un asunto"}},gt:{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.gt,error:"Debe seleccionar un asunto"}},monitoreo:{firstname:{type:"hidden",label:"Nombre",required:!0,value:"Monitoreo"},lastname:{type:"hidden",label:"Apellidos",required:!0,value:"Genesys"},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:{"gt-monitoreo":"Monitoreo 1","sv-monitoreo":"Monitoreo 2","hn-monitoreo":"Monitoreo 3","ni-monitoreo":"Monitoreo 4","cr-monitoreo":"Monitoreo 5","pa-monitoreo":"Monitoreo 6"}}},"cr-comercial":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}},"cr-soluciones":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},subject:{type:"hidden"},id:{type:"text",label:"Número de colaborador",required:!0,validation:"[0-9]+",error:"El id de colaborador debe contener solo números"},Asuntointerno:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:{Queja:"Queja",Consulta:"consulta",Urgente:"Urgente"}}},"cr-pdf":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Cédula",required:!0,validation:"[0-9]+",error:"El campo número de colaborador debe contener solo números"},subject:{type:"hidden"},Caso:{type:"text",label:"Número de caso",required:!0}},"cr-apoyobac":{firstname:{type:"text",label:"Usuario de red",required:!0},lastname:{type:"text",label:"Id del cliente",required:!0},Dept:{type:"select",label:"Departamento",required:!0,options:{"BE-Servicios Electronicos":"BE-Servicios Electronicos","BP- Tarjetas y Fidelizacion":"BP- Tarjetas y Fidelizacion","BP-Administ. Cartera":"BP-Administ. Cartera","BP-Credito Hipotecario":"BP-Credito Hipotecario","BP-Credito Personal":"BP-Credito Personal","BP-Credito Prendario":"BP-Credito Prendario","BP-Cuentas y Servcios":"BP-Cuentas y Servcios","BP-Linea de Produccion":"BP-Linea de Produccion","BP-Proy. Garantias":"BP-Proy. Garantias","BP-VIVILAT":"BP-VIVILAT","Banca Movil":"Banca Movil","CAT BAC-Pensiones":"CAT BAC-Pensiones","CAT BAC-Seguros":"CAT BAC-Seguros","CAT Universal":"CAT Universal","CAT-BAC":"CAT-BAC","CAT-COE BAC":"CAT-COE BAC","CAT-COE COM":"CAT-COE COM","CAT-COM":"CAT-COM","CAT-Cobros":"CAT-Cobros","CAT-Corporativo":"CAT-Corporativo","CAT-Eticket":"CAT-Eticket","CAT-OPC":"CAT-OPC","CAT-PYMES":"CAT-PYMES","CAT-Premium":"CAT-Premium","CAT-Seguros":"CAT-Seguros","CAT-TITAN":"CAT-TITAN",CATIE:"CATIE","CD-AUX CE CATIE":"CD-AUX CE CATIE","CD-AUX-Alimentos Heinz":"CD-AUX-Alimentos Heinz","CD-AUX-Avianca":"CD-AUX-Avianca","CD-AUX-Avon":"CD-AUX-Avon","CD-AUX-Bristish American Tabac":"CD-AUX-Bristish American Tabac","CD-AUX-Cafe Rey":"CD-AUX-Cafe Rey","CD-AUX-Cemex":"CD-AUX-Cemex","CD-AUX-Cinta Azul":"CD-AUX-Cinta Azul","CD-AUX-Coopecoronado":"CD-AUX-Coopecoronado","CD-AUX-DHL 1":"CD-AUX-DHL 1","CD-AUX-DHL 2":"CD-AUX-DHL 2","CD-AUX-DHL 3 Express":"CD-AUX-DHL 3 Express","CD-AUX-Durman Esquivel":"CD-AUX-Durman Esquivel","CD-AUX-Earth":"CD-AUX-Earth","CD-AUX-Farmanova":"CD-AUX-Farmanova","CD-AUX-Femsa Calle Blanco":"CD-AUX-Femsa Calle Blanco","CD-AUX-Four Seasons":"CD-AUX-Four Seasons","CD-AUX-GBM":"CD-AUX-GBM","CD-AUX-Grupo Nacion":"CD-AUX-Grupo Nacion","CD-AUX-INCAE":"CD-AUX-INCAE","CD-AUX-INTEL":"CD-AUX-INTEL","CD-AUX-Jacks":"CD-AUX-Jacks","CD-AUX-Kimberly Clark Cartago":"CD-AUX-Kimberly Clark Cartago","CD-AUX-La Nacion":"CD-AUX-La Nacion","CD-AUX-Matra":"CD-AUX-Matra","CD-AUX-Mendiola Belen":"CD-AUX-Mendiola Belen","CD-AUX-Mendiola Cartago":"CD-AUX-Mendiola Cartago","CD-AUX-Nestle":"CD-AUX-Nestle","CD-AUX-Numar":"CD-AUX-Numar","CD-AUX-Pelon de la Bajura":"CD-AUX-Pelon de la Bajura","CD-AUX-Portuaria de Caldera":"CD-AUX-Portuaria de Caldera","CD-AUX-Pozuelo Alajuela":"CD-AUX-Pozuelo Alajuela","CD-AUX-Pozuelo Uruca":"CD-AUX-Pozuelo Uruca","CD-AUX-Proave":"CD-AUX-Proave","CD-AUX-Procter & Gamble":"CD-AUX-Procter & Gamble","CD-AUX-Sardimar":"CD-AUX-Sardimar","CD-AUX-Soc. Portuaria":"CD-AUX-Soc. Portuaria","CD-AUX-Terminales Santa Maria":"CD-AUX-Terminales Santa Maria","CD-AUX-Unilever":"CD-AUX-Unilever","CD-AUX-VICESA":"CD-AUX-VICESA","CD-Autobanco Sabana":"CD-Autobanco Sabana","CD-Banca Movil":"CD-Banca Movil","CD-CCVF BAC":"CD-CCVF BAC","CD-Cajas Empresariales":"CD-Cajas Empresariales","CD-Canales BAC Distribución":"CD-Canales BAC Distribución","CD-Canales BAC Pensiones":"CD-Canales BAC Pensiones","CD-Canales BAC Redes Sociales":"CD-Canales BAC Redes Sociales","CD-Canales Electronicos":"CD-Canales Electronicos","CD-Centro Consolidado Contable":"CD-Centro Consolidado Contable","CD-Contabilidad Corporativa":"CD-Contabilidad Corporativa","CD-Control y Riesgo":"CD-Control y Riesgo","CD-Estrategia Digital":"CD-Estrategia Digital","CD-Gerencia Canales":"CD-Gerencia Canales","CD-Marchamos":"CD-Marchamos","CD-Quejas Publicas":"CD-Quejas Publicas","CD-RAP-Aeropuerto":"CD-RAP-Aeropuerto","CD-RAP-Automercado Alajuela":"CD-RAP-Automercado Alajuela","CD-RAP-Automercado El Limite":"CD-RAP-Automercado El Limite","CD-RAP-Automercado Santa Ana":"CD-RAP-Automercado Santa Ana","CD-RAP-Heredia":"CD-RAP-Heredia","CD-RAP-Herradura":"CD-RAP-Herradura","CD-RAP-Mall San Pedro":"CD-RAP-Mall San Pedro","CD-RAP-Mega Super Paraiso":"CD-RAP-Mega Super Paraiso","CD-RAP-Novacentro":"CD-RAP-Novacentro","CD-RAP-Plaza America":"CD-RAP-Plaza America","CD-RAP-Plaza San Gabriel":"CD-RAP-Plaza San Gabriel","CD-RAP-Tres Rios":"CD-RAP-Tres Rios","CD-RAP-Zona Franca America":"CD-RAP-Zona Franca America","CD-RAP-Zona Franca Coyol":"CD-RAP-Zona Franca Coyol","CD-RapiBAC":"CD-RapiBAC","CD-SUC Buenos Aires Puntarenas":"CD-SUC Buenos Aires Puntarenas","CD-SUC Digital Alajuela":"CD-SUC Digital Alajuela","CD-SUC Digital Atlantico":"CD-SUC Digital Atlantico","CD-SUC Digital Cronos":"CD-SUC Digital Cronos","CD-SUC Digital Guacima":"CD-SUC Digital Guacima","CD-SUC Digital Paseo Colon":"CD-SUC Digital Paseo Colon","CD-SUC Digital Plaza Roble":"CD-SUC Digital Plaza Roble","CD-SUC Digital Rivera Belen":"CD-SUC Digital Rivera Belen","CD-SUC Digital Santo Domingo":"CD-SUC Digital Santo Domingo","CD-SUC-Alajuela":"CD-SUC-Alajuela","CD-SUC-Aurora":"CD-SUC-Aurora","CD-SUC-Avenida Segunda":"CD-SUC-Avenida Segunda","CD-SUC-Boulevard Cartago":"CD-SUC-Boulevard Cartago","CD-SUC-CITY MALL ALAJUELA":"CD-SUC-CITY MALL ALAJUELA","CD-SUC-Cartago":"CD-SUC-Cartago","CD-SUC-Coronado":"CD-SUC-Coronado","CD-SUC-Curridabat":"CD-SUC-Curridabat","CD-SUC-Desamparados":"CD-SUC-Desamparados","CD-SUC-El Coco":"CD-SUC-El Coco","CD-SUC-El Cruce":"CD-SUC-El Cruce","CD-SUC-Escazu":"CD-SUC-Escazu","CD-SUC-Escazu Autopista":"CD-SUC-Escazu Autopista","CD-SUC-Expreso Desamparados":"CD-SUC-Expreso Desamparados","CD-SUC-Grecia":"CD-SUC-Grecia","CD-SUC-Guadalupe":"CD-SUC-Guadalupe","CD-SUC-Guapiles":"CD-SUC-Guapiles","CD-SUC-Jaco":"CD-SUC-Jaco","CD-SUC-La Bandera":"CD-SUC-La Bandera","CD-SUC-La Fortuna":"CD-SUC-La Fortuna","CD-SUC-Liberia":"CD-SUC-Liberia","CD-SUC-Limon":"CD-SUC-Limon","CD-SUC-Moravia":"CD-SUC-Moravia","CD-SUC-Muelle":"CD-SUC-Muelle","CD-SUC-Multiplaza Escazu":"CD-SUC-Multiplaza Escazu","CD-SUC-Multiplaza Este":"CD-SUC-Multiplaza Este","CD-SUC-Oficinas Centrales":"CD-SUC-Oficinas Centrales","CD-SUC-Oxigeno":"CD-SUC-Oxigeno","CD-SUC-Paseo Metropoli":"CD-SUC-Paseo Metropoli","CD-SUC-Paseo de las Flores":"CD-SUC-Paseo de las Flores","CD-SUC-Perez Zeledon":"CD-SUC-Perez Zeledon","CD-SUC-Puntarenas":"CD-SUC-Puntarenas","CD-SUC-Quepos":"CD-SUC-Quepos","CD-SUC-Real Cariari":"CD-SUC-Real Cariari","CD-SUC-Sabana":"CD-SUC-Sabana","CD-SUC-San Carlos":"CD-SUC-San Carlos","CD-SUC-San Francisco":"CD-SUC-San Francisco","CD-SUC-San Francisco Dos Rios":"CD-SUC-San Francisco Dos Rios","CD-SUC-San Pedro":"CD-SUC-San Pedro","CD-SUC-San Ramon":"CD-SUC-San Ramon","CD-SUC-Santa Ana":"CD-SUC-Santa Ana","CD-SUC-Santo Domingo Heredia":"CD-SUC-Santo Domingo Heredia","CD-SUC-Tamarindo":"CD-SUC-Tamarindo","CD-SUC-Temporal":"CD-SUC-Temporal","CD-SUC-Terra Mall":"CD-SUC-Terra Mall","CD-SUC-Tibas":"CD-SUC-Tibas","CD-SUC-Walmart La Lima Cartago":"CD-SUC-Walmart La Lima Cartago","CD-SWAT SUCURSALES":"CD-SWAT SUCURSALES","CD-Servicios Administrativos":"CD-Servicios Administrativos","CD-Sucursal Corporativa":"CD-Sucursal Corporativa","CD-Swat Sucursales":"CD-Swat Sucursales",CIAR:"CIAR","CP-CDD1":"CP-CDD1","CP-CDD3":"CP-CDD3","CP-CPN1":"CP-CPN1","CRE-REPRESENTACIONES TURISTICA":"CRE-REPRESENTACIONES TURISTICA","CRM-Pruebas":"CRM-Pruebas","Calidad Corporativo":"Calidad Corporativo",Canje:"Canje","Centro Soporte Operativo":"Centro Soporte Operativo","Centro de Atención Telefónica":"Centro de Atención Telefónica","Cobro Administrativo":"Cobro Administrativo","Cobro BAC":"Cobro BAC","Cobro Legal":"Cobro Legal","Cobros-Arreglos de Pago":"Cobros-Arreglos de Pago","Cobros-CAAJ":"Cobros-CAAJ","Cobros-Calidad":"Cobros-Calidad","Cobros-Cheques":"Cobros-Cheques","Cobros-Cosemu":"Cobros-Cosemu","Cobros-DxC":"Cobros-DxC","Cobros-EDC":"Cobros-EDC","Cobros-Geveco":"Cobros-Geveco","Cobros-InstaCobros":"Cobros-InstaCobros","Cobros-Inteligencia Negocios":"Cobros-Inteligencia Negocios","Cobros-MAYA":"Cobros-MAYA","Cobros-MYF":"Cobros-MYF","Cobros-Operaciones":"Cobros-Operaciones","Cobros-Prestamos Personales":"Cobros-Prestamos Personales","Cobros-SAC":"Cobros-SAC","Cobros-SICSA":"Cobros-SICSA","Cobros-Servicio al Cliente":"Cobros-Servicio al Cliente","Cobros-Unidad Estrategia":"Cobros-Unidad Estrategia","Cobros-Walmart":"Cobros-Walmart","Contracargos Emisor":"Contracargos Emisor",Credito:"Credito","Credito-Unificacion CIF":"Credito-Unificacion CIF","Crédito COM":"Crédito COM","Crédito Libranza":"Crédito Libranza","DECA Retencion Proactiva":"DECA Retencion Proactiva","DECA-Analisis y Eficiencia":"DECA-Analisis y Eficiencia","DECA-Campañas":"DECA-Campañas","DECA-F2F 1":"DECA-F2F 1","DECA-F2F 2":"DECA-F2F 2",Lunchbox:"Lunchbox","ME-Cobranding":"ME-Cobranding","ME-Comunicacion":"ME-Comunicacion","ME-Intertour":"ME-Intertour","Mensajería Instantánea":"Mensajería Instantánea","Monitoreo Calidad":"Monitoreo Calidad","Monitoreo Regional":"Monitoreo Regional","OP- SC-Red Social BAC-COM":"OP- SC-Red Social BAC-COM","OP-Canje":"OP-Canje","OP-Contraloria":"OP-Contraloria","OP-Credito Operacional":"OP-Credito Operacional","OP-Cuentas y Tarjetas":"OP-Cuentas y Tarjetas","OP-Distribucion":"OP-Distribucion","OP-Internacional":"OP-Internacional","OP-Liquidacion Serv Corporativ":"OP-Liquidacion Serv Corporativ","OP-Operaciones Credito":"OP-Operaciones Credito","OP-Prevencion de Fraude":"OP-Prevencion de Fraude","OP-Produccion":"OP-Produccion","OP-RRHH Nomina":"OP-RRHH Nomina","OP-Seguridad":"OP-Seguridad","OP-Servicios Generales":"OP-Servicios Generales","OP-Tesoreria":"OP-Tesoreria","OPC-Comercial":"OPC-Comercial","OPC-Finanzas":"OPC-Finanzas","OPC-Fuerza Ventas Propia":"OPC-Fuerza Ventas Propia","OPC-Operaciones":"OPC-Operaciones","OPC-Retencion":"OPC-Retencion","PEGA Smart Disputes":"PEGA Smart Disputes",Personalizado:"Personalizado",Pricesmart:"Pricesmart","Retencion OPC":"Retencion OPC","Retención Preventiva":"Retención Preventiva","SAC-Canales de Servicio":"SAC-Canales de Servicio","SC-Alto Potencial":"SC-Alto Potencial","SC-CAT Corporativo":"SC-CAT Corporativo","SC-Corporativo VIP":"SC-Corporativo VIP","SC-Cuentas y Servicios":"SC-Cuentas y Servicios","SC-Gestiones":"SC-Gestiones","SCC-BO CATSUC":"SCC-BO CATSUC","SCC-BO Procesos":"SCC-BO Procesos","SCC-BO VIP":"SCC-BO VIP","SEG-Comercial":"SEG-Comercial","SEG-Corporativo":"SEG-Corporativo","SEG-Crediya":"SEG-Crediya","SEG-Fuerza de Ventas Propia":"SEG-Fuerza de Ventas Propia","SEG-Leasing":"SEG-Leasing","SEG-Tenedora":"SEG-Tenedora",Seguros:"Seguros","Servicio al Cliente Backoffice":"Servicio al Cliente Backoffice","Soluciones en Línea":"Soluciones en Línea","Sucursal Electronica":"Sucursal Electronica","Sucursal Movil":"Sucursal Movil",TELEVENTAS:"TELEVENTAS","TV-TVD1":"TV-TVD1","TV-TVD2":"TV-TVD2","TV-TVD3":"TV-TVD3","TV-TVD4":"TV-TVD4","TV-TVD5":"TV-TVD5","TV-TVD6":"TV-TVD6","TV-TVD7":"TV-TVD7","TV-TVN1":"TV-TVN1","TV-TVN2":"TV-TVN2","TV-TVRA":"TV-TVRA","UNC 06":"UNC 06","UNC 09":"UNC 09","UNC 24":"UNC 24","UNC 25":"UNC 25","UNC 26":"UNC 26","UNC 27":"UNC 27",VD00:"VD00",VD01:"VD01",VD02:"VD02",VD03:"VD03",VD04:"VD04",VD05:"VD05",VD07:"VD07",VD08:"VD08",VD10:"VD10",VD11:"VD11",VD12:"VD12",VD13:"VD13",VD15:"VD15",VD16:"VD16",VD20:"VD20",VD22:"VD22","Ventas Directas":"Ventas Directas","Video LLamada":"Video LLamada",Walmart:"Walmart",Web:"Web","Web chat":"Web chat"}},subject:{type:"multiselect",label:"Canal de servicio",required:!0,children:[{name:"tramite",label:"Tipo de trámite"},{name:"detalle",label:"Detalle"}],options:[{1:{value:"cr-Approducto",text:"Originación y activación de productos en línea"},2:{value:"cr-ApBancas",text:"Activación en línea Trámites Rápidos"},3:{value:"cr-ApConsulta",text:"BAC Consultame"}},{"cr-Approducto":["Tarjeta Crédito UMO (SAC)","Tarjeta Crédito Producción (SIEBEL)","Cuentas Bancarias (MSC)","Productos Complementarios (SIEBEL)"],"cr-ApBancas":null,"cr-ApConsulta":["Gestión en Línea","Consulta"]},{"Tarjeta Credito UMO (SAC)":null,"Tarjeta Credito Producción (SIEBEL)":null,"Cuentas Bancarias (MSC)":null,"Productos Complementarios (SIEBEL)":null,"Gestión en Línea":["Kit Productos Complementarios","Reactivación Cuenta","Cancelación Cuenta Saldo 0","Inactivación Cuenta","Parametrización Cuenta Ckras","Ligue de CIF en SEC","Creación Shortname","Enter en Cuentas","Bloqueo Cuenta","Trade Recope","Activación TF Internacional"],Consulta:["Kit Productos Complementarios","Errores Apertura de Cuentas MSC","Errores en Tarjeta Débito","Errores Formalización Planilla MSC","Emboce en Sitio","Tarjetas Debito","Requisitos de productos y servicios","Sucursal Electrónica"]}]}},"cr-apoyoseg":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},subject:{type:"hidden"},Asuntointerno:{type:"select",label:"Tipo de Servicio",required:!0,options:["Información Póliza","Cancelación Póliza","Información Reclamo ","Cargos de la Póliza","Gastos Médicos INS"],error:"Debe seleccionar un tipo de servicio"},Area:{type:"multiselect",label:"Área",required:!0,children:[{name:"Dept",label:"Departamento"}],options:[["Área de Negocio","CAT","Sucursal","Seguros"],{"Área de Negocio":["Hipotecario","Prendario","Leasing"],CAT:["COM","BAC","Premium"],Sucursal:["Alajuela","Aurora","Avenida Segunda","Bandera","Cartago","City Mall","Ciudad Quesada","Coronado","Curridabat","Desamparados","Escazú Autopista","Escazú Paco","Fortuna","Grecia","Guadalupe","Guápiles","Liberia","Limón","Metrópoli","Moravia","Muelle","Multiplaza Del Este","Multiplaza Escazú","Oficinas Centrales","Paseo De Las Flores","Pérez Zeledón","Puntarenas","Rapibanco El Coco","Rapibanco Jacó","Rapibanco Quepos","Real Cariari","Sabana","San Francisco Heredia","San Pedro","San Ramón","Santa Ana","Santo Domingo","Tamarindo","Terramall","Tibás","Zona Franca América"],Seguros:["Premium","Preferente","Patrimonial"]}]}},"cr-servicio":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"select",label:"¿Qué tipo de servicio desea consultar?",required:!0,options:Chat.prechat.subjects.cr_servicio,error:"Debe seleccionar un asunto"},OnlineBanking:{type:"radio",label:"¿Cuenta con acceso a nuestra Banca en Línea?",required:!0,options:["Si","No"],error:"Debe seleccionar una opción"}},"sv-bel":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},email:{type:"email",label:"Email",required:!0,error:"Este no es un formato de correo electrónico válido"},PhoneNumber:{type:"text",label:"Teléfono",required:!0,validation:"[0-9-]+",error:"El teléfono debe contener solo números y guiones"},subject:{type:"hidden"}},"cr-monitoreo":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}},"pa-monitoreo":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}},"ni-monitoreo":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}},"hn-monitoreo":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}},"sv-monitoreo":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}},"gt-monitoreo":{firstname:{type:"text",label:"Nombre",required:!0},lastname:{type:"text",label:"Apellidos",required:!0},id:{type:"text",label:"Identificación",required:!0,validation:"[A-Za-z0-9-]+",error:"El número de identificación debe contener solo números, letras o guiones"},subject:{type:"hidden"}}};